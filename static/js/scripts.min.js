var EventDispatcher,relax;!function(t){var e,n,i,r,s,o,a,l=navigator.userAgent;t.HTMLPictureElement&&/ecko/.test(l)&&l.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(n=document.createElement("source"),i=function(t){var e,i,r=t.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(e=n.cloneNode(),r.insertBefore(e,r.firstElementChild),setTimeout(function(){r.removeChild(e)})):(!t._pfLastSize||t.offsetWidth>t._pfLastSize)&&(t._pfLastSize=t.offsetWidth,i=t.sizes,t.sizes+=",100vw",setTimeout(function(){t.sizes=i}))},r=function(){var t,e=document.querySelectorAll("picture > img, img[srcset][sizes]");for(t=0;t<e.length;t++)i(e[t])},s=function(){clearTimeout(e),e=setTimeout(r,99)},o=t.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){s(),o&&o.addListener&&o.addListener(s)},n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),s))}(window),function(t,e,n){"use strict";function i(t){return" "===t||"\t"===t||"\n"===t||"\f"===t||"\r"===t}function r(t,e){return t.res-e.res}function s(t,e){var n,i,r;if(t&&e)for(r=C.parseSet(e),t=C.makeUrl(t),n=0;n<r.length;n++)if(t===C.makeUrl(r[n].url)){i=r[n];break}return i}var o,a,l;e.createElement("picture");var c,h,u,d,p,f,g,m,v,_,y,x,w,b,E,T,S,C={},A=!1,P=function(){},O=e.createElement("img"),k=O.getAttribute,I=O.setAttribute,L=O.removeAttribute,M=e.documentElement,R={},N={algorithm:""},D="data-pfsrc",F=D+"set",B=navigator.userAgent,H=/rident/.test(B)||/ecko/.test(B)&&B.match(/rv\:(\d+)/)&&35<RegExp.$1,j="currentSrc",V=/\s+\+?\d+(e\d+)?w/,z=/(\([^)]+\))?\s*(.+)/,X=t.picturefillCFG,W="font-size:100%!important;",U=!0,Y={},q={},G=t.devicePixelRatio,$={px:1,in:96},Q=e.createElement("a"),J=!1,K=/^[ \t\n\r\u000c]+/,Z=/^[, \t\n\r\u000c]+/,tt=/^[^ \t\n\r\u000c]+/,et=/[,]+$/,nt=/^\d+$/,it=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,rt=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},st=function(t){var e={};return function(n){return n in e||(e[n]=t(n)),e[n]}},ot=(c=/^([\d\.]+)(em|vw|px)$/,h=st(function(t){return"return "+function(){for(var t=arguments,e=0,n=t[0];++e in t;)n=n.replace(t[e],t[++e]);return n}((t||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(t,e){var n;if(!(t in Y))if(Y[t]=!1,e&&(n=t.match(c)))Y[t]=n[1]*$[n[2]];else try{Y[t]=new Function("e",h(t))($)}catch(t){}return Y[t]}),at=function(t,e){return t.w?(t.cWidth=C.calcListLength(e||"100vw"),t.res=t.w/t.cWidth):t.res=t.d,t},lt=function(t){if(A){var n,i,r,s=t||{};if(s.elements&&1===s.elements.nodeType&&("IMG"===s.elements.nodeName.toUpperCase()?s.elements=[s.elements]:(s.context=s.elements,s.elements=null)),r=(n=s.elements||C.qsa(s.context||e,s.reevaluate||s.reselect?C.sel:C.selShort)).length){for(C.setupRun(s),J=!0,i=0;i<r;i++)C.fillImg(n[i],s);C.teardownRun(s)}}};t.console&&console.warn,j in O||(j="src"),R["image/jpeg"]=!0,R["image/gif"]=!0,R["image/png"]=!0,R["image/svg+xml"]=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),C.ns=("pf"+(new Date).getTime()).substr(0,9),C.supSrcset="srcset"in O,C.supSizes="sizes"in O,C.supPicture=!!t.HTMLPictureElement,C.supSrcset&&C.supPicture&&!C.supSizes&&(u=e.createElement("img"),O.srcset="data:,a",u.src="data:,a",C.supSrcset=O.complete===u.complete,C.supPicture=C.supSrcset&&C.supPicture),C.supSrcset&&!C.supSizes?(d="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f=function(){2===p.width&&(C.supSizes=!0),a=C.supSrcset&&!C.supSizes,A=!0,setTimeout(lt)},(p=e.createElement("img")).onload=f,p.onerror=f,p.setAttribute("sizes","9px"),p.srcset=d+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",p.src=d):A=!0,C.selShort="picture>img,img[srcset]",C.sel=C.selShort,C.cfg=N,C.DPR=G||1,C.u=$,C.types=R,C.setSize=P,C.makeUrl=st(function(t){return Q.href=t,Q.href}),C.qsa=function(t,e){return"querySelector"in t?t.querySelectorAll(e):[]},C.matchesMedia=function(){return t.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?C.matchesMedia=function(t){return!t||matchMedia(t).matches}:C.matchesMedia=C.mMQ,C.matchesMedia.apply(this,arguments)},C.mMQ=function(t){return!t||ot(t)},C.calcLength=function(t){var e=ot(t,!0)||!1;return e<0&&(e=!1),e},C.supportsType=function(t){return!t||R[t]},C.parseSize=st(function(t){var e=(t||"").match(z);return{media:e&&e[1],length:e&&e[2]}}),C.parseSet=function(t){return t.cands||(t.cands=function(t,e){function n(e){var n,i=e.exec(t.substring(d));if(i)return n=i[0],d+=n.length,n}function r(){var t,n,i,r,s,l,c,h,u,d=!1,f={};for(r=0;r<a.length;r++)l=(s=a[r])[s.length-1],c=s.substring(0,s.length-1),h=parseInt(c,10),u=parseFloat(c),nt.test(c)&&"w"===l?((t||n)&&(d=!0),0===h?d=!0:t=h):it.test(c)&&"x"===l?((t||n||i)&&(d=!0),u<0?d=!0:n=u):nt.test(c)&&"h"===l?((i||n)&&(d=!0),0===h?d=!0:i=h):d=!0;d||(f.url=o,t&&(f.w=t),n&&(f.d=n),i&&(f.h=i),i||n||t||(f.d=1),1===f.d&&(e.has1x=!0),f.set=e,p.push(f))}function s(){for(n(K),l="",c="in descriptor";;){if(h=t.charAt(d),"in descriptor"===c)if(i(h))l&&(a.push(l),l="",c="after descriptor");else{if(","===h)return d+=1,l&&a.push(l),void r();if("("===h)l+=h,c="in parens";else{if(""===h)return l&&a.push(l),void r();l+=h}}else if("in parens"===c)if(")"===h)l+=h,c="in descriptor";else{if(""===h)return a.push(l),void r();l+=h}else if("after descriptor"===c)if(i(h));else{if(""===h)return void r();c="in descriptor",d-=1}d+=1}}for(var o,a,l,c,h,u=t.length,d=0,p=[];;){if(n(Z),u<=d)return p;o=n(tt),a=[],","===o.slice(-1)?(o=o.replace(et,""),r()):s()}}(t.srcset,t)),t.cands},C.getEmValue=function(){var t;if(!o&&(t=e.body)){var n=e.createElement("div"),i=M.style.cssText,r=t.style.cssText;n.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",M.style.cssText=W,t.style.cssText=W,t.appendChild(n),o=n.offsetWidth,t.removeChild(n),o=parseFloat(o,10),M.style.cssText=i,t.style.cssText=r}return o||16},C.calcListLength=function(t){if(!(t in q)||N.uT){var e=C.calcLength(function(e){var n,r,s,o,a,l,c,h=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,u=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(s=(r=function(t){function e(){s&&(o.push(s),s="")}function n(){o[0]&&(a.push(o),o=[])}for(var r,s="",o=[],a=[],l=0,c=0,h=!1;;){if(""===(r=t.charAt(c)))return e(),n(),a;if(h){if("*"===r&&"/"===t[c+1]){h=!1,c+=2,e();continue}c+=1}else{if(i(r)){if(t.charAt(c-1)&&i(t.charAt(c-1))||!s){c+=1;continue}if(0===l){e(),c+=1;continue}r=" "}else if("("===r)l+=1;else if(")"===r)l-=1;else{if(","===r){e(),n(),c+=1;continue}if("/"===r&&"*"===t.charAt(c+1)){h=!0,c+=2;continue}}s+=r,c+=1}}}(t)).length,n=0;n<s;n++)if(c=a=(o=r[n])[o.length-1],h.test(c)&&0<=parseFloat(c)||u.test(c)||"0"===c||"-0"===c||"+0"===c){if(l=a,o.pop(),0===o.length)return l;if(o=o.join(" "),C.matchesMedia(o))return l}return"100vw"}());q[t]=e||$.width}return q[t]},C.setRes=function(t){var e;if(t)for(var n=0,i=(e=C.parseSet(t)).length;n<i;n++)at(e[n],t.sizes);return e},C.setRes.res=at,C.applySetCandidate=function(t,e){if(t.length){var n,i,o,a,l,c,h,u,d,p,f,g,m,v,_,y,x,w,b,E=e[C.ns],T=C.DPR;if(c=E.curSrc||e[j],(h=E.curCan||(p=e,f=c,!(g=t[0].set)&&f&&(g=(g=p[C.ns].sets)&&g[g.length-1]),(m=s(f,g))&&(f=C.makeUrl(f),p[C.ns].curSrc=f,(p[C.ns].curCan=m).res||at(m,m.set.sizes)),m))&&h.set===t[0].set&&((d=H&&!e.complete&&h.res-.1>T)||(h.cached=!0,h.res>=T&&(l=h))),!l)for(t.sort(r),l=t[(a=t.length)-1],i=0;i<a;i++)if((n=t[i]).res>=T){l=t[o=i-1]&&(d||c!==C.makeUrl(n.url))&&(v=t[o].res,_=n.res,y=T,x=t[o].cached,b=w=void 0,y<("saveData"===N.algorithm?2.7<v?y+1:(b=(_-y)*(w=Math.pow(v-.6,1.5)),x&&(b+=.1*w),v+b):1<y?Math.sqrt(v*_):v))?t[o]:n;break}l&&(u=C.makeUrl(l.url),E.curSrc=u,E.curCan=l,u!==c&&C.setSrc(e,l),C.setSize(e))}},C.setSrc=function(t,e){var n;t.src=e.url,"image/svg+xml"===e.set.type&&(n=t.style.width,t.style.width=t.offsetWidth+1+"px",t.offsetWidth+1&&(t.style.width=n))},C.getSet=function(t){var e,n,i,r=!1,s=t[C.ns].sets;for(e=0;e<s.length&&!r;e++)if((n=s[e]).srcset&&C.matchesMedia(n.media)&&(i=C.supportsType(n.type))){"pending"===i&&(n=i),r=n;break}return r},C.parseSets=function(t,e,i){var r,o,l,c,h=e&&"PICTURE"===e.nodeName.toUpperCase(),u=t[C.ns];(u.src===n||i.src)&&(u.src=k.call(t,"src"),u.src?I.call(t,D,u.src):L.call(t,D)),(u.srcset===n||i.srcset||!C.supSrcset||t.srcset)&&(r=k.call(t,"srcset"),u.srcset=r,c=!0),u.sets=[],h&&(u.pic=!0,function(t,e){var n,i,r,s,o=t.getElementsByTagName("source");for(n=0,i=o.length;n<i;n++)(r=o[n])[C.ns]=!0,(s=r.getAttribute("srcset"))&&e.push({srcset:s,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}(e,u.sets)),u.srcset?(o={srcset:u.srcset,sizes:k.call(t,"sizes")},u.sets.push(o),(l=(a||u.src)&&V.test(u.srcset||""))||!u.src||s(u.src,o)||o.has1x||(o.srcset+=", "+u.src,o.cands.push({url:u.src,d:1,set:o}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=n,u.supported=!(h||o&&!C.supSrcset||l&&!C.supSizes),c&&C.supSrcset&&!u.supported&&(r?(I.call(t,F,r),t.srcset=""):L.call(t,F)),u.supported&&!u.srcset&&(!u.src&&t.src||t.src!==C.makeUrl(u.src))&&(null===u.src?t.removeAttribute("src"):t.src=u.src),u.parsed=!0},C.fillImg=function(t,e){var n,i,r,s,o,a=e.reselect||e.reevaluate;t[C.ns]||(t[C.ns]={}),n=t[C.ns],(a||n.evaled!==l)&&(n.parsed&&!e.reevaluate||C.parseSets(t,t.parentNode,e),n.supported?n.evaled=l:(i=t,o=!1,"pending"!==(s=C.getSet(i))&&(o=l,s&&(r=C.setRes(s),C.applySetCandidate(r,i))),i[C.ns].evaled=o))},C.setupRun=function(){J&&!U&&G===t.devicePixelRatio||(U=!1,G=t.devicePixelRatio,Y={},q={},C.DPR=G||1,$.width=Math.max(t.innerWidth||0,M.clientWidth),$.height=Math.max(t.innerHeight||0,M.clientHeight),$.vw=$.width/100,$.vh=$.height/100,l=[$.height,$.width,G].join("-"),$.em=C.getEmValue(),$.rem=$.em)},C.supPicture?(lt=P,C.fillImg=P):(x=t.attachEvent?/d$|^c/:/d$|^c|^i/,w=function(){var t=e.readyState||"";b=setTimeout(w,"loading"===t?200:999),e.body&&(C.fillImgs(),(g=g||x.test(t))&&clearTimeout(b))},b=setTimeout(w,e.body?9:99),E=M.clientHeight,rt(t,"resize",(m=function(){U=Math.max(t.innerWidth||0,M.clientWidth)!==$.width||M.clientHeight!==E,E=M.clientHeight,U&&C.fillImgs()},y=function(){var t=new Date-_;t<99?v=setTimeout(y,99-t):(v=null,m())},function(){_=new Date,v||(v=setTimeout(y,99))})),rt(e,"readystatechange",w)),C.picturefill=lt,C.fillImgs=lt,C.teardownRun=P,lt._=C,t.picturefillCFG={pf:C,push:function(t){var e=t.shift();"function"==typeof C[e]?C[e].apply(C,t):(N[e]=t[0],J&&C.fillImgs({reselect:!0}))}};for(;X&&X.length;)t.picturefillCFG.push(X.shift());t.picturefill=lt,"object"==typeof module&&"object"==typeof module.exports?module.exports=lt:"function"==typeof define&&define.amd&&define("picturefill",function(){return lt}),C.supPicture||(R["image/webp"]=(T="image/webp",(S=new t.Image).onerror=function(){R[T]=!1,lt()},S.onload=function(){R[T]=1===S.width,lt()},S.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==","pending"))}(window,document),function(){function t(t){return function(e,n,i,r){n=y(n,r,4);var s=!C(e)&&_.keys(e),o=(s||e).length,a=0<t?0:o-1;return arguments.length<3&&(i=e[s?s[a]:a],a+=t),function(e,n,i,r,s,o){for(;0<=s&&s<o;s+=t){var a=r?r[s]:s;i=n(i,e[a],a,e)}return i}(e,n,i,s,a,o)}}function e(t){return function(e,n,i){n=x(n,i);for(var r=S(e),s=0<t?0:r-1;0<=s&&s<r;s+=t)if(n(e[s],s,e))return s;return-1}}function n(t,e,n){return function(i,r,s){var o=0,a=S(i);if("number"==typeof s)0<t?o=0<=s?s:Math.max(s+a,o):a=0<=s?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return i[s=n(i,r)]===r?s:-1;if(r!=r)return 0<=(s=e(h.call(i,o,a),_.isNaN))?s+o:-1;for(s=0<t?o:a-1;0<=s&&s<a;s+=t)if(i[s]===r)return s;return-1}}function i(t,e){var n=I.length,i=t.constructor,r=_.isFunction(i)&&i.prototype||a,s="constructor";for(_.has(t,s)&&!_.contains(e,s)&&e.push(s);n--;)(s=I[n])in t&&t[s]!==r[s]&&!_.contains(e,s)&&e.push(s)}var r=this,s=r._,o=Array.prototype,a=Object.prototype,l=Function.prototype,c=o.push,h=o.slice,u=a.toString,d=a.hasOwnProperty,p=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,v=function(){},_=function(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):r._=_,_.VERSION="1.8.3";var y=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,s){return t.call(e,n,i,r,s)}}return function(){return t.apply(e,arguments)}},x=function(t,e,n){return null==t?_.identity:_.isFunction(t)?y(t,e,n):_.isObject(t)?_.matcher(t):_.property(t)};_.iteratee=function(t,e){return x(t,e,1/0)};var w=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var s=arguments[r],o=t(s),a=o.length,l=0;l<a;l++){var c=o[l];e&&void 0!==n[c]||(n[c]=s[c])}return n}},b=function(t){if(!_.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},T=Math.pow(2,53)-1,S=E("length"),C=function(t){var e=S(t);return"number"==typeof e&&0<=e&&e<=T};_.each=_.forEach=function(t,e,n){var i,r;if(e=y(e,n),C(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var s=_.keys(t);for(i=0,r=s.length;i<r;i++)e(t[s[i]],s[i],t)}return t},_.map=_.collect=function(t,e,n){e=x(e,n);for(var i=!C(t)&&_.keys(t),r=(i||t).length,s=Array(r),o=0;o<r;o++){var a=i?i[o]:o;s[o]=e(t[a],a,t)}return s},_.reduce=_.foldl=_.inject=t(1),_.reduceRight=_.foldr=t(-1),_.find=_.detect=function(t,e,n){var i;return void 0!==(i=C(t)?_.findIndex(t,e,n):_.findKey(t,e,n))&&-1!==i?t[i]:void 0},_.filter=_.select=function(t,e,n){var i=[];return e=x(e,n),_.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},_.reject=function(t,e,n){return _.filter(t,_.negate(x(e)),n)},_.every=_.all=function(t,e,n){e=x(e,n);for(var i=!C(t)&&_.keys(t),r=(i||t).length,s=0;s<r;s++){var o=i?i[s]:s;if(!e(t[o],o,t))return!1}return!0},_.some=_.any=function(t,e,n){e=x(e,n);for(var i=!C(t)&&_.keys(t),r=(i||t).length,s=0;s<r;s++){var o=i?i[s]:s;if(e(t[o],o,t))return!0}return!1},_.contains=_.includes=_.include=function(t,e,n,i){return C(t)||(t=_.values(t)),("number"!=typeof n||i)&&(n=0),0<=_.indexOf(t,e,n)},_.invoke=function(t,e){var n=h.call(arguments,2),i=_.isFunction(e);return _.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},_.pluck=function(t,e){return _.map(t,_.property(e))},_.where=function(t,e){return _.filter(t,_.matcher(e))},_.findWhere=function(t,e){return _.find(t,_.matcher(e))},_.max=function(t,e,n){var i,r,s=-1/0,o=-1/0;if(null==e&&null!=t)for(var a=0,l=(t=C(t)?t:_.values(t)).length;a<l;a++)i=t[a],s<i&&(s=i);else e=x(e,n),_.each(t,function(t,n,i){r=e(t,n,i),(o<r||r===-1/0&&s===-1/0)&&(s=t,o=r)});return s},_.min=function(t,e,n){var i,r,s=1/0,o=1/0;if(null==e&&null!=t)for(var a=0,l=(t=C(t)?t:_.values(t)).length;a<l;a++)(i=t[a])<s&&(s=i);else e=x(e,n),_.each(t,function(t,n,i){((r=e(t,n,i))<o||1/0===r&&1/0===s)&&(s=t,o=r)});return s},_.shuffle=function(t){for(var e,n=C(t)?t:_.values(t),i=n.length,r=Array(i),s=0;s<i;s++)(e=_.random(0,s))!==s&&(r[s]=r[e]),r[e]=n[s];return r},_.sample=function(t,e,n){return null==e||n?(C(t)||(t=_.values(t)),t[_.random(t.length-1)]):_.shuffle(t).slice(0,Math.max(0,e))},_.sortBy=function(t,e,n){return e=x(e,n),_.pluck(_.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,n,i){var r={};return n=x(n,i),_.each(e,function(i,s){var o=n(i,s,e);t(r,i,o)}),r}};_.groupBy=A(function(t,e,n){_.has(t,n)?t[n].push(e):t[n]=[e]}),_.indexBy=A(function(t,e,n){t[n]=e}),_.countBy=A(function(t,e,n){_.has(t,n)?t[n]++:t[n]=1}),_.toArray=function(t){return t?_.isArray(t)?h.call(t):C(t)?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:C(t)?t.length:_.keys(t).length},_.partition=function(t,e,n){e=x(e,n);var i=[],r=[];return _.each(t,function(t,n,s){(e(t,n,s)?i:r).push(t)}),[i,r]},_.first=_.head=_.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:_.initial(t,t.length-e)},_.initial=function(t,e,n){return h.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},_.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:_.rest(t,Math.max(0,t.length-e))},_.rest=_.tail=_.drop=function(t,e,n){return h.call(t,null==e||n?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var P=function(t,e,n,i){for(var r=[],s=0,o=i||0,a=S(t);o<a;o++){var l=t[o];if(C(l)&&(_.isArray(l)||_.isArguments(l))){e||(l=P(l,e,n));var c=0,h=l.length;for(r.length+=h;c<h;)r[s++]=l[c++]}else n||(r[s++]=l)}return r};_.flatten=function(t,e){return P(t,e,!1)},_.without=function(t){return _.difference(t,h.call(arguments,1))},_.uniq=_.unique=function(t,e,n,i){_.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=x(n,i));for(var r=[],s=[],o=0,a=S(t);o<a;o++){var l=t[o],c=n?n(l,o,t):l;e?(o&&s===c||r.push(l),s=c):n?_.contains(s,c)||(s.push(c),r.push(l)):_.contains(r,l)||r.push(l)}return r},_.union=function(){return _.uniq(P(arguments,!0,!0))},_.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=S(t);i<r;i++){var s=t[i];if(!_.contains(e,s)){for(var o=1;o<n&&_.contains(arguments[o],s);o++);o===n&&e.push(s)}}return e},_.difference=function(t){var e=P(arguments,!0,!0,1);return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(t){for(var e=t&&_.max(t,S).length||0,n=Array(e),i=0;i<e;i++)n[i]=_.pluck(t,i);return n},_.object=function(t,e){for(var n={},i=0,r=S(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},_.findIndex=e(1),_.findLastIndex=e(-1),_.sortedIndex=function(t,e,n,i){for(var r=(n=x(n,i,1))(e),s=0,o=S(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<r?s=a+1:o=a}return s},_.indexOf=n(1,_.findIndex,_.sortedIndex),_.lastIndexOf=n(-1,_.findLastIndex),_.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),s=0;s<i;s++,t+=n)r[s]=t;return r};var O=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var s=b(t.prototype),o=t.apply(s,r);return _.isObject(o)?o:s};_.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,h.call(arguments,1));if(!_.isFunction(t))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),i=function(){return O(t,i,e,this,n.concat(h.call(arguments)))};return i},_.partial=function(t){var e=h.call(arguments,1),n=function(){for(var i=0,r=e.length,s=Array(r),o=0;o<r;o++)s[o]=e[o]===_?arguments[i++]:e[o];for(;i<arguments.length;)s.push(arguments[i++]);return O(t,n,this,this,s)};return n},_.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=_.bind(t[n],t);return t},_.memoize=function(t,e){var n=function(i){var r=n.cache,s=""+(e?e.apply(this,arguments):i);return _.has(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return n.cache={},n},_.delay=function(t,e){var n=h.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},_.defer=_.partial(_.delay,_,1),_.throttle=function(t,e,n){var i,r,s,o=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:_.now(),o=null,s=t.apply(i,r),o||(i=r=null)};return function(){var c=_.now();a||!1!==n.leading||(a=c);var h=e-(c-a);return i=this,r=arguments,h<=0||e<h?(o&&(clearTimeout(o),o=null),a=c,s=t.apply(i,r),o||(i=r=null)):o||!1===n.trailing||(o=setTimeout(l,h)),s}},_.debounce=function(t,e,n){var i,r,s,o,a,l=function(){var c=_.now()-o;c<e&&0<=c?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(s,r),i||(s=r=null)))};return function(){s=this,r=arguments,o=_.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(s,r),s=r=null),a}},_.wrap=function(t,e){return _.partial(e,t)},_.negate=function(t){return function(){return!t.apply(this,arguments)}},_.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},_.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},_.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},_.once=_.partial(_.before,2);var k=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(t){if(!_.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)_.has(t,n)&&e.push(n);return k&&i(t,e),e},_.allKeys=function(t){if(!_.isObject(t))return[];var e=[];for(var n in t)e.push(n);return k&&i(t,e),e},_.values=function(t){for(var e=_.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},_.mapObject=function(t,e,n){e=x(e,n);for(var i,r=_.keys(t),s=r.length,o={},a=0;a<s;a++)o[i=r[a]]=e(t[i],i,t);return o},_.pairs=function(t){for(var e=_.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},_.invert=function(t){for(var e={},n=_.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},_.functions=_.methods=function(t){var e=[];for(var n in t)_.isFunction(t[n])&&e.push(n);return e.sort()},_.extend=w(_.allKeys),_.extendOwn=_.assign=w(_.keys),_.findKey=function(t,e,n){e=x(e,n);for(var i,r=_.keys(t),s=0,o=r.length;s<o;s++)if(e(t[i=r[s]],i,t))return i},_.pick=function(t,e,n){var i,r,s={},o=t;if(null==o)return s;_.isFunction(e)?(r=_.allKeys(o),i=y(e,n)):(r=P(arguments,!1,!1,1),i=function(t,e,n){return e in n},o=Object(o));for(var a=0,l=r.length;a<l;a++){var c=r[a],h=o[c];i(h,c,o)&&(s[c]=h)}return s},_.omit=function(t,e,n){if(_.isFunction(e))e=_.negate(e);else{var i=_.map(P(arguments,!1,!1,1),String);e=function(t,e){return!_.contains(i,e)}}return _.pick(t,e,n)},_.defaults=w(_.allKeys,!0),_.create=function(t,e){var n=b(t);return e&&_.extendOwn(n,e),n},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t},_.isMatch=function(t,e){var n=_.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),s=0;s<i;s++){var o=n[s];if(e[o]!==r[o]||!(o in r))return!1}return!0};var L=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var r=u.call(t);if(r!==u.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var s="[object Array]"===r;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(_.isFunction(o)&&o instanceof o&&_.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!L(t[l],e[l],n,i))return!1}else{var c,h=_.keys(t);if(l=h.length,_.keys(e).length!==l)return!1;for(;l--;)if(c=h[l],!_.has(e,c)||!L(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};_.isEqual=function(t,e){return L(t,e)},_.isEmpty=function(t){return null==t||(C(t)&&(_.isArray(t)||_.isString(t)||_.isArguments(t))?0===t.length:0===_.keys(t).length)},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=p||function(t){return"[object Array]"===u.call(t)},_.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){_["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return _.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(t){return"function"==typeof t||!1}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!==+t},_.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return null!=t&&d.call(t,e)},_.noConflict=function(){return r._=s,this},_.identity=function(t){return t},_.constant=function(t){return function(){return t}},_.noop=function(){},_.property=E,_.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},_.matcher=_.matches=function(t){return t=_.extendOwn({},t),function(e){return _.isMatch(e,t)}},_.times=function(t,e,n){var i=Array(Math.max(0,t));e=y(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},_.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=_.invert(M),N=function(t){var e=function(e){return t[e]},n="(?:"+_.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};_.escape=N(M),_.unescape=N(R),_.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),_.isFunction(i)?i.call(t):i};var D=0;_.uniqueId=function(t){var e=++D+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,j=function(t){return"\\"+B[t]};_.template=function(t,e,n){!e&&n&&(e=n),e=_.defaults({},e,_.templateSettings);var i=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(i,function(e,n,i,o,a){return s+=t.slice(r,a).replace(H,j),r=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(e.variable||"obj","_",s)}catch(e){throw e.source=s,e}var a=function(t){return o.call(this,t,_)},l=e.variable||"obj";return a.source="function("+l+"){\n"+s+"}",a},_.chain=function(t){var e=_(t);return e._chain=!0,e};var V=function(t,e){return t._chain?_(e).chain():e};_.mixin=function(t){_.each(_.functions(t),function(e){var n=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),V(this,n.apply(_,t))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];_.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],V(this,n)}}),_.each(["concat","join","slice"],function(t){var e=o[t];_.prototype[t]=function(){return V(this,e.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}.call(this),function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("underscore");try{n=require("jquery")}catch(n){}t(e,exports,i,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,i){var r=t.Backbone,s=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=function(t,i,r){switch(e){case 1:return function(){return n[i](this[r])};case 2:return function(t){return n[i](this[r],t)};case 3:return function(t,e){return n[i](this[r],a(t,this),e)};case 4:return function(t,e,s){return n[i](this[r],a(t,this),e,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),n[i].apply(n,t)}}}(0,r,i))})},a=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,u=function(t,e,i,r,s){var o,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in s&&void 0===s.context&&(s.context=r);for(o=n.keys(i);a<o.length;a++)e=u(t,e,o[a],i[o[a]],s)}else if(i&&h.test(i))for(o=i.split(h);a<o.length;a++)e=t(e,o[a],r,s);else e=t(e,i,r,s);return e};c.on=function(t,e,n){return d(this,t,e,n)};var d=function(t,e,n,i,r){return t._events=u(p,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};c.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[r];if(!o){var a=this._listenId||(this._listenId=n.uniqueId("l"));o=s[r]={obj:t,objId:r,id:a,listeningTo:s,count:0}}return d(t,e,i,this,o),this};var p=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),s=i.context,o=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:s,ctx:s||o,listening:a})}return t};c.off=function(t,e,n){return this._events&&(this._events=u(f,this._events,t,e,{context:n,listeners:this._listeners})),this},c.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var s=t?[t._listenId]:n.keys(r),o=0;o<s.length;o++){var a=r[s[o]];if(!a)break;a.obj.off(e,i,this)}return this};var f=function(t,e,i,r){if(t){var s,o=0,a=r.context,l=r.listeners;if(e||i||a){for(var c=e?[e]:n.keys(t);o<c.length;o++){var h=t[e=c[o]];if(!h)break;for(var u=[],d=0;d<h.length;d++){var p=h[d];i&&i!==p.callback&&i!==p.callback._callback||a&&a!==p.context?u.push(p):(s=p.listening)&&0==--s.count&&(delete l[s.id],delete s.listeningTo[s.objId])}u.length?t[e]=u:delete t[e]}return t}for(var f=n.keys(l);o<f.length;o++)delete l[(s=l[f[o]]).id],delete s.listeningTo[s.objId]}};c.once=function(t,e,i){var r=u(g,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},c.listenToOnce=function(t,e,i){var r=u(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var s=t[e]=n.once(function(){r(e,s),i.apply(this,arguments)});s._callback=i}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return u(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],s=t.all;r&&s&&(s=s.slice()),r&&v(r,i),s&&v(s,[e].concat(i))}return t},v=function(t,e){var n,i=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var _=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){
return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var s=i.unset,o=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,h=this.changed,u=this._previousAttributes;for(var d in r)e=r[d],n.isEqual(c[d],e)||a.push(d),n.isEqual(u[d],e)?delete h[d]:h[d]=e,s?delete c[d]:c[d]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],i)}if(l)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var s=t[r];n.isEqual(e[r],s)||(i[r]=s)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},F(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var s=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!s){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var o=this,a=i.success,l=this.attributes;i.success=function(t){o.attributes=l;var e=i.parse?o.parse(t,i):t;if(s&&(e=n.extend({},r,e)),e&&!o.set(e,i))return!1;a&&a.call(i.context,o,t,i),o.trigger("sync",o,t,i)},F(this,i),r&&s&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var h=this.sync(c,this,i);return this.attributes=l,h},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)},o=!(t.success=function(n){r&&s(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)});return this.isNew()?n.defer(t.success):(F(this,t),o=this.sync("delete",this,t)),r||s(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),o(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var y=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},b=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),s=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<s;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+s+n]=r[i]};n.extend(y.prototype,c,{model:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.extend({},x,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var s,o,a=[],l=[],c=[],h=[],u={},d=e.add,p=e.merge,f=e.remove,g=!1,m=this.comparator&&null==r&&!1!==e.sort,v=n.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var _=this.get(s);if(_){if(p&&s!==_){var y=this._isModel(s)?s.attributes:s;e.parse&&(y=_.parse(y,e)),_.set(y,e),c.push(_),m&&!g&&(g=_.hasChanged(v))}u[_.cid]||(u[_.cid]=!0,a.push(_)),t[o]=_}else d&&(s=t[o]=this._prepareModel(s,e))&&(l.push(s),this._addReference(s,e),u[s.cid]=!0,a.push(s))}if(f){for(o=0;o<this.length;o++)u[(s=this.models[o]).cid]||h.push(s);h.length&&this._removeModels(h,e)}var w=!1,E=!m&&d&&f;if(a.length&&E?(w=this.length!==a.length||n.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,b(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),b(this.models,l,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(o=0;o<l.length;o++)null!=r&&(e.index=r+o),(s=l[o]).trigger("add",s,this,e);(g||w)&&this.trigger("sort",this,e),(l.length||h.length||c.length)&&(e.changes={added:l,removed:h,merged:c},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,s=e.success;return e.success=function(t,e,n){i&&r.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;var i=new(((e=e?n.clone(e):{}).collection=this).model)(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}}),o(y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var E=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,S)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(T);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var s=C[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||D()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var c=r.xhr=e.ajax(n.extend(o,r));return i.trigger("request",i,c,r),c};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,k=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,c,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return e.history.route(t,function(n){var o=s._extractParameters(t,n);!1!==s.execute(r,o,i)&&(s.trigger.apply(s,["route:"+i].concat(o)),s.trigger("route",i,o),e.history.trigger("route",s,i,o))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(I,"\\$&").replace(P,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/?]+)"}).replace(k,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var L=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,N=/#.*$/;L.started=!1,n.extend(L.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(M,"")},start:function(t){if(L.started)throw new Error("Backbone.history has already been started");if(L.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!L.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(N,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new L,_.extend=y.extend=A.extend=E.extend=L.extend=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),(i.prototype.constructor=i).__super__=r.prototype,i};var D=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}),"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(t){return function(n){var i=e.className.split(/\s+/),r=i.indexOf(n);t(i,r,n),e.className=i.join(" ")}}var e=this,n={add:t(function(t,e,n){~e||t.push(n)}),remove:t(function(t,e){~e&&t.splice(e,1)}),toggle:t(function(t,e,n){~e?t.splice(e,1):t.push(n)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}};return Object.defineProperty(n,"length",{get:function(){return e.className.split(/\s+/).length}}),n}}),function(){var t=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!t&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;t=!0;var s=new this;for(var o in t=!1,n)s[o]="function"==typeof n[o]&&"function"==typeof r[o]&&e.test(n[o])?function(t,e){return function(){var n=this._super;this._super=r[t];var i=e.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return((i.prototype=s).constructor=i).extend=arguments.callee,i},"function"==typeof define&&define.amd&&define("Class",function(){return Class})}(),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var s,o,a=[];for(s in r)t.call(r,s)&&a.push(s);if(e)for(o=0;o<i;o++)t.call(r,n[o])&&a.push(n[o]);return a}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),(relax={animation:{},browser:{},math:{},geom:{},color:{},performance:{},layout:{},caniuse:{},dom:{},tools:{},displayObject:{}}).geom.lineDistance=function(t,e){var n=0,i=0;return n=e.x-t.x,n*=n,i=e.y-t.y,i*=i,Math.sqrt(n+i)},relax.geom.degToRad=function(t){return t/180*Math.PI},relax.geom.radToDeg=function(t){return 180*t/Math.PI},relax.geom.getXYFromMouseTouchEvent=function(t){var e=null;return t.originalEvent?e=t.originalEvent.touches||t.originalEvent.changedTouches:t.changedTouches&&(e=t.changedTouches),e?{x:e[0].pageX,y:e[0].pageY,touches:e[0]}:{x:t.pageX,y:t.pageY,touches:null}},relax.geom.getDistanceFromLatLonInKm=function(t,e,n,i){var r=relax.geom.degToRad(n-t),s=relax.geom.degToRad(i-e),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(relax.geom.degToRad(t))*Math.cos(relax.geom.degToRad(n))*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371},relax.dom.bindSelect=function(t,e,n){var i=relax.browser.getInternetExplorerVersion()<=8&&-1!==relax.browser.getInternetExplorerVersion(),r=n;i?$(t).bind("propertychange",function(t){"propertychange"==t.type&&"value"==event.propertyName.toLowerCase()&&(t.target.selectedIndex=this.selectedIndex,r(t))}):$(t).change(relax.dom.bind(e,r))},relax.dom.bind=function(t,e){return function(){e.apply(t,arguments)}},relax.tools.checkInterface=function(t,e){for(var n in e)if(typeof t[n]!=typeof e[n])return log("object failed to implement interface member "+n),!1;return!0},relax.setLog=function(t){t?window.log=function(){}:-1===relax.browser.getInternetExplorerVersion()?(Function.prototype.bind&&("object"==typeof console||"function"==typeof console)&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(t){console[t]=this.call(console[t],console)},Function.prototype.bind),window.log||(window.log=function(){var t,e,n,i,r=arguments,s=!1;if(log.history=log.history||[],log.history.push(arguments),log.detailPrint&&log.needDetailPrint&&(t=navigator.userAgent,e=/Windows\sNT\s(\d+\.\d+)/,console&&console.log&&/MSIE\s(\d+)/.test(t)&&e.test(t)&&6.1<=parseFloat(e.exec(t)[1])&&(s=!0)),s||"undefined"!=typeof console&&"function"==typeof console.log)if(log.detailPrint&&log.needDetailPrint&&log.needDetailPrint())for(console.log("-----------------"),r=log.detailPrint(r),i=0;i<r.length;)console.log(r[i]),i++;else 1===Array.prototype.slice.call(r).length&&"string"==typeof Array.prototype.slice.call(r)[0]?console.log(Array.prototype.slice.call(r).toString()):console.log(Array.prototype.slice.call(r));else if(Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log)document.getElementById("firebug-lite")?setTimeout(function(){window.log.apply(window,r)},500):((n=document.createElement("script")).type="text/javascript",n.id="firebug-lite",n.src="https://getfirebug.com/firebug-lite.js",document.getElementsByTagName("HEAD")[0].appendChild(n),setTimeout(function(){window.log.apply(window,r)},2e3));else if(log.detailPrint)for(Function.prototype.call.call(console.log,console,Array.prototype.slice.call(["-----------------"])),r=log.detailPrint(r),i=0;i<r.length;)Function.prototype.call.call(console.log,console,Array.prototype.slice.call([r[i]])),i++;else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(r))})):window.log=function(){if(log.history=log.history||[],log.history.push(arguments),this.console){var t,e=arguments;e.callee=e.callee.caller,t=[].slice.call(e),"object"==typeof console.log?log.apply.call(console.log,console,t):console.log.apply(console,t)}}},function(t){"use strict";var e,n=t.document,i=/^(#?[\w-]+|\.[\w-.]+)$/,r=/\./g,s=[].slice;t.query=function(t,o){if(o=o||n,i.test(t))switch(t.charAt(0)){case"#":return[o.getElementById(t.substr(1))];case".":return e=t.substr(1).replace(r," "),s.call(o.getElementsByClassName(e));default:return s.call(o.getElementsByTagName(t))}return s.call(o.querySelectorAll(t))}}(this),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelRequestAnimationFrame=window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),r=window.setTimeout(function(){e(n+i)},i);return t=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),(relax=relax||{}).array||(relax.array={}),relax.date={},relax.array.equals=function(t,e){if(!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=z.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!relax.array.equals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},relax.array.equalInPercent=function(t,e){if(!e)return 0;for(var n=100/t.length*.01,i=0,r=0,s=t.length;r<s;r++)t[r]==e[r]&&r<e.length&&(i+=n);return i},relax.date.getWeek=function(t){t="int"==typeof t?t:1;var e=new Date(this.getFullYear(),0,1),n=e.getDay()-t;n=0<=n?n:n+7;var i,r=Math.floor((this.getTime()-e.getTime()-6e4*(this.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)+1;return n<4?52<(i=Math.floor((r+n-1)/7)+1)&&(nYear=new Date(this.getFullYear()+1,0,1),nday=nYear.getDay()-t,nday=0<=nday?nday:nday+7,i=nday<4?1:53):i=Math.floor((r+n-1)/7),i},HTMLElement.prototype.index||(HTMLElement.prototype.index=function(){for(var t=this,e=t.parentNode,n=0;t.previousElementSibling;)n++,t=t.previousElementSibling;return this===e.children[n]?n:-1}),(relax=relax||{}).browser||(relax.browser={}),relax.browser.isIOS=function(){return!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))},relax.browser.isMacintosh=function(){return-1<navigator.platform.indexOf("Mac")},relax.browser.isWindows=function(){return-1<navigator.platform.indexOf("Win")},relax.browser.isFirefox=function(){return 0<navigator.userAgent.lastIndexOf("Firefox/")&&Number(navigator.userAgent.match(/Firefox\/([1]{1}[7-9]{1}|[2-9]{1}[0-9]{1})/)[1])},relax.browser.getIOSVersion=function(){if(!relax.browser.isIOS())return-1;var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)];return parseFloat(e.join("."))},relax.browser.getAndroidVersion=function(){var t=navigator.userAgent.toLowerCase().match(/android\s([0-9\.]*)/);return parseFloat(t?t[1]:-1)},relax.browser.isTouch=function(){return!!("ontouchstart"in window)||!!("msmaxtouchpoints"in window.navigator)},relax.browser.isAndroid=function(){return!!navigator.userAgent.match(/Android/i)},relax.browser.isWindowsPhone=function(){return!(!navigator.userAgent.match(/Windows Phone/i)&&!navigator.userAgent.match(/IEMobile/i))},relax.browser.isTablet=function(){var t=relax.browser.isAndroid()&&!navigator.userAgent.match(/Mobile/i)&&!navigator.userAgent.match(/mobile/i);return!(!navigator.userAgent.match(/iPad/i)&&!t)},relax.browser.isMobile=function(){var t=!relax.browser.isTablet()&&(navigator.userAgent.match(/Mobile/i)||navigator.userAgent.match(/mobile/i)),e=!relax.browser.isTablet()&&relax.browser.isIOS(),n=relax.browser.isWindowsPhone();return!!(t||e||n)},relax.browser.isWebKit=function(){return"WebkitAppearance"in document.documentElement.style},relax.browser.getInternetExplorerVersion=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(e=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)));return t},relax.browser.getMouseEvent=function(t){var e=[];return e.mousedown="ontouchstart"in window&&relax.browser.isTouch()?"touchstart":"mousedown",e.mouseup="ontouchstart"in window&&relax.browser.isTouch()?"touchend":"mouseup",e.mousemove="ontouchstart"in window&&relax.browser.isTouch()?"touchmove":"mousemove",e[t]},relax.browser.serverReachable=function(t,e){(null==e||null==e)&&(e=!1);var n,i=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");i.open("HEAD","//"+window.location.hostname+"/?rand="+Math.random(),e);try{i.send();var r=!(200<=(n=i.status)&&n<300||304===n);return t&&t(r),r}catch(e){return t&&t(!0),!0}},(relax=relax||{}).caniuse=relax.caniuse||{},relax.caniuse.pushstate=function(){return!(!window.history||!history.pushState)},relax.caniuse.serviceWorker=function(){return"serviceWorker"in navigator},relax.caniuse.canvas=function(){if(null==this._canvasSupported||null==this._canvasSupported){var t=document.createElement("canvas");this._canvasSupported=!(!t.getContext||!t.getContext("2d"))}return this._canvasSupported},relax.caniuse.localstorage=function(){try{return localStorage.setItem("rwatgg_hello_storage","mod"),localStorage.removeItem("rwatgg_hello_storage"),!0}catch(t){return!1}},relax.caniuse.cssBlendmodes=function(){try{if("CSS"in window&&"supports"in window.CSS)return window.CSS.supports("mix-blend-mode","soft-light")}catch(t){return!1}return!1},relax.caniuse.mp4=function(){return"boolean"==typeof this._mp4Supported||(this._mp4Supported=!!document.createElement("video").canPlayType("video/mp4; codecs=avc1.42E01E,mp4a.40.2")),this._mp4Supported},relax.caniuse.cssgradients=function(){if("boolean"==typeof this.cssGradientSupported)return this.cssGradientSupported;var t="background-image:",e=" -webkit- -moz- -o- -ms- ".split(" "),n=(t+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+e.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length),i=document.createElement("div").style;return i.cssText=n,this.cssGradientSupported=-1<(""+i.backgroundImage).indexOf("gradient"),this.cssGradientSupported},relax.caniuse.WebGL=function(){if("boolean"==typeof this._webglSupported)return this._webglSupported;var t=document.createElement("canvas");return this._webglSupported=!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl")),this._webglSupported},relax.caniuse.AudioContext=function(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,!!window.AudioContext},relax.caniuse.FileReader=function(){return!!(window.FileReader&&window.File&&window.FileList&&window.Blob)},relax.caniuse.flexbox=function(){var t=!1,e="flex",n="-webkit-"+e,i=document.createElement("b");try{i.style.display=n,i.style.display=e,(i.style.display==e||i.style.display==n)&&(t=!0)}catch(i){t=!1}return t},relax.caniuse.passiveEvents=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t},(relax=relax||{}).color||(relax.color={}),relax.color.rgb2hex=function(t,e,n,i,r){function s(t){var e=t.toString(16);return 1==e.length?"0"+e:e}return i||(i=255),r?i<<24|t<<16|e<<8|n:(i<=1&&(i=Math.round(255*i)),"#"+s(t)+s(e)+s(n))},relax.color.hex2rgb=function(t){var e={};return e.red=t>>16&255,e.green=t>>8&255,e.blue=255&t,e},relax.color.hex2css=function(t){return"#"+t.toString(16)},relax.color.getBetweenColourByPercent=function(t,e,n){var i=e>>16,r=e>>8&255,s=255&e,o=(i+=((n>>16)-i)*t)<<16|(r+=((n>>8&255)-r)*t)<<8|(s+=((255&n)-s)*t);return relax.color.hex2css(o)},relax.color.similar=function(t,e,n){n||(n=.01);var i=relax.color.hex2rgb(t),r=relax.color.hex2rgb(e);n=195075*n<<0;var s=0;return s+=Math.pow(i.red-r.red,2),s+=Math.pow(i.green-r.green,2),(s+=Math.pow(i.blue-r.blue,2))<=n},relax.color.different=function(t,e,n){n||(n=.01);for(var i=0;i<e.length;i++)if(relax.color.similar(t,e[i],n))return!1;return!0},relax.color.uniqueColours=function(t,e,n){n||(n=.01);for(var i=[],r=0;r<t.length&&i.length<e;r++)relax.color.different(t[r],i,n)&&i.push(t[r]);return i},relax.color.indexColours=function(t,e){e||(e=!0);for(var n,i=t.getContext("2d").getImageData(0,0,t.width,t.height).data,r=[],s=0,o=i.length;s<o;s+=4)n=relax.color.rgb2hex(i[s],i[s+1],i[s+2]),
r.push({colour:n,count:r.length});return e?r.sort(function(t,e){return t.count>e.count?1:t.count<e.count?-1:0}):r},relax.color.averageColour=function(t){for(var e=0,n=0,i=0,r=0,s=t.getContext("2d").getImageData(0,0,t.width,t.height).data,o=0,a=s.length;o<a;o+=4)e+=s[o],n+=s[o+1],i+=s[o+2],r++;return e=~~(e/r),n=~~(n/r),i=~~(i/r),relax.color.rgb2hex(e,n,i,1,!1)},relax.color.averageColours=function(t,e){for(var n,i,r,s=new Array,o=Math.round(Math.sqrt(e)),a=t.getContext("2d"),l=0,c=0,h=0,u=0,d=Math.round(t.width/o),p=Math.round(t.height/o),f=0;f<e;f++)i=(n=document.createElement("canvas")).getContext("2d"),r=a.getImageData(h,u,d,p),i.putImageData(r,10,70),s.push(relax.color.averageColour(n)),h=d*(c=f%o),u=p*l,c==o-1&&l++;return s},relax.color.shadeColor=function(t,e){var n=parseInt(t.slice(1),16),i=e<0?0:255,r=e<0?-1*e:e,s=n>>16,o=n>>8&255,a=255&n;return"#"+(16777216+65536*(Math.round((i-s)*r)+s)+256*(Math.round((i-o)*r)+o)+(Math.round((i-a)*r)+a)).toString(16).slice(1)},relax.color.blendColors=function(t,e,n){var i=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),s=i>>16,o=i>>8&255,a=255&i,l=r>>16,c=r>>8&255,h=255&r;return"#"+(16777216+65536*(Math.round((l-s)*n)+s)+256*(Math.round((c-o)*n)+o)+(Math.round((h-a)*n)+a)).toString(16).slice(1)},(relax=relax||{}).displayObject||(relax.displayObject={}),relax.displayObject.statsWrapper={stats:null,init:function(){this.stats=new Stats,this.stats.getDomElement().style.position="fixed",this.stats.getDomElement().style.left="0px",this.stats.getDomElement().style.top="0px",document.body.appendChild(this.stats.getDomElement()),RenderQue.add(this)},renderQueCall:function(){this.stats.update()}},relax.displayObject.Image=Class.extend({_callbacks:null,progress:0,_convertToBase64:!1,_allowProgress:!1,src:null,data:null,loading:!1,loaded:!1,naturalWidth:0,naturalHeight:0,init:function(t){t&&t.src&&(this.src=t.src),t&&!0===t.convertToBase64&&(this._convertToBase64=!0),t&&!0===t.progress&&(this._allowProgress=!0)},load:function(t,e,n){this.progress=0,this.loading=!0,"string"==typeof t?(this.src=t,this._allowProgress=!0!==n):(e=t.callback,t.src&&(this.src=t.src)),this.addCallback(e);var i=0<relax.browser.getInternetExplorerVersion()&&relax.browser.getInternetExplorerVersion()<10;!this._allowProgress||i?(this.data=new Image,this.data.onload=relax.dom.bind(this,this.onImageLoaded),this.data.src=this.src):(this.request=new XMLHttpRequest,this.request.onprogress=relax.dom.bind(this,this.onLoadProgress),this.request.onload=relax.dom.bind(this,this.onRequestLoaded),this.request.open("GET",this.src,!0),this.request.overrideMimeType("text/plain; charset=x-user-defined"),this.request.send(null))},addCallback:function(t){this._callbacks||(this._callbacks=[]),-1==this._callbacks.indexOf(t)&&this._callbacks.push(t)},onRequestLoaded:function(){-(this.progress=1)===this.src.indexOf(".gif")&&this._convertToBase64&&this._allowProgress?(this.data=new Image,this.data.onload=relax.dom.bind(this,this.onImageLoaded),this.data.src="data:image/jpeg;base64,"+this.base64Encode(this.request.responseText)):this.data?this.onImageLoaded():(this.data=new Image,this.data.onload=relax.dom.bind(this,this.onImageLoaded),this.data.src=this.src)},onLoadProgress:function(t){t.lengthComputable&&!this.loaded&&(this.progress=t.loaded/t.total)},stop:function(){this.loading=!1,this.data&&!this.loaded&&(this.data.src=""),this.request&&(this.request.onprogress=null,this.request.onload=null,this.request.abort())},getProgress:function(){return this._progress},dealoc:function(){this.stop(),this.data&&(this.data.onload=void 0,this.data=null),this._callbacks=null,this.request=null},onImageLoaded:function(){this.loading=!1,this.progress=1,this.naturalWidth=this.data.naturalWidth,this.naturalHeight=this.data.naturalHeight,this.loaded=!0;for(var t=0;t<this._callbacks.length;t++)this._callbacks[t](this)},base64Encode:function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",i=0;i<t.length;){var r,s,o=255&t.charCodeAt(i++),a=255&t.charCodeAt(i++),l=255&t.charCodeAt(i++),c=o>>2,h=(3&o)<<4|a>>4;isNaN(a)?r=s=64:(r=(15&a)<<2|l>>6,s=isNaN(l)?64:63&l),n+=e.charAt(c)+e.charAt(h)+e.charAt(r)+e.charAt(s)}return n}}),(relax=relax||{}).layout||(relax.layout={}),relax.layout.DeviceOrientChange=function(t){var e=90===Math.abs(window.orientation)?"Landscape":"Portrait";t(e,window.orientation),window.onorientationchange=function(){e=90===Math.abs(window.orientation)?"Landscape":"Portrait",t(e,window.orientation)}},relax.layout.scaleToRect=function(t,e){e.style.width=t.w+"px",e.style.height=t.h+"px",e.style.marginLeft=t.x+"px",e.style.marginTop=t.y+"px"},relax.layout.getScaleRect=function(t,e,n,i,r,s){var o=n,a=o/t*e;(a<i&&!s||"width"===s||"only-width"===s)&&(o=(a=i)/e*t);var l=.5*n-.5*o,c=.5*i-.5*a;return r||(r=function(t){return t}),{w:r(o),h:r(a),x:r(l),y:r(c),overflowx:r(l),overflowy:r(c)}},(relax=relax||{}).math||(relax.math={}),relax.math.norm=function(t,e,n){return(t-e)/(n-e)},relax.math.lerp=function(t,e,n){return(n-e)*t+e},relax.math.map=function(t,e,n,i,r){return relax.math.lerp(relax.math.norm(t,e,n),i,r)},relax.math.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},relax.math.convertToRange=function(t,e,n){if(t<e[0])return n[0];if(t>e[1])return n[1];var i=e[1]-e[0],r=n[1]-n[0];return(t-e[0])*r/i+n[0]},(relax=relax||{}).draw||(relax.draw={}),relax.draw.imageIntoCanvas=function(t,e){var n,i,r;if(null==e&&(e=!0),!t||void 0===t.ctx||void 0===t.image||void 0===t.imageWidth||void 0===t.imageHeight||void 0===t.viewportWidth||void 0===t.viewportHeight)throw new Error("imageIntoCanvas Error: all options are mandatory.");if(void 0===t.offsetX&&(t.offsetX=0),void 0===t.offsetY&&(t.offsetY=0),n=t.viewportWidth/t.imageWidth,t.imageHeight*n<t.viewportHeight&&(n=t.viewportHeight/t.imageHeight),i=.5*t.viewportWidth-t.imageWidth*n*.5,r=.5*t.viewportHeight-t.imageHeight*n*.5,i+=t.offsetX,r+=t.offsetY,e&&t.ctx.save(),t.ctx.translate(Math.round(i),Math.round(r)),t.ctx.scale(n,n),t.ctx.drawImage(t.image,0,0),e)return t.ctx.restore()},(relax=relax||{}).string=relax.string||{},relax.string.wrapWords=function(t,e,n){for(var i,r=/([^<]*)(<(?:\"[^\"]*\"|'[^']*'|[^>'\"]*)*>)([^<]*)/g,s=[],o=0;i=r.exec(t);){for(var a=i[1].split(/\s+/),l=a.length,c=i[3].split(/\s+/),h=c.length,u=0;u<l;u++)0<a[u].length&&(s[o++]=e+a[u]+n);for(s[o++]=i[2],u=0;u<h;u++)0<c[u].length&&(s[o++]=e+c[u]+n)}return s.join(" ")},relax.string.getHumanReadableSize=function(t){var e=Math.floor(Math.log(t)/Math.log(1024)),n=["b","kb","mb","gb","tb"];return e=Math.min(n.length-1,e),1*Number((t/Math.pow(1024,e)).toFixed(2))+" "+n[e]},(relax=relax||{}).numbers||(relax.numbers={}),relax.numbers.splitInThousands=function(t,e){return null==e&&(e=","),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)},(relax=relax||{}).tools||(relax.tools={}),relax.tools.shuffle=function(t){for(var e,n,i=t.length;0!==i;)n=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[n],t[n]=e;return t},relax.tools.cookie={get:function(t){var e,n,i,r=document.cookie.split(";");for(e=0;e<r.length;e++)if(n=r[e].substr(0,r[e].indexOf("=")),i=r[e].substr(r[e].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==t)return unescape(i)},set:function(t,e,n){var i=new Date;i.setDate(i.getDate()+n);var r=escape(e)+(null===n?"":"; expires="+i.toUTCString());document.cookie=t+"="+r},clear:function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},check:function(t){var e=this.get(t);return!(!e||""===e||null==e||"undefined"===e)}},relax.tools.throttle=function(t,e,n){var i=null;return n||(n=this),function(){var r=arguments;clearTimeout(i),i=setTimeout(function(){n&&t.apply(n,r)},e)}},relax.tools.validateEmail=function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},relax.tools.validatePassword=function(t){return/^[A-Za-z0-9!@#$%^&*()_]{1,50}$/.test(t)},relax.tools.stripHTMLFromString=function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText},relax.tools.popupwindow=function(t,e,n,i){var r=screen.width/2-n/2,s=screen.height/2-i/2;return window.open(t,e,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+n+", height="+i+", top="+s+", left="+r)},relax.tools.DragAndSwipe=Class.extend({_el:null,_touchEventsAdded:!1,_pinchCallback:null,_swipeCallback:null,_dragCallback:null,_swipeThreshold:100,_forceDirection:"xy",_startY:0,_dragY:0,_dragYTarget:0,_startX:0,_dragX:0,_dragXTarget:0,_mouseObj:null,startDragY:0,startDragX:0,_iid:null,_maxMinBoundries:null,_preventMoveDefault:!0,init:function(t,e){null==relax.tools.DragAndSwipe.iid&&(relax.tools.DragAndSwipe.iid=0),relax.tools.DragAndSwipe.iid++,this._iid="relax"+relax.tools.DragAndSwipe.iid,e&&this.setPreventModeDefault(e.preventMoveDefault),this._el=t},setPreventModeDefault:function(t){this._preventMoveDefault=Boolean(t)},setBoundries:function(t){this._maxMinBoundries=t},_onTouchStart:function(t){this._mouseObj=relax.geom.getXYFromMouseTouchEvent(t),this._startY=this._mouseObj.y,this._startX=this._mouseObj.x,this.startDragY=this._dragYTarget,this.startDragX=this._dragXTarget,this._onDragging()},_onTouchEnd:function(){if(this._dragY=this._dragYTarget,this._dragX=this._dragXTarget,this._swipeCallback&&this._mouseObj){var t=this._mouseObj.x>this._startX?"left":"right",e=this._mouseObj.y>this._startY?"up":"down",n=Math.abs(this._mouseObj.x-this._startX)>this._swipeThreshold,i=Math.abs(this._mouseObj.y-this._startY)>this._swipeThreshold,r=!1;"xy"===this._forceDirection?(n||i)&&(r=!0):"x"===this._forceDirection&&n?r=!0:"y"===this._forceDirection&&i&&(r=!0),r&&this._swipeCallback({xDirection:t,yDirection:e})}this._onDragging()},_onTouchMove:function(t){this._preventMoveDefault&&t.preventDefault(),this._mouseObj=relax.geom.getXYFromMouseTouchEvent(t);var e=this._mouseObj.y-this._startY,n=this._mouseObj.x-this._startX,i=this._dragX+n,r=this._dragY+e,s=i<this._dragXTarget?"left":"right",o=r<this._dragYTarget?"up":"down";this._dragXTarget=i,this._dragYTarget=r,this._onDragging(s,o)},_onDragging:function(t,e){this._maxMinBoundries&&(this._maxMinBoundries.minSwipeX&&(this._dragXTarget=Math.max(this._maxMinBoundries.minSwipeX,this._dragXTarget),this._dragX=Math.max(this._maxMinBoundries.minSwipeX,this._dragX)),this._maxMinBoundries.minSwipeY&&(this._dragYTarget=Math.max(this._maxMinBoundries.minSwipeY,this._dragYTarget),this._dragY=Math.max(this._maxMinBoundries.minSwipeY,this._dragY)),this._maxMinBoundries.maxSwipeX&&(this._dragXTarget=Math.min(this._maxMinBoundries.maxSwipeX,this._dragXTarget),this._dragX=Math.min(this._maxMinBoundries.maxSwipeX,this._dragX)),this._maxMinBoundries.maxSwipeY&&(this._dragYTarget=Math.min(this._maxMinBoundries.maxSwipeY,this._dragYTarget),this._dragY=Math.min(this._maxMinBoundries.maxSwipeY,this._dragY))),this._dragCallback&&this._dragCallback({xDirection:t,yDirection:e,x:this._dragXTarget,y:this._dragYTarget})},addEvents:function(){this._touchEventsAdded||(this._touchEventsAdded=!0,$(this._el).bind("touchstart."+this._iid,relax.dom.bind(this,this._onTouchStart)),$(this._el).bind("touchmove."+this._iid,relax.dom.bind(this,this._onTouchMove)),$(this._el).bind("touchend."+this._iid,relax.dom.bind(this,this._onTouchEnd)))},removeEvents:function(){this._touchEventsAdded=!1,$(this._el).unbind("touchstart."+this._iid+" touchmove."+this._iid+" touchend."+this._iid)},addSwipe:function(t,e,n){n&&(this._forceDirection=n),e&&(this._swipeThreshold=e),this._swipeCallback=t,this.addEvents()},addDrag:function(t){this._dragCallback=t,this.addEvents()},dealoc:function(){this._binded=!1,this.removeEvents(),this._el=null,this._callback=null}}),relax.tools.PinchGestureWrapper=Class.extend({_el:null,_callback:null,_startScale:0,_currentScale:0,init:function(t,e){this._el=t,this._callback=e,this._startScale=0,this._currentScale=0,this._onGestureStart=function(t){t.preventDefault(),this._startScale=t.originalEvent.scale},this._onGestureEnd=function(t){t.preventDefault(),this._callback(this._startScale>this._currentScale)},this._onGestureChange=function(t){t.preventDefault(),this._currentScale=t.originalEvent.scale,this._callback(this._currentScale)},$(this._el).bind("gesturestart.pinch",relax.dom.bind(this,this._onGestureStart)),$(this._el).bind("gesturechange.pinch",relax.dom.bind(this,this._onGestureChange)),$(this._el).bind("gestureend.pinch",relax.dom.bind(this,this._onGestureEnd))},dealoc:function(){$(this._el).unbind("gesturestart.pinch gesturechange.pinch gestureend.pinch"),this._el=null,this._callback=null}}),relax.tools.renderQue={items:[],running:!1,rAF:null,render:function(){if(!this.items||0===this.items.length||!this.running)return this.running=!1,void cancelAnimationFrame(this.rAF);for(var t=0;t<this.items.length;t++)this.items[t].renderQueCall();if(this.running){var e=this;this.rAF=window.requestAnimationFrame(function(){e.render()})}},has:function(t){return-1!=this.items.indexOf(t)},add:function(t){if(t&&this.items){if(void 0===t.renderQueCall)throw new Error("RenderQue requires objects to have a renderQueCall method for callback.");-1===this.items.indexOf(t)&&this.items.push(t)}if(!this.running){this.running=!0;var e=this;this.rAF=window.requestAnimationFrame(function(){e.render()})}},remove:function(t){this.items&&t&&-1!==this.items.indexOf(t)&&this.items.splice(this.items.indexOf(t),1),0===this.items.length&&(this.running=!1)}},relax.tools.clone=function(t){if(!t||"object"!=typeof t||"[object Function]"===Object.prototype.toString.call(t))return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);var e,n,i;if(t instanceof Array)for(e=[],n=0,i=t.length;n<i;++n)n in t&&e.push(clone(t[n]));else e=t.constructor?new t.constructor:{};return function(t,e,n){var i,r,s={};for(i in e)r=e[i],i in t&&(t[i]===r||i in s&&s[i]===r)||(t[i]=n?n(r):r);return t}(e,t,clone)},(relax=relax||{}).screen||(relax.screen={}),relax.screen.isRetina=function(){return 1<window.devicePixelRatio},(relax=relax||{}).animation||(relax.animation={}),relax.animation.getTransitionEndEvent=function(){if(this.endValue)return this.endValue;var t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)void 0!==e.style[t]&&(this.endValue=n[t]);return this.endValue},relax.transitionEndString=relax.animation.getTransitionEndEvent(),relax.EventDispatcher=EventDispatcher=function(){function t(){this.eventChannel={},_.extend(this.eventChannel,Backbone.Events)}return t.prototype.eventChannel=null,t.prototype.trigger=function(t,e){return null==e&&(e=null),null!==e?this.eventChannel.trigger(t,e):this.eventChannel.trigger(t)},t.prototype.bind=function(t,e,n,i){if(null==i&&(i=!1),!t||!e||!n)throw new Error("All parameters are mandatory");if(this.eventChannel.on(t,e,n),i)return setTimeout((r=this,function(){return e.apply(n,[r])}),0);var r},t.prototype.unbindAll=function(t){if(!t)throw new Error("All parameters are mandatory");return this.eventChannel.off(null,null,t)},t.prototype.unbind=function(t,e,n){if(!t||!e||!n)throw new Error("All parameters are mandatory");return this.eventChannel.off(t,e,n)},t.prototype.dealoc=function(){return this.eventChannel.unbind(),this.eventChannel=null},t}(),(relax=relax||{}).Vector2d=function(t,e){this.x=t||0,this.y=e||0},relax.Vector2d.prototype={reset:function(t,e){return this.x=t,this.y=e,this},toString:function(t){t=t||3;var e=Math.pow(10,t);return"["+Math.round(this.x*e)/e+", "+Math.round(this.y*e)/e+"]"},clone:function(){return new relax.Vector2d(this.x,this.y)},copyTo:function(t){t.x=this.x,t.y=this.y},copyFrom:function(t){this.x=t.x,this.y=t.y},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magnitudeSquared:function(){return this.x*this.x+this.y*this.y},normalise:function(){var t=this.magnitude();return this.x=this.x/t,this.y=this.y/t,this},reverse:function(){return this.x=-this.x,this.y=-this.y,this},plusEq:function(t){return this.x+=t.x,this.y+=t.y,this},plusNew:function(t){return new relax.Vector2d(this.x+t.x,this.y+t.y)},minusEq:function(t){return this.x-=t.x,this.y-=t.y,this},minusNew:function(t){return new relax.Vector2d(this.x-t.x,this.y-t.y)},multiplyEq:function(t){return this.x*=t,this.y*=t,this},multiplyNew:function(t){return this.clone().multiplyEq(t)},divideEq:function(t){return this.x/=t,this.y/=t,this},divideNew:function(t){return this.clone().divideEq(t)},dot:function(t){return this.x*t.x+this.y*t.y},angle:function(t){return Math.atan2(this.y,this.x)*(t?1:relax.Vector2dConst.TO_DEGREES)},rotate:function(t,e){var n=Math.cos(t*(e?1:relax.Vector2dConst.TO_RADIANS)),i=Math.sin(t*(e?1:relax.Vector2dConst.TO_RADIANS));return relax.Vector2dConst.temp.copyFrom(this),this.x=relax.Vector2dConst.temp.x*n-relax.Vector2dConst.temp.y*i,this.y=relax.Vector2dConst.temp.x*i+relax.Vector2dConst.temp.y*n,this},equals:function(t){return this.x==t.x&&this.y==t.x},isCloseTo:function(t,e){return!!this.equals(t)||(relax.Vector2dConst.temp.copyFrom(this),relax.Vector2dConst.temp.minusEq(t),relax.Vector2dConst.temp.magnitudeSquared()<e*e)},rotateAroundPoint:function(t,e,n){relax.Vector2dConst.temp.copyFrom(this),relax.Vector2dConst.temp.minusEq(t),relax.Vector2dConst.temp.rotate(e,n),relax.Vector2dConst.temp.plusEq(t),this.copyFrom(relax.Vector2dConst.temp)},isMagLessThan:function(t){return this.magnitudeSquared()<t*t},isMagGreaterThan:function(t){return this.magnitudeSquared()>t*t}},relax.Vector2dConst={TO_DEGREES:180/Math.PI,TO_RADIANS:Math.PI/180,temp:new relax.Vector2d};var BasicRelaxService,UserLocation,SocialFeed,GATracking,SocialSharer,ImageLoader,StageModel,extend=function(t,e){function n(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;try{relax.BasicRelaxService=BasicRelaxService=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.initialize=function(t){return this.url="//services.rwatgg.com/"+t.client+"/"+t.service+"/"},e.prototype.fetch=function(t){return null==t&&(t=new Object),t.success||(t.success=relax.dom.bind(this,this.onSuccess),t.error=relax.dom.bind(this,this.onError)),e.__super__.fetch.call(this,t)},e.prototype.onSuccess=function(t,e){if(console)return console.log("%c RWATGG > UserLocation Success","background: green; color: white;")},e.prototype.onError=function(t,e){try{rwatgs.error.bot.report("BasicRelaxService error:",e.status)}catch(t){}if(console&&console.log("%c RWATGG > UserLocation Error: status:","background: red; color: white;",e.status),console)return console.log("%c RWATGG > UserLocation Error: statusText:","background: red; color: white;",e.statusText)},e}(Backbone.Model)}catch(t){}extend=function(t,e){function n(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;try{relax.UserLocation=UserLocation=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.initialize=function(t){return this.url="//services.rwatgg.com/"+t.client+"/location/"},e.prototype.fetch=function(t){var n,i,r;if(null==t&&(t=new Object),n=!0,relax.caniuse.localstorage()&&sessionStorage.getItem("rwatgg_location")&&0<(r=(i=JSON.parse(sessionStorage.getItem("rwatgg_location"))).timestamp-(new Date).getTime())&&1<new Date(r).getHours()&&(n=!1,this.set(i)),n)return t.success||(t.success=relax.dom.bind(this,this.onSuccess),t.error=relax.dom.bind(this,this.onError)),e.__super__.fetch.call(this,t)},e.prototype.onSuccess=function(t,e){if(relax.caniuse.localstorage()&&(this.set("timestamp",(new Date).getTime(),{silent:!0}),sessionStorage.setItem("rwatgg_location",JSON.stringify(this.toJSON()))),console)return console.log("%c RWATGG > UserLocation Success","background: green; color: white;")},e.prototype.onError=function(t,e){try{rwatgs.error.bot.report("services error:",e.status)}catch(t){}if(console&&console.log("%c RWATGG > UserLocation Error: status:","background: red; color: white;",e.status),console)return console.log("%c RWATGG > UserLocation Error: statusText:","background: red; color: white;",e.statusText)},e}(Backbone.Model)}catch(t){}extend=function(t,e){function n(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;try{relax.SocialFeed=SocialFeed=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.initialize=function(t){var e;if(!t.client)throw new Error("client needs to be defined.");if(!t.feed)throw new Error("feed needs to be defined.");return e=t.useProxy?"/handlers/proxy.ashx?url=":"//",this.url=e+"services.rwatgg.com/"+t.client+"/"+t.feed+"/"},e.prototype.fetch=function(t){return null==t&&(t=new Object),t.success||(t.success=relax.dom.bind(this,this.onSuccess),t.error=relax.dom.bind(this,this.onError)),e.__super__.fetch.call(this,t)},e.prototype.parse=function(t){return{data:t}},e.prototype.onSuccess=function(t,e){if(console)return console.log("%c RWATGG > "+this.get("feed")+" Success","background: green; color: white;")},e.prototype.onError=function(t,e){try{rwatgs.error.bot.report("services error:",this.url)}catch(t){}if(console&&console.log("%c RWATGG > "+this.get("feed")+" Error: status:","background: red; color: white;",e.status),console)return console.log("%c RWATGG > "+this.get("feed")+" Error: statusText:","background: red; color: white;",e.statusText)},e}(Backbone.Model)}catch(t){}extend=function(t,e){function n(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty,relax.Counter=function(t){function e(t){e.__super__.constructor.call(this),t.startStep&&(this._currentStep=!isNaN(t.startStep)),t.direction&&(this._direction=t.direction),t.maxSteps&&(this._maxSteps=t.maxSteps),!1===t.runThrough&&(this._runThrough=t.runThrough),this._time=isNaN(t.time)?relax.Counter.DEFAULT_TIME:t.time,this._currentStep=this._step=isNaN(t.step)?relax.Counter.DEFAULT_STEP:t.step,t.doLoop&&(this._loop=!0),!0===t.stopOnEnd&&(this._stopOnEnd=!0),t.autoStart&&this.resume()}return extend(e,t),e.ON_STEP_EVENT="counter-step",e.ON_STEP_STOP_EVENT="counter-stop",e.ON_STEP_START_EVENT="counter-start",e.DEFAULT_TIME=4e3,e.DEFAULT_STEP=1,e.prototype._time=0,e.prototype._step=0,e.prototype._loop=!1,e.prototype._timeout=0,e.prototype._stopOnEnd=!1,e.prototype._maxSteps=-1,e.prototype._isRunning=!1,e.prototype._runThrough=!0,e.prototype._direction=1,e.prototype._currentStep=0,e.prototype.resume=function(){return this.trigger(relax.Counter.ON_STEP_START_EVENT,this),this.start()},e.prototype.start=function(){return this._isRunning=!0,clearTimeout(this._timeout),this._timeout=setTimeout((t=this,function(){return t.onStep()}),this._time);var t},e.prototype.pause=function(){return this._isRunning=!1,clearTimeout(this._timeout),this.trigger(relax.Counter.ON_STEP_STOP_EVENT,this)},e.prototype.isRunning=function(){return this._isRunning},e.prototype.setStep=function(t){return this._currentStep=t,this.validateStep()},e.prototype.getCurrentStep=function(){return this._currentStep},e.prototype.next=function(){return this.setStep(this._currentStep+1)},e.prototype.prev=function(){return this.setStep(this._currentStep-1)},e.prototype.changeDirecion=function(t){return null==t&&(t=null),null!==t?this._direction=t:this._direction*=-1},e.prototype.resetTimer=function(){return this.start()},e.prototype.dealoc=function(){return this._isRunning=!1,clearTimeout(this._timeout),e.__super__.dealoc.call(this)},e.prototype.getStep=function(){return this._currentStep},e.prototype.onStep=function(){return this._currentStep+=this._step*this._direction,this.validateStep()},e.prototype.validateStep=function(){var t;if(t=!this._isRunning,this._stopOnEnd&&this._currentStep>=this._maxSteps-1?(t=!0,this._currentStep=this._maxSteps-1):this._loop&&-1!==this._maxSteps?this._currentStep%=this._maxSteps:!this._loop&&-1!==this._maxSteps&&(this._currentStep<=0||this._currentStep>=this._maxSteps-1)&&(this._direction*=-1),this._runThrough||(t=!0),this._currentStep<0?this._loop?this._currentStep=this._maxSteps+this._currentStep:this._currentStep=0:this._currentStep>this._maxSteps-1&&-1!==this._maxSteps&&(this._currentStep=this._maxSteps),this.trigger(relax.Counter.ON_STEP_EVENT,this),!t&&this._isRunning)return this.start()},e}(relax.EventDispatcher),relax.GATracking=GATracking=function(){function t(){}return t.prototype.page=function(t){log("tracking page:",t);try{return"undefined"!=typeof _gaq?_gaq.push(["_trackPageview",t]):ga("send","pageview",t)}catch(t){return log("tracking error:",t)}},t.prototype.event=function(t,e,n,i){log("tracking event:",t,e,n,i);try{return n&&i?"undefined"!=typeof _gaq?_gaq.push(["_trackEvent",t,e,n,i]):ga("send","event",t,e,n,i):n?"undefined"!=typeof _gaq?_gaq.push(["_trackEvent",t,e,n]):ga("send","event",t,e,n):"undefined"!=typeof _gaq?_gaq.push(["_trackEvent",t,e]):ga("send","event",t,e)}catch(t){return log("tracking error:",t)}},t}(),relax.SocialSharer=SocialSharer=function(){function t(){}return t.prototype._facebookIsInitialized=!1,t.prototype.loadFacebook=function(t){var e,n,i,r;if(!t.appId)throw new Error("Add facebook app id");return r=this,e=function(){return r._facebookIsInitialized=!0,FB.init({appId:t.appId,status:!0,cookie:!0,xfbml:!0,version:"v2.1"})},window.FB?e():(i=void 0,n="facebook-jssdk",document.getElementsByTagName("script")[0],document.getElementById(n)?void 0:((i=document.createElement("script")).id=n,i.async=!0,i.src="//connect.facebook.net/en_US/sdk.js",$("body").append(i),window.fbAsyncInit=e))},t.prototype.shareFacebook=function(t){var e,n,i,r,s,o;i=t.name,n=t.description,e=t.caption||"",r=t.picture||"",s=t.url||"http://"+window.location.host;try{return o={method:"stream.publish",name:i,link:s,caption:e,description:n,picture:r},FB.ui(o,function(e){if(e&&e.post_id){if(t.callback&&t.callback(e),console&&console.log)return console.log("Post was published.")}else if(t.callback&&t.callback(e),console&&console.log)return console.log("Post was NOT published.")})}catch(e){return this.shareFacebookBasic(t)}},t.prototype.shareFacebookBasic=function(t){return window.open("http://www.facebook.com/sharer.php?u="+t.url)},t.prototype.shareEmail=function(t){return document.location.href="mailto:?subject="+t.subject+"&body="+t.body},t.prototype.shareTwitter=function(t){var e,n,i,r,s,o,a,l,c;return n=encodeURIComponent(t.text),i=t.width||700,e=t.height||400,r="https://twitter.com/intent/tweet?url="+(encodeURIComponent(t.url)||encodeURIComponent("http://"+window.location.host))+"&text="+n,l=i,c=e,o=screen.availWidth/2-l,a=screen.availHeight/2-c,s="width={width},height={height},toolbar=0,menubar=0,location=0,status=0,scrollbars=0,resizable=0,left={left},top={top}".replace("{width}",l).replace("{height}",c).replace("{left}",o).replace("{top}",a),window.open(r,"twitterShareWindow",s),!0},t.prototype.googlePlus=function(t){var e;return e="https://plus.google.com/share?url="+(encodeURIComponent(t.url)||encodeURIComponent("http://"+window.location.host)),window.open(e,"googlePlusShareWindow")},t.prototype.sharePinterest=function(t){var e,n,i;if(void 0===t.image||""===t.image)throw new Error("Pinterest: image param is missing");return n=encodeURIComponent(t.url)||encodeURIComponent("http://"+window.location.host),e=encodeURIComponent(t.text),i="http://pinterest.com/pin/create/button/?url="+n+"&media="+t.image+"&description="+e,window.open(i,"pinterestShareWindow")},t}(),extend=function(t,e){function n(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty,window.relax.ImageLoader=ImageLoader=function(t){function e(t){var n,i,r,s,o,a,l,c,h,u,d,p,f,g,m,v,_,y,x,w,b,E,T,S,C;if(e.__super__.constructor.call(this),!0===t.allowProgress&&(this._allowProgress=t.allowProgress),!t.sources)throw new Error("ImageLoader: sources needs to be defined.");for(t.loadOrder&&(this._loadOrder=t.loadOrder),this._loadCue=[],this._data=[],o=0,c=(w=t.sources).length;o<c;o++)S=w[o],this._data.push(new relax.displayObject.Image({src:S,progress:!0===t.allowProgress})),this._data[S]=this._data.length-1;if(this._loadOrder===relax.ImageLoader.ORDER_DIVIDE_AND_CONQUER){for(f=[],a=0,h=(b=t.sources).length;a<h;a++)b[a],f.push(f.length);for(v=0,(y=[]).push(f.splice(0,1)[0]),y.push(f.splice(f.length-1,1)[0]);0<f.length;)for(g=0,u=f.length;g<u;g++){for(f[g],n=0,i=m=1,E=l=++v+1;m<E&&(n+=i%2==0?Math.round((l-i)*(f.length/l)):Math.round(i*(f.length/l)),C=null,0<f.length&&(C=f.splice(n,1)[0]),C&&y.push(C),0!==f.length);i=m+=1);if(0===f.length)break}for(_=0,d=y.length;_<d;_++)s=y[_],this._loadCue.push(this._data[s])}else for(x=0,p=(T=this._data).length;x<p;x++)r=T[x],this._loadCue.push(r);this.length=this._data.length,t.autoload&&this.load(!0)}return extend(e,t),e.ORDER_LINEAR="linear",e.ORDER_DIVIDE_AND_CONQUER="divide-and-conquer",e.IMAGE_LOADED="image-loaded",e.LOADED="loaded",e.LOADING="loading",e.prototype._data=null,e.prototype._toLoad=null,e.prototype._paused=!1,e.prototype._loadCue=null,e.prototype._loadOrder=e.ORDER_LINEAR,e.prototype._allowProgress=!1,e.prototype._leftToBeLoaded=-1,e.prototype._loadAllAtSameTime=!1,e.prototype.loaded=!1,e.prototype.length=0,e.prototype.pause=function(t){var e,n,i,r,s;if(null==t&&(t=!1),this._paused=!0,t){for(s=[],n=0,i=(r=this._loadCue).length;n<i;n++)(e=r[n]).loaded?s.push(void 0):s.push(e.stop());return s}},e.prototype.resume=function(){if(this._paused=!1,!this.loaded)return this.load(this._loadAllAtSameTime)},e.prototype.load=function(t){var e,n,i,r,s;if(null==t&&(t=!1),!this._paused){if(this._loadAllAtSameTime=t,!this.loaded)if(this._leftToBeLoaded=this._loadCue.length,this._loadAllAtSameTime){if(this._loadAllAtSameTime)for(n=0,i=(s=this._loadCue).length;n<i;n++)(e=s[n]).loaded||e.load({callback:relax.dom.bind(this,this.onImageLoaded)})}else null!=(r=this.getNextImageToLoad())&&r.load({callback:relax.dom.bind(this,this.onImageLoaded)});return this._allowProgress&&!relax.tools.renderQue.has(this)?relax.tools.renderQue.add(this):void 0}},e.prototype.renderQueCall=function(){var t,e,n,i;for(t=n=0,e=(i=this._data).length;t<e;t++)n+=i[t].progress/this._data.length;if(n!==this._loadProgress)return this._loadProgress=n,this.trigger(window.relax.ImageLoader.LOADING,this._loadProgress)},e.prototype.getNextImageToLoad=function(){var t,e,n,i;for(e=0,n=(i=this._loadCue).length;e<n;e++)if(!(t=i[e]).loading)return t},e.prototype.onImageLoaded=function(t){if(this.trigger(relax.ImageLoader.IMAGE_LOADED,t),0==--this._leftToBeLoaded)return this.loaded=!0,relax.tools.renderQue.has(this)&&relax.tools.renderQue.remove(this),this.trigger(relax.ImageLoader.LOADED,this)},e.prototype.getImage=function(t,e){var n,i,r,s,o,a;if(null==e&&(e=!1),this._loadOrder===relax.ImageLoader.ORDER_DIVIDE_AND_CONQUER&&(e=!0),r=null,isNaN(t)){for(s=0,o=(a=this._data).length;s<o;s++)if((r=a[s]).src===t){if(!r.loaded)throw new Error("Trying to get image that is not loaded");return r}}else if(!(r=this._data[t]).loaded&&!e)throw new Error("Trying to get image that is not loaded");if(e&&!r.loaded)for(n=this._data.indexOf(r)+1,i=this._data.indexOf(r)-1;!r.loaded&&(0<=i||n<this._data.length);)n<this._data.length&&this._data[n].loaded?r=this._data[n]:0<=i&&this._data[i].loaded?r=this._data[i]:(n+=1,i-=1);return r},e.prototype.dealoc=function(){var t,n,i;for(relax.tools.renderQue.has(this)&&relax.tools.renderQue.remove(this),this._loadCue=null,t=0,n=(i=this._data).length;t<n;t++)i[t].dealoc()
;return e.__super__.dealoc.call(this)},e}(relax.EventDispatcher),extend=function(t,e){function n(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty,relax.StageModel=StageModel=function(t){function e(t){var n,i,r,s,o;if(e.__super__.constructor.call(this),t&&t.mediaqueries)for(this._mediaQueries=t.mediaqueries,this._mediaQueries.sort(function(t,e){return t.horizontalBreakPoint<e.horizontalBreakPoint?-1:t.horizontalBreakPoint>e.horizontalBreakPoint?1:0}),n=0,i=(s=this._mediaQueries).length;n<i;n++)if(!s[n].eventName)throw new Error("Stagemodel: eventName needs to be defined");this.scrollContext=t&&t.scrollContext?t.scrollContext:window,o=t&&t.resizeContext?t.resizeContext:window,r=t&&t.orientationContext?t.orientationContext:window,o.addEventListener("resize",relax.dom.bind(this,this.resize),!1),r.addEventListener("orientationchange",relax.dom.bind(this,this.resize),!1),this.scrollContext.addEventListener("scroll",relax.dom.bind(this,this.scroll),!!relax.caniuse.passiveEvents&&{passive:!0}),this.updateScrollY(),this.resize(),relax.tools.renderQue.add(this)}return extend(e,t),e.SCROLL="stage:scroll",e.RESIZE="stage:resize",e.RESPONSIVE_CHANGE="stage:responsive",e.ORIENTATION_PORTRAIT="Portrait",e.ORIENTATION_LANDSCAPE="Landscape",e.prototype.w=0,e.prototype.h=0,e.prototype.halfh=0,e.prototype.halfw=0,e.prototype.scrollDirection="",e.prototype.scrolling=!1,e.prototype._tempScrollY=0,e.prototype._mediaQueries=null,e.prototype.currentMQ="",e.prototype.performanceTimer=0,e.prototype.orientationMode="",Object.defineProperties(e.prototype,{scrollTop:{get:function(){return this._windowScrollY}},scrolltop:{get:function(){return this._windowScrollY}}}),e.prototype.toString=function(){var t;return t={w:this.w,h:this.h,halfw:this.halfw,halfh:this.halfh,scrollTop:this.scrollTop,scrollDirection:this.scrollDirection,scrolling:this.scrolling,orientationMode:this.orientationMode},JSON.stringify(t,null,2)},e.prototype.axisAndPercentages=[],e.prototype.getPercentOf=function(t,e){},e.prototype.renderQueCall=function(){if(this.scrolling)return this.scrolling=!1,this.updateScrollY()},e.prototype.scroll=function(t){return this.scrolling=!0},e.prototype.updateScrollY=function(){return this.scrollContext!==window?this._tempScrollY=this.scrollContext.scrollTop:0===document.documentElement.scrollTop?this._tempScrollY=document.body.scrollTop:this._tempScrollY=document.documentElement.scrollTop,this.handleScroll()},e.prototype.handleScroll=function(){return this.scrollDirection=this._tempScrollY<this.scrollTop?-1:this._tempScrollY>this.scrollTop?1:0,this._windowScrollY=this._tempScrollY,this.scrolltop=this.scrollTop,this.trigger(relax.StageModel.SCROLL,this)},e.prototype.resize=function(t){if(this.updateScrollY(),this.w=document.documentElement.clientWidth||window.innerWidth,this.h=document.documentElement.clientHeight||window.innerHeight,this.halfw=.5*this.w,this.halfh=.5*this.h,this.orientationMode=this.w/this.h<=.87?relax.StageModel.ORIENTATION_PORTRAIT:relax.StageModel.ORIENTATION_LANDSCAPE,this.trigger(e.RESIZE,this),this._mediaQueries)return this.checkMediaQueries()},e.prototype.checkMediaQueries=function(t){var e,n,i,r,s;for(null==t&&(t=!1),s=[],e=0,n=(r=this._mediaQueries).length;e<n;e++){if((i=r[e]).horizontalBreakPoint&&i.horizontalBreakPoint>this.w){(this.currentMQ!==i.eventName||t)&&(this.currentMQ=i.eventName,this.trigger(relax.StageModel.RESPONSIVE_CHANGE,this));break}s.push(void 0)}return s},e.prototype.bind=function(t,n,i,r){return null==r&&(r=!0),e.__super__.bind.call(this,t,n,i,r)},e.prototype.dealoc=function(){throw new Error("Wow wow wow! You don't wanna do this!")},e}(relax.EventDispatcher),"object"==typeof module&&module.exports&&(module.exports=relax);var VirtualScroll=function(t){var e,n,i,r,s={},o=[],a=!1,l=2,c=15,h=120,u=1,d="onwheel"in t,p="onmousewheel"in t,f="ontouchstart"in t,g=navigator.msMaxTouchPoints&&1<navigator.msMaxTouchPoints,m=!!window.navigator.msPointerEnabled,v="onkeydown"in t,_=-1<navigator.userAgent.indexOf("Firefox"),y={y:0,x:0,deltaX:0,deltaY:0,originalEvent:null};s.on=function(t){a||C(),o.push(t),e=o.length},s.options=function(t){h=t.keyStep||120,c=t.firefoxMult||15,l=t.touchMult||2,u=t.mouseMult||1},s.off=function(t){o.splice(t,1),(e=o.length)<=0&&A()};var x=function(t){y.x+=y.deltaX,y.y+=y.deltaY,y.originalEvent=t;for(var n=0;n<e;n++)o[n](y)},w=function(t){y.deltaX=t.wheelDeltaX||-1*t.deltaX,y.deltaY=t.wheelDeltaY||-1*t.deltaY,_&&1==t.deltaMode&&(y.deltaX*=c,y.deltaY*=c),y.deltaX*=u,y.deltaY*=u,x(t)},b=function(t){y.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,y.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,x(t)},E=function(t){var e=t.targetTouches?t.targetTouches[0]:t;n=e.pageX,i=e.pageY},T=function(t){var e=t.targetTouches?t.targetTouches[0]:t;y.deltaX=(e.pageX-n)*l,y.deltaY=(e.pageY-i)*l,n=e.pageX,i=e.pageY,x(t)},S=function(t){switch(y.deltaX=y.deltaY=0,t.keyCode){case 37:y.deltaX=-h;break;case 39:y.deltaX=h;break;case 38:y.deltaY=h;break;case 40:y.deltaY=-h}x(t)},C=function(){d&&t.addEventListener("wheel",w),p&&t.addEventListener("mousewheel",b),f&&(t.addEventListener("touchstart",E),t.addEventListener("touchmove",T)),m&&g&&(r=t.body.style.msTouchAction,t.body.style.msTouchAction="none",t.addEventListener("MSPointerDown",E,!0),t.addEventListener("MSPointerMove",T,!0)),v&&t.addEventListener("keydown",S),a=!0},A=function(){d&&t.removeEventListener("wheel",w),p&&t.removeEventListener("mousewheel",b),f&&(t.removeEventListener("touchstart",E),t.removeEventListener("touchmove",T)),m&&g&&(t.body.style.msTouchAction=r,t.removeEventListener("MSPointerDown",E,!0),t.removeEventListener("MSPointerMove",T,!0)),v&&t.removeEventListener("keydown",S),a=!1};return s}(document),_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,i,r=_gsScope.GreenSockGlobals||_gsScope,s=r.com.greensock,o=2*Math.PI,a=Math.PI/2,l=s._class,c=function(e,n){var i=l("easing."+e,function(){},!0),r=i.prototype=new t;return r.constructor=i,r.getRatio=n,i},h=t.register||function(){},u=function(t,e,n,i,r){var s=l("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new i},!0);return h(s,t),s},d=function(t,e,n){this.t=t,this.v=e,n&&(((this.next=n).prev=this).c=n.v-e,this.gap=n.t-t)},p=function(e,n){var i=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=i.prototype=new t;return r.constructor=i,r.getRatio=n,r.config=function(t){return new i(t)},i},f=u("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),m=g.prototype=new t;return m.constructor=g,m.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),m.config=g.config=function(t,e,n){return new g(t,e,n)},(m=(e=l("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new t).constructor=e,m.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},m.config=e.config=function(t,n){return new e(t,n)},(m=(n=l("easing.RoughEase",function(e){for(var n,i,r,s,o,a,l=(e=e||{}).taper||"none",c=[],h=0,u=0|(e.points||20),p=u,f=!1!==e.randomize,g=!0===e.clamp,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;-1<--p;)n=f?Math.random():1/u*p,i=m?m.getRatio(n):n,r="none"===l?v:"out"===l?(s=1-n)*s*v:"in"===l?n*n*v:n<.5?(s=2*n)*s*.5*v:(s=2*(1-n))*s*.5*v,f?i+=Math.random()*r-.5*r:p%2?i+=.5*r:i-=.5*r,g&&(1<i?i=1:i<0&&(i=0)),c[h++]={x:n,y:i};for(c.sort(function(t,e){return t.x-e.x}),a=new d(1,1,null),p=u;-1<--p;)o=c[p],a=new d(o.x,o.y,a);this._prev=new d(0,0,0!==a.t?a:a.next)},!0)).prototype=new t).constructor=n,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},m.config=function(t){return new n(t)},n.ease=new n,u("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),u("Elastic",(i=function(e,n,i){var r=l("easing."+e,function(t,e){this._p1=1<=t?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/o*(Math.asin(1/this._p1)||0),this._p2=o/this._p2},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=n,s.config=function(t,e){return new r(t,e)},r})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),i("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),i("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),u("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",c("SineOut",function(t){return Math.sin(t*a)}),c("SineIn",function(t){return 1-Math.cos(t*a)}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(r.SlowMo,"SlowMo","ease,"),h(n,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){"use strict";var t=function(){return _gsScope.GreenSockGlobals||_gsScope};"undefined"!=typeof module&&module.exports?(require("../TweenLite.js"),module.exports=t()):"function"==typeof define&&define.amd&&define(["TweenLite"],t)}();_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,i,r,s,o=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},a=_gsScope._gsDefine.globals,l={},c=o.prototype=new t("css");(c.constructor=o).version="1.20.3",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,c="px",o.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,u,d,p,f,g,m,v,_,y,x=/(?:\-|\.|\b)(\d|\.|e\-)+/g,w=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,E=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,S=/opacity *= *([^)]*)/i,C=/opacity:([^;]*)/i,A=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,O=/([A-Z])/g,k=/-([a-z])/gi,I=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,L=function(t,e){return e.toUpperCase()},M=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,F=/[\s,\(]/i,B=Math.PI/180,H=180/Math.PI,j={},V={style:{}},z=_gsScope.document||{createElement:function(){return V}},X=function(t,e){return z.createElementNS?z.createElementNS(e||"http://www.w3.org/1999/xhtml",t):z.createElement(t)},W=X("div"),U=X("img"),Y=o._internals={_specialProps:l},q=(_gsScope.navigator||{}).userAgent||"",G=(_=q.indexOf("Android"),y=X("a"),d=-1!==q.indexOf("Safari")&&-1===q.indexOf("Chrome")&&(-1===_||3<parseFloat(q.substr(_+8,2))),f=d&&parseFloat(q.substr(q.indexOf("Version/")+8,2))<6,p=-1!==q.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q))&&(g=parseFloat(RegExp.$1)),!!y&&(y.style.cssText="top:1px;opacity:.55;",/^0.55/.test(y.style.opacity))),$=function(t){return S.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(t){_gsScope.console&&console.log(t)},J="",K="",Z=function(t,e){var n,i,r=(e=e||W).style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;-1<--i&&void 0===r[n[i]+t];);return 0<=i?(J="-"+(K=3===i?"ms":n[i]).toLowerCase()+"-",K+t):null},tt=z.defaultView?z.defaultView.getComputedStyle:function(){},et=o.getStyle=function(t,e,n,i,r){var s;return G||"opacity"!==e?(!i&&t.style[e]?s=t.style[e]:(n=n||tt(t))?s=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(O,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):$(t)},nt=Y.convertToPixels=function(t,n,i,r,s){if("px"===r||!r&&"lineHeight"!==n)return i;if("auto"===r||!i)return 0;var a,l,c,h=M.test(n),u=t,d=W.style,p=i<0,f=1===i;if(p&&(i=-i),f&&(i*=100),"lineHeight"!==n||r)if("%"===r&&-1!==n.indexOf("border"))a=i/100*(h?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+et(t,"position")+";line-height:0;","%"!==r&&u.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)d[h?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(u=t.parentNode||z.body,-1!==et(u,"display").indexOf("flex")&&(d.position="absolute"),l=u._gsCache,c=e.ticker.frame,l&&h&&l.time===c)return l.width*i/100;d[h?"width":"height"]=i+r}u.appendChild(W),a=parseFloat(W[h?"offsetWidth":"offsetHeight"]),u.removeChild(W),h&&"%"===r&&!1!==o.cacheWidths&&((l=u._gsCache=u._gsCache||{}).time=c,l.width=a/i*100),0!==a||s||(a=nt(t,n,i,r,!0))}else l=tt(t).lineHeight,t.style.lineHeight=i,a=parseFloat(tt(t).lineHeight),t.style.lineHeight=l;return f&&(a/=100),p?-a:a},it=Y.calculateOffset=function(t,e,n){if("absolute"!==et(t,"position",n))return 0;var i="left"===e?"Left":"Top",r=et(t,"margin"+i,n);return t["offset"+i]-(nt(t,e,parseFloat(r),r.replace(T,""))||0)},rt=function(t,e){var n,i,r,s={};if(e=e||tt(t,null))if(n=e.length)for(;-1<--n;)-1!==(r=e[n]).indexOf("-transform")&&Nt!==r||(s[r.replace(k,L)]=e.getPropertyValue(r));else for(n in e)-1!==n.indexOf("Transform")&&Rt!==n||(s[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"==typeof n&&void 0===s[n]&&(s[n.replace(k,L)]=e[n]);return G||(s.opacity=$(t)),i=Gt(t,e,!1),s.rotation=i.rotation,s.skewX=i.skewX,s.scaleX=i.scaleX,s.scaleY=i.scaleY,s.x=i.x,s.y=i.y,Ft&&(s.z=i.z,s.rotationX=i.rotationX,s.rotationY=i.rotationY,s.scaleZ=i.scaleZ),s.filters&&delete s.filters,s},st=function(t,e,n,i,r){var s,o,a,l={},c=t.style;for(o in n)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=n[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"!=typeof s&&"string"!=typeof s||(l[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(E,"")?s:0:it(t,o),void 0!==c[o]&&(a=new xt(c,o,c[o],a))));if(i)for(o in i)"className"!==o&&(l[o]=i[o]);return{difs:l,firstMPT:a}},ot={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],lt=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||tt(t))[e]||0;if(t.getCTM&&Ut(t))return t.getBBox()[e]||0;var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=ot[e],s=r.length;for(n=n||tt(t,null);-1<--s;)i-=parseFloat(et(t,"padding"+r[s],n,!0))||0,i-=parseFloat(et(t,"border"+r[s]+"Width",n,!0))||0;return i},ct=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var n,i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];if(3<i.length&&!e){for(i=t.split(", ").join(",").split(","),t=[],n=0;n<i.length;n++)t.push(ct(i[n]));return t.join(",")}return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+s+(2<i.length?" "+i[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(E,"")),e.oy=parseFloat(s.replace(E,"")),e.v=t),e||t},ht=function(t,e){return"function"==typeof t&&(t=t(v,m)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ut=function(t,e){return"function"==typeof t&&(t=t(v,m)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},dt=function(t,e,n,i){var r,s,o,a,l;return"function"==typeof t&&(t=t(v,m)),(a=null==t?e:"number"==typeof t?t:(r=360,s=t.split("_"),o=((l="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===t.indexOf("rad")?1:H)-(l?0:e),s.length&&(i&&(i[n]=e+o),-1!==t.indexOf("short")&&(o%=r)!=o%180&&(o=o<0?o+r:o-r),-1!==t.indexOf("_cw")&&o<0?o=(o+3599999999640)%r-(o/r|0)*r:-1!==t.indexOf("ccw")&&0<o&&(o=(o-3599999999640)%r-(o/r|0)*r)),e+o))<1e-6&&-1e-6<a&&(a=0),a},pt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ft=function(t,e,n){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},gt=o.parseColor=function(t,e){var n,i,r,s,o,a,l,c,h,u,d;if(t)if("number"==typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),pt[t])n=pt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(i=t.charAt(1))+i+(r=t.charAt(2))+r+(s=t.charAt(3))+s),n=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=d=t.match(x),e){if(-1!==t.indexOf("="))return t.match(w)}else o=Number(n[0])%360/360,a=Number(n[1])/100,i=2*(l=Number(n[2])/100)-(r=l<=.5?l*(a+1):l+a-l*a),3<n.length&&(n[3]=Number(n[3])),n[0]=ft(o+1/3,i,r),n[1]=ft(o,i,r),n[2]=ft(o-1/3,i,r);else n=t.match(x)||pt.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),3<n.length&&(n[3]=Number(n[3]))}else n=pt.black;return e&&!d&&(i=n[0]/255,r=n[1]/255,s=n[2]/255,l=((c=Math.max(i,r,s))+(h=Math.min(i,r,s)))/2,c===h?o=a=0:(u=c-h,a=.5<l?u/(2-c-h):u/(c+h),o=c===i?(r-s)/u+(r<s?6:0):c===r?(s-i)/u+2:(i-r)/u+4,o*=60),n[0]=o+.5|0,n[1]=100*a+.5|0,n[2]=100*l+.5|0),n},mt=function(t,e){var n,i,r,s=t.match(vt)||[],o=0,a="";if(!s.length)return t;for(n=0;n<s.length;n++)i=s[n],o+=(r=t.substr(o,t.indexOf(i,o)-o)).length+i.length,3===(i=gt(i,e)).length&&i.push(1),a+=r+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return a+t.substr(o)},vt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in pt)vt+="|"+c+"\\b";vt=new RegExp(vt+")","gi"),o.colorStringFilter=function(t){var e,n=t[0]+" "+t[1];vt.test(n)&&(e=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),vt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=o.colorStringFilter);var _t=function(t,e,n,i){if(null==t)return function(t){return t};var r,s=e?(t.match(vt)||[""])[0]:"",o=t.split(s).join("").match(b)||[],a=t.substr(0,t.indexOf(o[0])),l=")"===t.charAt(t.length-1)?")":"",c=-1!==t.indexOf(" ")?" ":",",h=o.length,u=0<h?o[0].replace(x,""):"";return h?r=e?function(t){var e,d,p,f;if("number"==typeof t)t+=u;else if(i&&D.test(t)){for(f=t.replace(D,"|").split("|"),p=0;p<f.length;p++)f[p]=r(f[p]);return f.join(",")}if(e=(t.match(vt)||[s])[0],p=(d=t.split(e).join("").match(b)||[]).length,h>p--)for(;++p<h;)d[p]=n?d[(p-1)/2|0]:o[p];return a+d.join(c)+c+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,d;if("number"==typeof t)t+=u;else if(i&&D.test(t)){for(s=t.replace(D,"|").split("|"),d=0;d<s.length;d++)s[d]=r(s[d]);return s.join(",")}if(d=(e=t.match(b)||[]).length,h>d--)for(;++d<h;)e[d]=n?e[(d-1)/2|0]:o[d];return a+e.join(c)+l}:function(t){return t}},yt=function(t){return t=t.split(","),function(e,n,i,r,s,o,a){var l,c=(n+"").split(" ");for(a={},l=0;l<4;l++)a[t[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(e,a,s,o)}},xt=(Y._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,n,i,r,s,o=this.data,a=o.proxy,l=o.firstMPT;l;)e=a[l.v],l.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),l.t[l.p]=e,l=l._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(l=o.firstMPT,s=1===t?"e":"b";l;){if((n=l.t).type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[s]=r}}else n[s]=n.s+n.xs0;l=l._next}},function(t,e,n,i,r){this.t=t,this.p=e,this.v=n,this.r=r,i&&((i._prev=this)._next=i)}),wt=(Y._parseToProxy=function(t,e,n,i,r,s){var o,a,l,c,h,u=i,d={},p={},f=n._transform,g=j;for(n._transform=null,j=e,i=h=n.parse(t,e,i,r),j=g,s&&(n._transform=f,u&&(u._prev=null,u._prev&&(u._prev._next=null)));i&&i!==u;){if(i.type<=1&&(p[a=i.p]=i.s+i.c,d[a]=i.s,s||(c=new xt(i,"s",a,c,i.r),i.c=0),1===i.type))for(o=i.l;0<--o;)l="xn"+o,p[a=i.p+"_"+l]=i.data[l],d[a]=i[l],s||(c=new xt(i,l,a,c,i.rxp[l]));i=i._next}return{proxy:d,end:p,firstMPT:c,pt:h}},Y.CSSPropTween=function(t,e,i,r,o,a,l,c,h,u,d){this.t=t,this.p=e,this.s=i,this.c=r,this.n=l||e,t instanceof wt||s.push(this.n),this.r=c,this.type=a||0,h&&(this.pr=h,n=!0),this.b=void 0===u?i:u,this.e=void 0===d?i+r:d,o&&((this._next=o)._prev=this)}),bt=function(t,e,n,i,r,s){var o=new wt(t,e,n,i-n,r,-1,s);return o.b=n,o.e=o.xs0=i,o},Et=o.parseComplex=function(t,e,n,i,r,s,a,l,c,u){n=n||s||"","function"==typeof i&&(i=i(v,m)),a=new wt(t,e,0,0,a,u?2:1,null,!1,l,n,i),i+="",r&&vt.test(i+n)&&(i=[n,i],o.colorStringFilter(i),n=i[0],i=i[1]);var d,p,f,g,_,y,b,E,T,S,C,A,P,O=n.split(", ").join(",").split(" "),k=i.split(", ").join(",").split(" "),I=O.length,L=!1!==h;for(-1===i.indexOf(",")&&-1===n.indexOf(",")||(k=-1!==(i+n).indexOf("rgb")||-1!==(i+n).indexOf("hsl")?(O=O.join(" ").replace(D,", ").split(" "),k.join(" ").replace(D,", ").split(" ")):(O=O.join(" ").split(",").join(", ").split(" "),k.join(" ").split(",").join(", ").split(" ")),I=O.length),I!==k.length&&(I=(O=(s||"").split(" ")).length),a.plugin=c,a.setRatio=u,d=vt.lastIndex=0;d<I;d++)if(g=O[d],_=k[d],(E=parseFloat(g))||0===E)a.appendXtra("",E,ht(_,E),_.replace(w,""),L&&-1!==_.indexOf("px"),!0);else if(r&&vt.test(g))A=")"+((A=_.indexOf(")")+1)?_.substr(A):""),P=-1!==_.indexOf("hsl")&&G,S=_,g=gt(g,P),_=gt(_,P),(T=6<g.length+_.length)&&!G&&0===_[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(k[d]).join("transparent")):(G||(T=!1),P?a.appendXtra(S.substr(0,S.indexOf("hsl"))+(T?"hsla(":"hsl("),g[0],ht(_[0],g[0]),",",!1,!0).appendXtra("",g[1],ht(_[1],g[1]),"%,",!1).appendXtra("",g[2],ht(_[2],g[2]),T?"%,":"%"+A,!1):a.appendXtra(S.substr(0,S.indexOf("rgb"))+(T?"rgba(":"rgb("),g[0],_[0]-g[0],",",!0,!0).appendXtra("",g[1],_[1]-g[1],",",!0).appendXtra("",g[2],_[2]-g[2],T?",":A,!0),T&&(g=g.length<4?1:g[3],a.appendXtra("",g,(_.length<4?1:_[3])-g,A,!1))),vt.lastIndex=0;else if(y=g.match(x)){if(!(b=_.match(w))||b.length!==y.length)return a;for(p=f=0;p<y.length;p++)C=y[p],S=g.indexOf(C,f),a.appendXtra(g.substr(f,S-f),Number(C),ht(b[p],C),"",L&&"px"===g.substr(S+C.length,2),0===p),f=S+C.length;a["xs"+a.l]+=g.substr(f)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+_:_;if(-1!==i.indexOf("=")&&a.data){for(A=a.xs0+a.data.s,d=1;d<a.l;d++)A+=a["xs"+d]+a.data["xn"+d];a.e=A+a["xs"+d]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},Tt=9;for((c=wt.prototype).l=c.pr=0;0<--Tt;)c["xn"+Tt]=0,c["xs"+Tt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,n,i,r,s){var o=this,a=o.l;return o["xs"+a]+=s&&(a||o["xs"+a])?" "+t:t||"",n||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=i||"",0<a?(o.data["xn"+a]=e+n,o.rxp["xn"+a]=r,o["xn"+a]=e,o.plugin||(o.xfirst=new wt(o,"xn"+a,e,n,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0)):(o.data={s:e+n},o.rxp={},o.s=e,o.c=n,o.r=r)):o["xs"+a]+=e+(i||""),o};var St=function(t,e){e=e||{},this.p=e.prefix&&Z(t)||t,l[t]=l[this.p]=this,this.format=e.formatter||_t(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Ct=Y._registerComplexSpecialProp=function(t,e,n){"object"!=typeof e&&(e={parser:n});var i,r=t.split(","),s=e.defaultValue;for(n=n||[s],i=0;i<r.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=n[i]||s,new St(r[i],e)},At=Y._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Ct(t,{parser:function(t,n,i,r,s,o,c){var h=a.com.greensock.plugins[e];return h?(h._cssRegister(),l[i].parse(t,n,i,r,s,o,c)):(Q("Error: "+e+" js file not loaded."),s)}})}};(c=St.prototype).parseComplex=function(t,e,n,i,r,s){var o,a,l,c,h,u,d=this.keyword;if(this.multi&&(D.test(n)||D.test(e)?(a=e.replace(D,"|").split("|"),l=n.replace(D,"|").split("|")):d&&(a=[e],l=[n])),l){for(c=l.length>a.length?l.length:a.length,o=0;o<c;o++)e=a[o]=a[o]||this.dflt,n=l[o]=l[o]||this.dflt,d&&(h=e.indexOf(d))!==(u=n.indexOf(d))&&(-1===u?a[o]=a[o].split(d).join(""):-1===h&&(a[o]+=" "+d));e=a.join(", "),n=l.join(", ")}return Et(t,this.p,e,n,this.clrs,this.dflt,i,this.pr,r,s)},c.parse=function(t,e,n,i,s,o,a){return this.parseComplex(t.style,this.format(et(t,this.p,r,!1,this.dflt)),this.format(e),s,o)},o.registerSpecialProp=function(t,e,n){Ct(t,{parser:function(t,i,r,s,o,a,l){var c=new wt(t,r,0,0,o,2,r,!1,n);return c.plugin=a,c.setRatio=e(t,i,s._tween,r),c},priority:n})},o.useSVGTransformAttr=!0;var Pt,Ot,kt,It,Lt,Mt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Rt=Z("transform"),Nt=J+"transform",Dt=Z("transformOrigin"),Ft=null!==Z("perspective"),Bt=Y.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=!(!1===o.defaultForce3D||!Ft)&&(o.defaultForce3D||"auto")},Ht=_gsScope.SVGElement,jt=function(t,e,n){var i,r=z.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(s,"$1-$2").toLowerCase(),n[i]);return e.appendChild(r),r},Vt=z.documentElement||{},zt=(Lt=g||/Android/i.test(q)&&!_gsScope.chrome,z.createElementNS&&!Lt&&(It=(kt=jt("rect",Ot=jt("svg",Vt),{width:100,height:50,x:100})).getBoundingClientRect().width,kt.style[Dt]="50% 50%",kt.style[Rt]="scaleX(0.5)",Lt=It===kt.getBoundingClientRect().width&&!(p&&Ft),Vt.removeChild(Ot)),Lt),Xt=function(t,e,n,i,r,s){var a,l,c,h,u,d,p,f,g,m,v,_,y,x,w=t._gsTransform,b=qt(t,!0);w&&(y=w.xOrigin,x=w.yOrigin),(!i||(a=i.split(" ")).length<2)&&(0===(p=t.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),a=[(-1!==(e=ct(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),n.xOrigin=h=parseFloat(a[0]),n.yOrigin=u=parseFloat(a[1]),i&&b!==Yt&&(d=b[0],p=b[1],f=b[2],g=b[3],m=b[4],v=b[5],(_=d*g-p*f)&&(l=h*(g/_)+u*(-f/_)+(f*v-g*m)/_,c=h*(-p/_)+u*(d/_)-(d*v-p*m)/_,h=n.xOrigin=a[0]=l,u=n.yOrigin=a[1]=c)),w&&(s&&(n.xOffset=w.xOffset,n.yOffset=w.yOffset,w=n),r||!1!==r&&!1!==o.defaultSmoothOrigin?(l=h-y,c=u-x,w.xOffset+=l*b[0]+c*b[2]-l,w.yOffset+=l*b[1]+c*b[3]-c):w.xOffset=w.yOffset=0),s||t.setAttribute("data-svg-origin",a.join(" "))},Wt=function(t){var e,n=X("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(Vt.appendChild(n),n.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Wt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?i.insertBefore(this,r):i.appendChild(this),Vt.removeChild(n),this.style.cssText=s,e},Ut=function(t){return!(!Ht||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(t){try{return t.getBBox()}catch(e){return Wt.call(t,!0)}}(t))},Yt=[1,0,0,1,0,0],qt=function(t,e){var n,i,r,s,o,a,l=t._gsTransform||new Bt,c=t.style;if(Rt?i=et(t,Nt,null,!0):t.currentStyle&&(i=(i=t.currentStyle.filter.match(R))&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,!Rt||!(a=!tt(t)||"none"===tt(t).display)&&t.parentNode||(a&&(s=c.display,c.display="block"),t.parentNode||(o=1,Vt.appendChild(t)),n=!(i=et(t,Nt,null,!0))||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,s?c.display=s:a&&Kt(c,"display"),o&&Vt.removeChild(t)),(l.svg||t.getCTM&&Ut(t))&&(n&&-1!==(c[Rt]+"").indexOf("matrix")&&(i=c[Rt],n=0),r=t.getAttribute("transform"),n&&r&&(-1!==r.indexOf("matrix")?(i=r,n=0):-1!==r.indexOf("translate")&&(i="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return Yt;for(r=(i||"").match(x)||[],Tt=r.length;-1<--Tt;)s=Number(r[Tt]),r[Tt]=(o=s-(s|=0))?(1e5*o+(o<0?-.5:.5)|0)/1e5+s:s;return e&&6<r.length?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Gt=Y.getTransform=function(t,n,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var s,a,l,c,h,u,d=i&&t._gsTransform||new Bt,p=d.scaleX<0,f=Ft&&(parseFloat(et(t,Dt,n,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,g=parseFloat(o.defaultTransformPerspective)||0;if(d.svg=!(!t.getCTM||!Ut(t)),d.svg&&(Xt(t,et(t,Dt,n,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),Pt=o.useSVGTransformAttr||zt),(s=qt(t))!==Yt){if(16===s.length){var m,v,_,y,x,w=s[0],b=s[1],E=s[2],T=s[3],S=s[4],C=s[5],A=s[6],P=s[7],O=s[8],k=s[9],I=s[10],L=s[12],M=s[13],R=s[14],N=s[11],D=Math.atan2(A,I);d.zOrigin&&(L=O*(R=-d.zOrigin)-s[12],M=k*R-s[13],R=I*R+d.zOrigin-s[14]),d.rotationX=D*H,D&&(m=S*(y=Math.cos(-D))+O*(x=Math.sin(-D)),v=C*y+k*x,_=A*y+I*x,O=S*-x+O*y,k=C*-x+k*y,I=A*-x+I*y,N=P*-x+N*y,S=m,C=v,A=_),D=Math.atan2(-E,I),d.rotationY=D*H,D&&(v=b*(y=Math.cos(-D))-k*(x=Math.sin(-D)),_=E*y-I*x,k=b*x+k*y,I=E*x+I*y,N=T*x+N*y,w=m=w*y-O*x,b=v,E=_),D=Math.atan2(b,w),d.rotation=D*H,D&&(m=w*(y=Math.cos(D))+b*(x=Math.sin(D)),v=S*y+C*x,_=O*y+k*x,b=b*y-w*x,C=C*y-S*x,k=k*y-O*x,w=m,S=v,O=_),d.rotationX&&359.9<Math.abs(d.rotationX)+Math.abs(d.rotation)&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),D=Math.atan2(S,C),d.scaleX=(1e5*Math.sqrt(w*w+b*b+E*E)+.5|0)/1e5,d.scaleY=(1e5*Math.sqrt(C*C+A*A)+.5|0)/1e5,d.scaleZ=(1e5*Math.sqrt(O*O+k*k+I*I)+.5|0)/1e5,w/=d.scaleX,S/=d.scaleY,b/=d.scaleX,C/=d.scaleY,2e-5<Math.abs(D)?(d.skewX=D*H,S=0,"simple"!==d.skewType&&(d.scaleY*=1/Math.cos(D))):d.skewX=0,d.perspective=N?1/(N<0?-N:N):0,d.x=L,d.y=M,d.z=R,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*w-d.yOrigin*S),d.y-=d.yOrigin-(d.yOrigin*b-d.xOrigin*C))}else if(!Ft||r||!s.length||d.x!==s[4]||d.y!==s[5]||!d.rotationX&&!d.rotationY){var F=6<=s.length,B=F?s[0]:1,j=s[1]||0,V=s[2]||0,z=F?s[3]:1;d.x=s[4]||0,d.y=s[5]||0,l=Math.sqrt(B*B+j*j),c=Math.sqrt(z*z+V*V),h=B||j?Math.atan2(j,B)*H:d.rotation||0,
u=V||z?Math.atan2(V,z)*H+h:d.skewX||0,d.scaleX=l,d.scaleY=c,d.rotation=h,d.skewX=u,Ft&&(d.rotationX=d.rotationY=d.z=0,d.perspective=g,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*B+d.yOrigin*V),d.y-=d.yOrigin-(d.xOrigin*j+d.yOrigin*z))}for(a in 90<Math.abs(d.skewX)&&Math.abs(d.skewX)<270&&(p?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180)),d.zOrigin=f,d)d[a]<2e-5&&-2e-5<d[a]&&(d[a]=0)}return i&&(t._gsTransform=d).svg&&(Pt&&t.style[Rt]?e.delayedCall(.001,function(){Kt(t.style,Rt)}):!Pt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")})),d},$t=function(t){var e,n,i=this.data,r=-i.rotation*B,s=r+i.skewX*B,o=1e5,a=(Math.cos(r)*i.scaleX*o|0)/o,l=(Math.sin(r)*i.scaleX*o|0)/o,c=(Math.sin(s)*-i.scaleY*o|0)/o,h=(Math.cos(s)*i.scaleY*o|0)/o,u=this.t.style,d=this.t.currentStyle;if(d){n=l,l=-c,c=-n,e=d.filter,u.filter="";var p,f,m=this.t.offsetWidth,v=this.t.offsetHeight,_="absolute"!==d.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+c+", M22="+h,x=i.x+m*i.xPercent/100,w=i.y+v*i.yPercent/100;if(null!=i.ox&&(x+=(p=(i.oxp?m*i.ox*.01:i.ox)-m/2)-(p*a+(f=(i.oyp?v*i.oy*.01:i.oy)-v/2)*l),w+=f-(p*c+f*h)),y+=_?", Dx="+((p=m/2)-(p*a+(f=v/2)*l)+x)+", Dy="+(f-(p*c+f*h)+w)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(N,y):u.filter=y+" "+e,0!==t&&1!==t||1===a&&0===l&&0===c&&1===h&&(_&&-1===y.indexOf("Dx=0, Dy=0")||S.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!_){var b,E,C,A=g<8?1:-1;for(p=i.ieOffsetX||0,f=i.ieOffsetY||0,i.ieOffsetX=Math.round((m-((a<0?-a:a)*m+(l<0?-l:l)*v))/2+x),i.ieOffsetY=Math.round((v-((h<0?-h:h)*v+(c<0?-c:c)*m))/2+w),Tt=0;Tt<4;Tt++)C=(n=-1!==(b=d[E=at[Tt]]).indexOf("px")?parseFloat(b):nt(this.t,E,parseFloat(b),b.replace(T,""))||0)!==i[E]?Tt<2?-i.ieOffsetX:-i.ieOffsetY:Tt<2?p-i.ieOffsetX:f-i.ieOffsetY,u[E]=(i[E]=Math.round(n-C*(0===Tt||2===Tt?1:A)))+"px"}}},Qt=Y.set3DTransformRatio=Y.setTransformRatio=function(t){var e,n,i,r,s,o,a,l,c,h,u,d,f,g,m,v,_,y,x,w,b,E,T,S=this.data,C=this.t.style,A=S.rotation,P=S.rotationX,O=S.rotationY,k=S.scaleX,I=S.scaleY,L=S.scaleZ,M=S.x,R=S.y,N=S.z,D=S.svg,F=S.perspective,H=S.force3D,j=S.skewY,V=S.skewX;if(j&&(V+=j,A+=j),!((1!==t&&0!==t||"auto"!==H||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&H||N||F||O||P||1!==L)||Pt&&D||!Ft)A||V||D?(A*=B,E=V*B,T=1e5,n=Math.cos(A)*k,s=Math.sin(A)*k,i=Math.sin(A-E)*-I,o=Math.cos(A-E)*I,E&&"simple"===S.skewType&&(e=Math.tan(E-j*B),i*=e=Math.sqrt(1+e*e),o*=e,j&&(e=Math.tan(j*B),n*=e=Math.sqrt(1+e*e),s*=e)),D&&(M+=S.xOrigin-(S.xOrigin*n+S.yOrigin*i)+S.xOffset,R+=S.yOrigin-(S.xOrigin*s+S.yOrigin*o)+S.yOffset,Pt&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),M+=.01*S.xPercent*m.width,R+=.01*S.yPercent*m.height),M<(m=1e-6)&&-m<M&&(M=0),R<m&&-m<R&&(R=0)),x=(n*T|0)/T+","+(s*T|0)/T+","+(i*T|0)/T+","+(o*T|0)/T+","+M+","+R+")",D&&Pt?this.t.setAttribute("transform","matrix("+x):C[Rt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+x):C[Rt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+k+",0,0,"+I+","+M+","+R+")";else{if(p&&(k<(m=1e-4)&&-m<k&&(k=L=2e-5),I<m&&-m<I&&(I=L=2e-5),!F||S.z||S.rotationX||S.rotationY||(F=0)),A||V)A*=B,v=n=Math.cos(A),_=s=Math.sin(A),V&&(A-=V*B,v=Math.cos(A),_=Math.sin(A),"simple"===S.skewType&&(e=Math.tan((V-j)*B),v*=e=Math.sqrt(1+e*e),_*=e,S.skewY&&(e=Math.tan(j*B),n*=e=Math.sqrt(1+e*e),s*=e))),i=-_,o=v;else{if(!(O||P||1!==L||F||D))return void(C[Rt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+M+"px,"+R+"px,"+N+"px)"+(1!==k||1!==I?" scale("+k+","+I+")":""));n=o=1,i=s=0}h=1,r=a=l=c=u=d=0,f=F?-1/F:0,g=S.zOrigin,m=1e-6,w=",",b="0",(A=O*B)&&(v=Math.cos(A),u=f*(l=-(_=Math.sin(A))),r=n*_,a=s*_,f*=h=v,n*=v,s*=v),(A=P*B)&&(e=i*(v=Math.cos(A))+r*(_=Math.sin(A)),y=o*v+a*_,c=h*_,d=f*_,r=i*-_+r*v,a=o*-_+a*v,h*=v,f*=v,i=e,o=y),1!==L&&(r*=L,a*=L,h*=L,f*=L),1!==I&&(i*=I,o*=I,c*=I,d*=I),1!==k&&(n*=k,s*=k,l*=k,u*=k),(g||D)&&(g&&(M+=r*-g,R+=a*-g,N+=h*-g+g),D&&(M+=S.xOrigin-(S.xOrigin*n+S.yOrigin*i)+S.xOffset,R+=S.yOrigin-(S.xOrigin*s+S.yOrigin*o)+S.yOffset),M<m&&-m<M&&(M=b),R<m&&-m<R&&(R=b),N<m&&-m<N&&(N=0)),x=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",x+=(n<m&&-m<n?b:n)+w+(s<m&&-m<s?b:s)+w+(l<m&&-m<l?b:l),x+=w+(u<m&&-m<u?b:u)+w+(i<m&&-m<i?b:i)+w+(o<m&&-m<o?b:o),P||O||1!==L?(x+=w+(c<m&&-m<c?b:c)+w+(d<m&&-m<d?b:d)+w+(r<m&&-m<r?b:r),x+=w+(a<m&&-m<a?b:a)+w+(h<m&&-m<h?b:h)+w+(f<m&&-m<f?b:f)+w):x+=",0,0,0,0,1,0,",x+=M+w+R+w+N+w+(F?1+-N/F:1)+")",C[Rt]=x}};(c=Bt.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Ct("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,i,s,a,l){if(i._lastParsedTransform===l)return s;var c,h=(i._lastParsedTransform=l).scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[n]&&(c=l[n],l[n]=e),h&&(l.scale=h(v,t));var u,d,p,f,g,_,y,x,w,b=t._gsTransform,E=t.style,T=Mt.length,S=l,C={},A="transformOrigin",P=Gt(t,r,!0,S.parseTransform),O=S.transform&&("function"==typeof S.transform?S.transform(v,m):S.transform);if(P.skewType=S.skewType||P.skewType||o.defaultSkewType,i._transform=P,O&&"string"==typeof O&&Rt)(d=W.style)[Rt]=O,d.display="block",d.position="absolute",z.body.appendChild(W),u=Gt(W,null,!1),"simple"===P.skewType&&(u.scaleY*=Math.cos(u.skewX*B)),P.svg&&(_=P.xOrigin,y=P.yOrigin,u.x-=P.xOffset,u.y-=P.yOffset,(S.transformOrigin||S.svgOrigin)&&(O={},Xt(t,ct(S.transformOrigin),O,S.svgOrigin,S.smoothOrigin,!0),_=O.xOrigin,y=O.yOrigin,u.x-=O.xOffset-P.xOffset,u.y-=O.yOffset-P.yOffset),(_||y)&&(x=qt(W,!0),u.x-=_-(_*x[0]+y*x[2]),u.y-=y-(_*x[1]+y*x[3]))),z.body.removeChild(W),u.perspective||(u.perspective=P.perspective),null!=S.xPercent&&(u.xPercent=ut(S.xPercent,P.xPercent)),null!=S.yPercent&&(u.yPercent=ut(S.yPercent,P.yPercent));else if("object"==typeof S){if(u={scaleX:ut(null!=S.scaleX?S.scaleX:S.scale,P.scaleX),scaleY:ut(null!=S.scaleY?S.scaleY:S.scale,P.scaleY),scaleZ:ut(S.scaleZ,P.scaleZ),x:ut(S.x,P.x),y:ut(S.y,P.y),z:ut(S.z,P.z),xPercent:ut(S.xPercent,P.xPercent),yPercent:ut(S.yPercent,P.yPercent),perspective:ut(S.transformPerspective,P.perspective)},null!=(g=S.directionalRotation))if("object"==typeof g)for(d in g)S[d]=g[d];else S.rotation=g;"string"==typeof S.x&&-1!==S.x.indexOf("%")&&(u.x=0,u.xPercent=ut(S.x,P.xPercent)),"string"==typeof S.y&&-1!==S.y.indexOf("%")&&(u.y=0,u.yPercent=ut(S.y,P.yPercent)),u.rotation=dt("rotation"in S?S.rotation:"shortRotation"in S?S.shortRotation+"_short":"rotationZ"in S?S.rotationZ:P.rotation,P.rotation,"rotation",C),Ft&&(u.rotationX=dt("rotationX"in S?S.rotationX:"shortRotationX"in S?S.shortRotationX+"_short":P.rotationX||0,P.rotationX,"rotationX",C),u.rotationY=dt("rotationY"in S?S.rotationY:"shortRotationY"in S?S.shortRotationY+"_short":P.rotationY||0,P.rotationY,"rotationY",C)),u.skewX=dt(S.skewX,P.skewX),u.skewY=dt(S.skewY,P.skewY)}for(Ft&&null!=S.force3D&&(P.force3D=S.force3D,f=!0),(p=P.force3D||P.z||P.rotationX||P.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==S.scale||(u.scaleZ=1);-1<--T;)(1e-6<(O=u[w=Mt[T]]-P[w])||O<-1e-6||null!=S[w]||null!=j[w])&&(f=!0,s=new wt(P,w,P[w],O,s),w in C&&(s.e=C[w]),s.xs0=0,s.plugin=a,i._overwriteProps.push(s.n));return O=S.transformOrigin,P.svg&&(O||S.svgOrigin)&&(_=P.xOffset,y=P.yOffset,Xt(t,ct(O),u,S.svgOrigin,S.smoothOrigin),s=bt(P,"xOrigin",(b?P:u).xOrigin,u.xOrigin,s,A),s=bt(P,"yOrigin",(b?P:u).yOrigin,u.yOrigin,s,A),_===P.xOffset&&y===P.yOffset||(s=bt(P,"xOffset",b?_:P.xOffset,P.xOffset,s,A),s=bt(P,"yOffset",b?y:P.yOffset,P.yOffset,s,A)),O="0px 0px"),(O||Ft&&p&&P.zOrigin)&&(Rt?(f=!0,w=Dt,O=(O||et(t,w,r,!1,"50% 50%"))+"",(s=new wt(E,w,0,0,s,-1,A)).b=E[w],s.plugin=a,s.xs0=s.e=Ft?(d=P.zOrigin,O=O.split(" "),P.zOrigin=(2<O.length&&(0===d||"0px"!==O[2])?parseFloat(O[2]):d)||0,s.xs0=s.e=O[0]+" "+(O[1]||"50%")+" 0px",(s=new wt(P,"zOrigin",0,0,s,-1,s.n)).b=d,P.zOrigin):O):ct(O+"",P)),f&&(i._transformType=P.svg&&Pt||!p&&3!==this._transformType?2:3),c&&(l[n]=c),h&&(l.scale=h),s},prefix:!0}),Ct("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ct("borderRadius",{defaultValue:"0px",parser:function(t,e,n,s,o,a){e=this.format(e);var l,c,h,u,d,p,f,g,m,v,_,y,x,w,b,E,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),c=0;c<T.length;c++)this.p.indexOf("border")&&(T[c]=Z(T[c])),-1!==(d=u=et(t,T[c],r,!1,"0px")).indexOf(" ")&&(d=(u=d.split(" "))[0],u=u[1]),p=h=l[c],f=parseFloat(d),y=d.substr((f+"").length),""===(_=(x="="===p.charAt(1))?(g=parseInt(p.charAt(0)+"1",10),p=p.substr(2),g*=parseFloat(p),p.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(p),p.substr((g+"").length)))&&(_=i[n]||y),_!==y&&(w=nt(t,"borderLeft",f,y),b=nt(t,"borderTop",f,y),u="%"===_?(d=w/m*100+"%",b/v*100+"%"):"em"===_?(d=w/(E=nt(t,"borderLeft",1,"em"))+"em",b/E+"em"):(d=w+"px",b+"px"),x&&(p=parseFloat(d)+g+_,h=parseFloat(u)+g+_)),o=Et(S,T[c],d+" "+u,p+" "+h,!1,"0px",o);return o},prefix:!0,formatter:_t("0px 0px 0px 0px",!1,!0)}),Ct("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,i,s,o){return Et(t.style,n,this.format(et(t,n,r,!1,"0px 0px")),this.format(e),!1,"0px",s)},prefix:!0,formatter:_t("0px 0px",!1,!0)}),Ct("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,i,s,o){var a,l,c,h,u,d,p="background-position",f=r||tt(t,null),m=this.format((f?g?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(d=et(t,"backgroundImage").replace(I,""))&&"none"!==d){for(a=m.split(" "),l=v.split(" "),U.setAttribute("src",d),c=2;-1<--c;)(h=-1!==(m=a[c]).indexOf("%"))!=(-1!==l[c].indexOf("%"))&&(u=0===c?t.offsetWidth-U.width:t.offsetHeight-U.height,a[c]=h?parseFloat(m)/100*u+"px":parseFloat(m)/u*100+"%");m=a.join(" ")}return this.parseComplex(t.style,m,v,s,o)},formatter:ct}),Ct("backgroundSize",{defaultValue:"0 0",formatter:function(t){return ct(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),Ct("perspective",{defaultValue:"0px",prefix:!0}),Ct("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ct("transformStyle",{prefix:!0}),Ct("backfaceVisibility",{prefix:!0}),Ct("userSelect",{prefix:!0}),Ct("margin",{parser:yt("marginTop,marginRight,marginBottom,marginLeft")}),Ct("padding",{parser:yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ct("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,i,s,o){var a,l,c;return e=g<9?(l=t.currentStyle,c=g<8?" ":",",a="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",this.format(e).split(",").join(c)):(a=this.format(et(t,this.p,r,!1,this.dflt)),this.format(e)),this.parseComplex(t.style,a,e,s,o)}}),Ct("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ct("autoRound,strictUnits",{parser:function(t,e,n,i,r){return r}}),Ct("border",{defaultValue:"0px solid #000",parser:function(t,e,n,i,s,o){var a=et(t,"borderTopWidth",r,!1,"0px"),l=this.format(e).split(" "),c=l[0].replace(T,"");return"px"!==c&&(a=parseFloat(a)/nt(t,"borderTopWidth",1,c)+c),this.parseComplex(t.style,this.format(a+" "+et(t,"borderTopStyle",r,!1,"solid")+" "+et(t,"borderTopColor",r,!1,"#000")),l.join(" "),s,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(vt)||["#000"])[0]}}),Ct("borderWidth",{parser:yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ct("float,cssFloat,styleFloat",{parser:function(t,e,n,i,r,s){var o=t.style,a="cssFloat"in o?"cssFloat":"styleFloat";return new wt(o,a,0,0,r,-1,n,!1,0,o[a],e)}});var Jt=function(t){var e,n=this.t,i=n.filter||et(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(e=-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(n.removeAttribute("filter"),!et(this.data,"filter")):(n.filter=i.replace(A,""),!0)),e||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),-1===i.indexOf("pacity")?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(S,"opacity="+r))};Ct("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,i,s,o){var a=parseFloat(et(t,"opacity",r,!1,"1")),l=t.style,c="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),c&&1===a&&"hidden"===et(t,"visibility",r)&&0!==e&&(a=0),G?s=new wt(l,"opacity",a,e-a,s):((s=new wt(l,"opacity",100*a,100*(e-a),s)).xn1=c?1:0,l.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=o,s.setRatio=Jt),c&&((s=new wt(l,"visibility",0,0,s,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",i._overwriteProps.push(s.n),i._overwriteProps.push(n)),s}});var Kt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(O,"-$1").toLowerCase())):t.removeAttribute(e))},Zt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,n=this.t.style;e;)e.v?n[e.p]=e.v:Kt(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ct("className",{parser:function(t,e,i,s,o,a,l){var c,h,u,d,p,f=t.getAttribute("class")||"",g=t.style.cssText;if((o=s._classNamePT=new wt(t,i,0,0,o,2)).setRatio=Zt,o.pr=-11,n=!0,o.b=f,h=rt(t,r),u=t._gsClassPT){for(d={},p=u.data;p;)d[p.p]=1,p=p._next;u.setRatio(1)}return(t._gsClassPT=o).e="="!==e.charAt(1)?e:f.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),c=st(t,h,rt(t),l,d),t.setAttribute("class",f),o.data=c.firstMPT,t.style.cssText=g,o.xfirst=s.parse(t,c.difs,o,a)}});var te=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,i,r,s,o=this.t.style,a=l.transform.parse;if("all"===this.e)r=!(o.cssText="");else for(i=(e=this.e.split(" ").join("").split(",")).length;-1<--i;)n=e[i],l[n]&&(l[n].parse===a?r=!0:n="transformOrigin"===n?Dt:l[n].p),Kt(o,n);r&&(Kt(o,Rt),(s=this.t._gsTransform)&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ct("clearProps",{parser:function(t,e,i,r,s){return(s=new wt(t,i,0,0,s,2)).setRatio=te,s.e=e,s.pr=-10,s.data=r._tween,n=!0,s}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Tt=c.length;Tt--;)At(c[Tt]);(c=o.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,a,c){if(!t.nodeType)return!1;this._target=m=t,this._tween=a,this._vars=e,v=c,h=e.autoRound,n=!1,i=e.suffixMap||o.suffixMap,r=tt(t,""),s=this._overwriteProps;var p,g,_,y,x,w,b,E,T,S=t.style;if(u&&""===S.zIndex&&("auto"!==(p=et(t,"zIndex",r))&&""!==p||this._addLazySet(S,"zIndex",0)),"string"==typeof e&&(y=S.cssText,p=rt(t,r),S.cssText=y+";"+e,p=st(t,p,rt(t)).difs,!G&&C.test(e)&&(p.opacity=parseFloat(RegExp.$1)),e=p,S.cssText=y),e.className?this._firstPT=g=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=g=this.parse(t,e,null),this._transformType){for(T=3===this._transformType,Rt?d&&(u=!0,""===S.zIndex&&("auto"!==(b=et(t,"zIndex",r))&&""!==b||this._addLazySet(S,"zIndex",0)),f&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(T?"visible":"hidden"))):S.zoom=1,_=g;_&&_._next;)_=_._next;E=new wt(t,"transform",0,0,null,2),this._linkCSSP(E,null,_),E.setRatio=Rt?Qt:$t,E.data=this._transform||Gt(t,r,!0),E.tween=a,E.pr=-1,s.pop()}if(n){for(;g;){for(w=g._next,_=y;_&&_.pr>g.pr;)_=_._next;(g._prev=_?_._prev:x)?g._prev._next=g:y=g,(g._next=_)?_._prev=g:x=g,g=w}this._firstPT=y}return!0},c.parse=function(t,e,n,s){var o,a,c,u,d,p,f,g,_,y,x=t.style;for(o in e){if("function"==typeof(p=e[o])&&(p=p(v,m)),a=l[o])n=a.parse(t,p,o,this,n,s,e);else{if("--"===o.substr(0,2)){this._tween._propLookup[o]=this._addTween.call(this._tween,t.style,"setProperty",tt(t).getPropertyValue(o)+"",p+"",o,!1,o);continue}d=et(t,o,r)+"",_="string"==typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||_&&P.test(p)?(_||(p=(3<(p=gt(p)).length?"rgba(":"rgb(")+p.join(",")+")"),n=Et(x,o,d,p,!0,"transparent",n,0,s)):_&&F.test(p)?n=Et(x,o,d,p,!0,null,n,0,s):(f=(c=parseFloat(d))||0===c?d.substr((c+"").length):"",""!==d&&"auto"!==d||(f="width"===o||"height"===o?(c=lt(t,o,r),"px"):"left"===o||"top"===o?(c=it(t,o,r),"px"):(c="opacity"!==o?0:1,"")),""===(g=(y=_&&"="===p.charAt(1))?(u=parseInt(p.charAt(0)+"1",10),p=p.substr(2),u*=parseFloat(p),p.replace(T,"")):(u=parseFloat(p),_?p.replace(T,""):""))&&(g=o in i?i[o]:f),p=u||0===u?(y?u+c:u)+g:e[o],f!==g&&(""===g&&"lineHeight"!==o||(u||0===u)&&c&&(c=nt(t,o,c,f),"%"===g?(c/=nt(t,o,100,"%")/100,!0!==e.strictUnits&&(d=c+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?c/=nt(t,o,1,g):"px"!==g&&(u=nt(t,o,u,g),g="px"),y&&(u||0===u)&&(p=u+c+g))),y&&(u+=c),!c&&0!==c||!u&&0!==u?void 0!==x[o]&&(p||p+""!="NaN"&&null!=p)?(n=new wt(x,o,u||c||0,0,n,-1,o,!1,0,d,p)).xs0="none"!==p||"display"!==o&&-1===o.indexOf("Style")?p:d:Q("invalid "+o+" tween value: "+e[o]):(n=new wt(x,o,c,u-c,n,0,o,!1!==h&&("px"===g||"zIndex"===o),0,d,p)).xs0=g)}s&&n&&!n.plugin&&(n.plugin=s)}return n},c.setRatio=function(t){var e,n,i,r=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),r.type)if(1===r.type)if(2===(i=r.l))r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||Gt(this._target,r,!0),this._transformType=this._transform.svg&&Pt||!t&&3!==this._transformType?2:3};var ee=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,n){var i=this._firstPT=new wt(t,e,0,0,this._firstPT,2);i.e=n,i.setRatio=ee,i.data=this},c._linkCSSP=function(t,e,n,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),n?n._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var n,i,r,s=e;if(e.autoAlpha||e.alpha){for(i in s={},e)s[i]=e[i];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(e.className&&(n=this._classNamePT)&&((r=n.xfirst)&&r._prev?this._linkCSSP(r._prev,n._next,r._prev._prev):r===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,r._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==i&&n.plugin._kill&&(n.plugin._kill(e),i=n.plugin),n=n._next;return t.prototype._kill.call(this,s)};var ne=function(t,e,n){var i,r,s,o;if(t.slice)for(r=t.length;-1<--r;)ne(t[r],e,n);else for(r=(i=t.childNodes).length;-1<--r;)o=(s=i[r]).type,s.style&&(e.push(rt(s)),n&&n.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||ne(s,e,n)};return o.cascadeTo=function(t,n,i){var r,s,o,a,l=e.to(t,n,i),c=[l],h=[],u=[],d=[],p=e._internals.reservedProps;for(t=l._targets||l.target,ne(t,h,d),l.render(n,!0,!0),ne(t,u),l.render(0,!0,!0),l._enabled(!0),r=d.length;-1<--r;)if((s=st(d[r],h[r],u[r])).firstMPT){for(o in s=s.difs,i)p[o]&&(s[o]=i[o]);for(o in a={},s)a[o]=h[r][o];c.push(e.fromTo(d[r],n,a,s))}return c},t.activate([o]),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).CSSPlugin};"undefined"!=typeof module&&module.exports?(require("../TweenLite.js"),module.exports=e()):"function"==typeof define&&define.amd&&define(["TweenLite"],e)}();_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=(_gsScope.document||{}).documentElement,e=_gsScope,n=function(n,i){var r="x"===i?"Width":"Height",s="scroll"+r,o="client"+r,a=document.body;return n===e||n===t||n===a?Math.max(t[s],a[s])-(e["inner"+r]||t[o]||a[o]):n[s]-n["offset"+r]},i=function(n,i){var r="scroll"+("x"===i?"Left":"Top");return n===e&&(null!=n.pageXOffset?r="page"+i.toUpperCase()+"Offset":n=null!=t[r]?t:document.body),function(){return n[r]}},r=function(n,r){var s,o=(s=n,"string"==typeof s&&(s=TweenLite.selector(s)),s.length&&s!==e&&s[0]&&s[0].style&&!s.nodeType&&(s=s[0]),s===e||s.nodeType&&s.style?s:null).getBoundingClientRect(),a=!r||r===e||r===document.body,l=(a?t:r).getBoundingClientRect(),c={x:o.left-l.left,y:o.top-l.top};return!a&&r&&(c.x+=i(r,"x")(),c.y+=i(r,"y")()),c},s=function(t,e,i){var s=typeof t;return isNaN(t)?"number"===s||"string"===s&&"="===t.charAt(1)?t:"max"===t?n(e,i):Math.min(n(e,i),r(t,e)[i]):parseFloat(t)},o=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.9.0",init:function(t,n,r){return this._wdw=t===e,this._target=t,this._tween=r,"object"!=typeof n?"string"==typeof(n={y:n}).y&&"max"!==n.y&&"="!==n.y.charAt(1)&&(n.x=n.y):n.nodeType&&(n={y:n,x:n}),this.vars=n,this._autoKill=!1!==n.autoKill,this.getX=i(t,"x"),this.getY=i(t,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=n.x?(this._addTween(this,"x",this.x,s(n.x,t,"x")-(n.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=n.y?(this._addTween(this,"y",this.y,s(n.y,t,"y")-(n.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var i=this._wdw||!this.skipX?this.getX():this.xPrev,r=this._wdw||!this.skipY?this.getY():this.yPrev,s=r-this.yPrev,a=i-this.xPrev,l=o.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(l<a||a<-l)&&i<n(this._target,"x")&&(this.skipX=!0),!this.skipY&&(l<s||s<-l)&&r<n(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?e.scrollTo(this.skipX?i:this.x,this.skipY?r:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),a=o.prototype;o.max=n,o.getOffset=r,o.buildGetter=i,o.autoKillThreshold=7,a._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).ScrollToPlugin};"undefined"!=typeof module&&module.exports?(require("../TweenLite.js"),module.exports=e()):"function"==typeof define&&define.amd&&define(["TweenLite"],e)}(),function(t,e){"use strict";var n={},i=t.document,r=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!r.TweenLite){var s,o,a,l,c,h,u,d=function(t){var e,n=t.split("."),i=r;for(e=0;e<n.length;e++)i[n[e]]=i=i[n[e]]||{};return i},p=d("com.greensock"),f=1e-10,g=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},m=function(){},v=(h=Object.prototype.toString,u=h.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&h.call(t)===u)}),_={},y=function(i,s,o,a){this.sc=_[i]?_[i].sc:[],(_[i]=this).gsClass=null,this.func=o;var l=[];this.check=function(c){for(var h,u,p,f,g=s.length,m=g;-1<--g;)(h=_[s[g]]||new y(s[g],[])).gsClass?(l[g]=h.gsClass,m--):c&&h.sc.push(this);if(0===m&&o){if(p=(u=("com.greensock."+i).split(".")).pop(),f=d(u.join("."))[p]=this.gsClass=o.apply(o,l),a)if(r[p]=n[p]=f,"undefined"!=typeof module&&module.exports)if(i===e)for(g in module.exports=n[e]=f,n)f[g]=n[g];else n[e]&&(n[e][p]=f);else"function"==typeof define&&define.amd&&define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+i.split(".").pop(),[],function(){return f});for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)},x=t._gsDefine=function(t,e,n,i){return new y(t,e,n,i)},w=p._class=function(t,e,n){return e=e||function(){},x(t,[],function(){return e},n),e};x.globals=r;var b=[0,0,1,1],E=w("easing.Ease",function(t,e,n,i){this._func=t,this._type=n||0,this._power=i||0,this._params=e?b.concat(e):b},!0),T=E.map={},S=E.register=function(t,e,n,i){for(var r,s,o,a,l=e.split(","),c=l.length,h=(n||"easeIn,easeOut,easeInOut").split(",");-1<--c;)for(s=l[c],r=i?w("easing."+s,null,!0):p.easing[s]||{},o=h.length;-1<--o;)a=h[o],T[s+"."+a]=T[a+s]=r[a]=t.getRatio?t:t[a]||new t};for((a=E.prototype)._calcEnd=!1,a.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,i=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===e?1-i:2===e?i:t<.5?i/2:1-i/2},o=(s=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--o;)a=s[o]+",Power"+o,S(new E(null,null,1,o),a,"easeOut",!0),S(new E(null,null,2,o),a,"easeIn"+(0===o?",easeNone":"")),S(new E(null,null,3,o),a,"easeInOut");T.linear=p.easing.Linear.easeIn,T.swing=p.easing.Quad.easeInOut;var C=w("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(a=C.prototype).addEventListener=function(t,e,n,i,r){r=r||0;var s,o,a=this._listeners[t],h=0;for(this!==l||c||l.wake(),null==a&&(this._listeners[t]=a=[]),o=a.length;-1<--o;)(s=a[o]).c===e&&s.s===n?a.splice(o,1):0===h&&s.pr<r&&(h=o+1);a.splice(h,0,{c:e,s:n,up:i,pr:r})},a.removeEventListener=function(t,e){var n,i=this._listeners[t];if(i)for(n=i.length;-1<--n;)if(i[n].c===e)return void i.splice(n,1)},a.dispatchEvent=function(t){var e,n,i,r=this._listeners[t];if(r)for(1<(e=r.length)&&(r=r.slice(0)),n=this._eventTarget;-1<--e;)(i=r[e])&&(i.up?i.c.call(i.s||n,{type:t,target:n}):i.c.call(i.s||n))};var A=t.requestAnimationFrame,P=t.cancelAnimationFrame,O=Date.now||function(){return(new Date).getTime()},k=O();for(o=(s=["ms","moz","webkit","o"]).length;-1<--o&&!A;)A=t[s[o]+"RequestAnimationFrame"],P=t[s[o]+"CancelAnimationFrame"]||t[s[o]+"CancelRequestAnimationFrame"];w("Ticker",function(t,e){var n,r,s,o,a,h=this,u=O(),d=!(!1===e||!A)&&"auto",p=500,g=33,v=function(t){var e,i,l=O()-k;p<l&&(u+=l-g),k+=l,h.time=(k-u)/1e3,e=h.time-a,(!n||0<e||!0===t)&&(h.frame++,a+=e+(o<=e?.004:o-e),i=!0),!0!==t&&(s=r(v)),i&&h.dispatchEvent("tick")};C.call(h),h.time=h.frame=0,h.tick=function(){v(!0)},h.lagSmoothing=function(t,e){if(!arguments.length)return p<1/f;p=t||1/f,g=Math.min(e,p,0)},h.sleep=function(){null!=s&&(d&&P?P(s):clearTimeout(s),r=m,s=null,h===l&&(c=!1))},h.wake=function(t){null!==s?h.sleep():t?u+=-k+(k=O()):10<h.frame&&(k=O()-p+5),r=0===n?m:d&&A?A:function(t){return setTimeout(t,1e3*(a-h.time)+1|0)},h===l&&(c=!0),v(2)},h.fps=function(t){if(!arguments.length)return n;o=1/((n=t)||60),a=this.time+o,h.wake()},h.useRAF=function(t){if(!arguments.length)return d;h.sleep(),d=t,h.fps(n)},h.fps(t),setTimeout(function(){"auto"===d&&h.frame<5&&"hidden"!==i.visibilityState&&h.useRAF(!1)},1500)}),(a=p.Ticker.prototype=new p.events.EventDispatcher).constructor=p.Ticker;var I=w("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Q){c||l.wake();var n=this.vars.useFrames?$:Q;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});l=I.ticker=new p.Ticker,(a=I.prototype)._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var L=function(){c&&2e3<O()-k&&("hidden"!==i.visibilityState||!l.lagSmoothing())&&l.wake();var t=setTimeout(L,2e3);t.unref&&t.unref()};L(),a.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},a.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},a.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},a.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},a.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},a.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},a.render=function(t,e,n){},a.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},a.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<n+this.totalDuration()/this._timeScale-1e-7},a._enabled=function(t,e){return c||l.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(t,e){return this._enabled(!1,!1)},a.kill=function(t,e){return this._kill(t,e),this},a._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},a._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();-1<--e;)"{self}"===t[e]&&(n[e]=this);return n},a._callback=function(t){var e=this.vars,n=e[t],i=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(i?i.length:0){case 0:n.call(r);break;case 1:n.call(r,i[0]);break;case 2:n.call(r,i[0],i[1]);break;default:n.apply(r,i)}},a.eventCallback=function(t,e,n,i){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=v(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,r[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},a.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},a.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},a.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},a.totalTime=function(t,e,n){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration()
;var i=this._totalDuration,r=this._timeline;if(i<t&&!n&&(t=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(D.length&&K(),this.render(t,e,!1),D.length&&K())}return this},a.progress=a.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},a.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},a.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},a.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,n;for(t=t||f,this._timeline&&this._timeline.smoothChildTiming&&(n=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/t),this._timeScale=t,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},a.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(t){if(!arguments.length)return this._paused;var e,n,i=this._timeline;return t!=this._paused&&i&&(c||t||l.wake(),n=(e=i.rawTime())-this._pauseTime,!t&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&(e=i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var M=w("core.SimpleTimeline",function(t){I.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(a=M.prototype=new I).constructor=M,a.kill()._gc=!1,a._first=a._last=a._recent=null,a._sortChildren=!1,a.add=a.insert=function(t,e,n,i){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},a._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},a.render=function(t,e,n){var i,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)i=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=i},a.rawTime=function(){return c||l.wake(),this._totalTime};var R=w("TweenLite",function(e,n,i){if(I.call(this,n,i),this.render=R.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:R.selector(e)||e;var r,s,o,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?G[R.defaultOverwrite]:"number"==typeof l?l>>0:G[l],(a||e instanceof Array||e.push&&v(e))&&"number"!=typeof e[0])for(this._targets=o=g(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)(s=o[r])?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(g(s))):(this._siblings[r]=Z(s,this,!1),1===l&&1<this._siblings[r].length&&et(s,this,null,1,this._siblings[r])):"string"==typeof(s=o[r--]=R.selector(s))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=Z(e,this,!1),1===l&&1<this._siblings.length&&et(e,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-f,this.render(Math.min(0,-this._delay)))},!0),N=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)};(a=R.prototype=new I).constructor=R,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=a._lazy=!1,R.version="1.20.3",R.defaultEase=a._ease=new E(null,null,1,1),R.defaultOverwrite="auto",R.ticker=l,R.autoSleep=120,R.lagSmoothing=function(t,e){l.lagSmoothing(t,e)},R.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(R.selector=n)(e):void 0===i?e:i.querySelectorAll?i.querySelectorAll(e):i.getElementById("#"===e.charAt(0)?e.substr(1):e)};var D=[],F={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,H=/[\+-]=-?[\.\d]/,j=function(t){for(var e,n=this._firstPT;n;)e=n.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:n.c*t+n.s,n.m?e=n.m(e,this._target||n.t):e<1e-6&&-1e-6<e&&!n.blob&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},V=function(t,e,n,i){var r,s,o,a,l,c,h,u=[],d=0,p="",f=0;for(u.start=t,u.end=e,t=u[0]=t+"",e=u[1]=e+"",n&&(n(u),t=u[0],e=u[1]),u.length=0,r=t.match(B)||[],s=e.match(B)||[],i&&(i._next=null,i.blob=1,u._firstPT=u._applyPT=i),l=s.length,a=0;a<l;a++)h=s[a],p+=(c=e.substr(d,e.indexOf(h,d)-d))||!a?c:",",d+=c.length,f?f=(f+1)%5:"rgba("===c.substr(-5)&&(f=1),h===r[a]||r.length<=a?p+=h:(p&&(u.push(p),p=""),o=parseFloat(r[a]),u.push(o),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:o,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-o)||0,f:0,m:f&&f<4?Math.round:0}),d+=h.length;return(p+=e.substr(d))&&u.push(p),u.setRatio=j,H.test(e)&&(u.end=null),u},z=function(t,e,n,i,r,s,o,a,l){"function"==typeof i&&(i=i(l||0,t));var c=typeof t[e],h="function"!==c?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),u="get"!==n?n:h?o?t[h](o):t[h]():t[e],d="string"==typeof i&&"="===i.charAt(1),p={t:t,p:e,s:u,f:"function"===c,pg:0,n:r||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:d?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-u||0};if(("number"!=typeof u||"number"!=typeof i&&!d)&&(o||isNaN(u)||!d&&isNaN(i)||"boolean"==typeof u||"boolean"==typeof i?(p.fp=o,p={t:V(u,d?parseFloat(p.s)+p.c:i,a||R.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(p.s=parseFloat(u),d||(p.c=parseFloat(i)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p},X=R._internals={isArray:v,isSelector:N,lazyTweens:D,blobDif:V},W=R._plugins={},U=X.tweenLookup={},Y=0,q=X.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},G={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},$=I._rootFramesTimeline=new M,Q=I._rootTimeline=new M,J=30,K=X.lazyRender=function(){var t,e=D.length;for(F={};-1<--e;)(t=D[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);D.length=0};Q._startTime=l.time,$._startTime=l.frame,Q._active=$._active=!0,setTimeout(K,1),I._updateRoot=R.render=function(){var t,e,n;if(D.length&&K(),Q.render((l.time-Q._startTime)*Q._timeScale,!1,!1),$.render((l.frame-$._startTime)*$._timeScale,!1,!1),D.length&&K(),l.frame>=J){for(n in J=l.frame+(parseInt(R.autoSleep,10)||120),U){for(t=(e=U[n].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete U[n]}if((!(n=Q._first)||n._paused)&&R.autoSleep&&!$._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",I._updateRoot);var Z=function(t,e,n){var i,r,s=t._gsTweenID;if(U[s||(t._gsTweenID=s="t"+Y++)]||(U[s]={target:t,tweens:[]}),e&&((i=U[s].tweens)[r=i.length]=e,n))for(;-1<--r;)i[r]===e&&i.splice(r,1);return U[s].tweens},tt=function(t,e,n,i){var r,s,o=t.vars.onOverwrite;return o&&(r=o(t,e,n,i)),(o=R.onOverwrite)&&(s=o(t,e,n,i)),!1!==r&&!1!==s},et=function(t,e,n,i,r){var s,o,a,l;if(1===i||4<=i){for(l=r.length,s=0;s<l;s++)if((a=r[s])!==e)a._gc||a._kill(null,t,e)&&(o=!0);else if(5===i)break;return o}var c,h=e._startTime+f,u=[],d=0,p=0===e._duration;for(s=r.length;-1<--s;)(a=r[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(c=c||nt(e,0,p),0===nt(a,c,p)&&(u[d++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((p||!a._initted)&&h-a._startTime<=2e-10||(u[d++]=a)));for(s=d;-1<--s;)if(a=u[s],2===i&&a._kill(n,t,e)&&(o=!0),2!==i||!a._firstPT&&a._initted){if(2!==i&&!tt(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},nt=function(t,e,n){for(var i=t._timeline,r=i._timeScale,s=t._startTime;i._timeline;){if(s+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return e<(s/=r)?s-e:n&&s===e||!t._initted&&s-e<2*f?f:(s+=t.totalDuration()/t._timeScale/r)>e+f?0:s-e-f};a._init=function(){var t,e,n,i,r,s,o=this.vars,a=this._overwrittenProps,l=this._duration,c=!!o.immediateRender,h=o.ease;if(o.startAt){for(i in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={},o.startAt)r[i]=o.startAt[i];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=c&&!1!==o.lazy,r.startAt=r.delay=null,r.onUpdate=o.onUpdate,r.onUpdateParams=o.onUpdateParams,r.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=R.to(this.target,0,r),c)if(0<this._time)this._startAt=null;else if(0!==l)return}else if(o.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(i in 0!==this._time&&(c=!1),n={},o)q[i]&&"autoCSS"!==i||(n[i]=o[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&!1!==o.lazy,n.immediateRender=c,this._startAt=R.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof E?h:"function"==typeof h?new E(h,o.easeParams):T[h]||R.defaultEase:R.defaultEase,o.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&R._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=o.onUpdate,this._initted=!0},a._initProps=function(e,n,i,r,s){var o,a,l,c,h,u;if(null==e)return!1;for(o in F[e._gsTweenID]&&K(),this.vars.css||e.style&&e!==t&&e.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(t,e){var n,i={};for(n in t)q[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!W[n]||W[n]&&W[n]._autoCSS)||(i[n]=t[n],delete t[n]);t.css=i}(this.vars,e),this.vars)if(u=this.vars[o],q[o])u&&(u instanceof Array||u.push&&v(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[o]=u=this._swapSelfInParams(u,this));else if(W[o]&&(c=new W[o])._onInitTween(e,this.vars[o],this,s)){for(this._firstPT=h={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:c._priority,m:0},a=c._overwriteProps.length;-1<--a;)n[c._overwriteProps[a]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else n[o]=z.call(this,e,o,"get",u,o,0,null,this.vars.stringFilter,s);return r&&this._kill(r,e)?this._initProps(e,n,i,r,s):1<this._overwrite&&this._firstPT&&1<i.length&&et(e,this,n,this._overwrite,i)?(this._kill(n,e),this._initProps(e,n,i,r,s)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),l)},a.render=function(t,e,n){var i,r,s,o,a=this._time,l=this._duration,c=this._rawPrevTime;if(l-1e-7<=t&&0<=t)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(c<0||t<=0&&-1e-7<=t||c===f&&"isPause"!==this.data)&&c!==t&&(n=!0,f<c&&(r="onReverseComplete")),this._rawPrevTime=o=!e||t||c===t?t:f);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&0<c)&&(r="onReverseComplete",i=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(0<=c&&(c!==f||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=o=!e||t||c===t?t:f)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,u=this._easeType,d=this._easePower;(1===u||3===u&&.5<=h)&&(h=1-h),3===u&&(h*=2),1===d?h*=h:2===d?h*=h*h:3===d?h*=h*h*h:4===d&&(h*=h*h*h*h),this.ratio=1===u?1-h:2===u?h:t/l<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=c,D.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&0<=t&&(this._active=!0),0===a&&(this._startAt&&(0<=t?this._startAt.render(t,!0,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,n),e||(this._time!==a||i||n)&&this._callback("onUpdate")),r&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===f&&o!==f&&(this._rawPrevTime=0)))}},a._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:R.selector(e)||e;var i,r,s,o,a,l,c,h,u,d=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((v(e)||N(e))&&"number"!=typeof e[0])for(i=e.length;-1<--i;)this._kill(t,e[i],n)&&(l=!0);else{if(this._targets){for(i=this._targets.length;-1<--i;)if(e===this._targets[i]){a=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(c=t||a,h=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),n&&(R.onOverwrite||this.vars.onOverwrite)){for(s in c)a[s]&&(u||(u=[]),u.push(s));if((u||!t)&&!tt(this,n,e,u))return!1}for(s in c)(o=a[s])&&(d&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,l=!0),o.pg&&o.t._kill(c)&&(l=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),h&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},a.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],I.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-f,this.render(Math.min(0,-this._delay))),this},a._enabled=function(t,e){if(c||l.wake(),t&&this._gc){var n,i=this._targets;if(i)for(n=i.length;-1<--n;)this._siblings[n]=Z(i[n],this,!0);else this._siblings=Z(this.target,this,!0)}return I.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(t?"_onEnable":"_onDisable",this)},R.to=function(t,e,n){return new R(t,e,n)},R.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new R(t,e,n)},R.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new R(t,e,i)},R.delayedCall=function(t,e,n,i,r){return new R(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},R.set=function(t,e){return new R(t,0,e)},R.getTweensOf=function(t,e){if(null==t)return[];var n,i,r,s;if(t="string"!=typeof t?t:R.selector(t)||t,(v(t)||N(t))&&"number"!=typeof t[0]){for(n=t.length,i=[];-1<--n;)i=i.concat(R.getTweensOf(t[n],e));for(n=i.length;-1<--n;)for(s=i[n],r=n;-1<--r;)s===i[r]&&i.splice(n,1)}else if(t._gsTweenID)for(n=(i=Z(t).concat()).length;-1<--n;)(i[n]._gc||e&&!i[n].isActive())&&i.splice(n,1);return i||[]},R.killTweensOf=R.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var i=R.getTweensOf(t,e),r=i.length;-1<--r;)i[r]._kill(n,t)};var it=w("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=it.prototype},!0);if(a=it.prototype,it.version="1.19.0",it.API=2,a._firstPT=null,a._addTween=z,a.setRatio=j,a._kill=function(t){var e,n=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;-1<--e;)null!=t[n[e]]&&n.splice(e,1);for(;i;)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},a._mod=a._roundProps=function(t){for(var e,n=this._firstPT;n;)(e=t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===n.f?n.t._applyPT.m=e:n.m=e),n=n._next},R._onPluginEvent=function(t,e){var n,i,r,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,i=r;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:s)?a._prev._next=a:r=a,(a._next=i)?i._prev=a:s=a,a=o}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(n=!0),a=a._next;return n},it.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===it.API&&(W[(new t[e])._propName]=t[e]);return!0},x.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,i=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=w("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){it.call(this,n,i),this._overwriteProps=r||[]},!0===t.global),a=o.prototype=new it(n);for(e in(a.constructor=o).API=t.API,s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,it.activate([o]),o},s=t._gsQueue){for(o=0;o<s.length;o++)s[o]();for(a in _)_[a].func||t.console.log("GSAP encountered missing dependency: "+a)}c=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite"),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,n){return t<e?e:n<t?n:t}function e(t){return 100*(-1+t)}function n(t,e){return 0<=("string"==typeof t?t:s(t)).indexOf(" "+e+" ")}function i(t,e){var i=s(t),r=i+e;n(i,e)||(t.className=r.substring(1))}function r(t,e){var i,r=s(t);n(t,e)&&(i=r.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1))}function s(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function o(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var a,l,c={version:"0.2.0"},h=c.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};c.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(h[e]=n);return this},c.status=null,c.set=function(n){var i=c.isStarted();n=t(n,h.minimum,1),c.status=1===n?null:n;var r=c.render(!i),s=r.querySelector(h.barSelector),o=h.speed,a=h.easing;return r.offsetWidth,u(function(t){var i,l,u,p;""===h.positionUsing&&(h.positionUsing=c.getPositioningCSS()),d(s,(i=n,l=o,u=a,(p="translate3d"===h.positionUsing?{transform:"translate3d("+e(i)+"%,0,0)"}:"translate"===h.positionUsing?{transform:"translate("+e(i)+"%,0)"}:{"margin-left":e(i)+"%"}).transition="all "+l+"ms "+u,p)),1===n?(d(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){d(r,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){c.remove(),t()},o)},o)):setTimeout(t,o)}),this},c.isStarted=function(){return"number"==typeof c.status},c.start=function(){c.status||c.set(0);var t=function(){setTimeout(function(){c.status&&(c.trickle(),t())},h.trickleSpeed)};return h.trickle&&t(),this},c.done=function(t){return t||c.status?c.inc(.3+.5*Math.random()).set(1):this},c.inc=function(e){var n=c.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),c.set(n)):c.start()},c.trickle=function(){return c.inc(Math.random()*h.trickleRate)},l=a=0,c.promise=function(t){return t&&"resolved"!==t.state()&&(0===l&&c.start(),a++,l++,t.always(function(){0==--l?(a=0,c.done()):c.set((a-l)/a)})),this},c.render=function(t){if(c.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=h.template;var r,s=n.querySelector(h.barSelector),a=t?"-100":e(c.status||0),l=document.querySelector(h.parent);return d(s,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),h.showSpinner||(r=n.querySelector(h.spinnerSelector))&&o(r),l!=document.body&&i(l,"nprogress-custom-parent"),l.appendChild(n),n},c.remove=function(){r(document.documentElement,"nprogress-busy"),r(document.querySelector(h.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&o(t)},c.isRendered=function(){return!!document.getElementById("nprogress")},c.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var u=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),d=function(){function t(t,i,r){var s;s=(s=i).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),i=n[s]||(n[s]=function(t){var n=document.body.style;if(t in n)return t;for(var i,r=e.length,s=t.charAt(0).toUpperCase()+t.slice(1);r--;)if((i=e[r]+s)in n)return i;return t}(s)),t.style[i]=r}var e=["Webkit","O","Moz","ms"],n={};return function(e,n){var i,r,s=arguments;if(2==s.length)for(i in n)void 0!==(r=n[i])&&n.hasOwnProperty(i)&&t(e,i,r);else t(e,s[1],s[2])}}();return c});var Variables={animTime:1.3,animTime2:1.3*.7,animTime3:.52,animEaseOut:null,animEaseIn:null,animEaseInOut:null,isMobile:relax.browser.isMobile&&window.innerWidth<=620,isLocalhost:-1!==window.location.href.indexOf("localhost")||"8888"==window.location.port,init:function(){Variables.animEaseOut=window.Quart.easeOut,Variables.animEaseIn=window.Quart.easeIn,Variables.animEaseInOut=window.Quart.easeInOut},getPaddingRatio:function(){return window.innerWidth<768?.85:.64},getLowerEndPaddingRatio:function(){return window.innerWidth<768?1-.85:.36},getWindowInnerHeight:function(){var t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?document.documentElement.clientHeight:window.innerHeight,e=document.documentElement;return e.style.setProperty("--app-height",t+"px"),e.style.setProperty("--app-half-height",.5*t+"px"),1*t}},Helper=function(){function t(){}return t.runLoadBlockDisolver=function(t){var e=!1,n=t.querySelectorAll("template[prevent-load-block]");if(n){0<n.length&&(e=!0);for(var i=0;i<n.length;i++){var r=n[i].parentNode,s=n[i].innerHTML,o=n[i],a=document.createElement("div");a.innerHTML=s,r.replaceChild(a.children[0].cloneNode(!0),o)}}return!e},t.shuffle=function(t){var e,n,i;for(i=t.length-1;0<i;i--)e=Math.floor(Math.random()*(i+1)),n=t[i],t[i]=t[e],t[e]=n;return t},t.getParameterByName=function(t,e){void 0===e&&(e=null),e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},t.checkAppHREF=function(t){return-1!=t.indexOf(window.location.origin)&&(t=t.split(window.location.origin)[1]),"/"!=t.substr(0,1)&&(t="/"+t),t},t.HTMLAnchorClick=function(e){e.preventDefault();var n=t.checkAppHREF(e.currentTarget.getAttribute("href"));n&&Router.navigate(n)},t.bindSelfClicks=function(e,n){for(var i=e.querySelectorAll("a[target=_self]"),r=0;r<i.length;r++){var s=i[r];s.callback=n||t.HTMLAnchorClick.bind(s),s.addEventListener("click",s.callback,!1)}},t.unbindSelfClicks=function(t){for(var e=t.querySelectorAll("a[target=_self]"),n=0;n<e.length;n++){var i=e[n];i.removeEventListener("click",i.callback,!1),i.callback=null}},t}(),Router={routes:[],mode:null,root:"/",config:function(t){return this.mode=t&&t.mode&&("history-push"==t.mode||"history-replace"==t.mode)&&history.pushState?t.mode:"hash",this.root=t&&t.root?"/"+this.clearSlashes(t.root)+"/":"/",this},getFragment:function(){var t="";if("history-push"===this.mode||"history-replace"===this.mode)t=this.clearSlashes(decodeURI(location.pathname+location.search)),t="/"!=this.root?t.replace(this.root,""):t;else{var e=window.location.href.match(/#(.*)$/);t=e?e[1]:""}return this.clearSlashes(t)},clearSlashes:function(t){return t.toString().replace(/\/$/,"").replace(/^\//,"")},add:function(t,e){return"function"==typeof t&&(e=t,t=""),this.routes.push({re:t,handler:e}),this},remove:function(t){for(var e,n=0;this.routes.length,e=this.routes[n];n++)if(e.handler===t||e.re.toString()===t.toString())return this.routes.splice(n,1),this;return this},flush:function(){return this.routes=[],this.mode=null,this.root="/",this},check:function(t){for(var e=t||this.getFragment(),n=0;n<this.routes.length;n++){var i=e.match(this.routes[n].re);if(i)return i.shift(),this.routes[n].handler.apply({},i),this}return this},listen:function(){var t=this,e=t.getFragment();return clearInterval(this.interval),this.interval=setInterval(function(){e!==t.getFragment()&&(e=t.getFragment(),t.check(e))},50),this},navigate:function(t){return-1===(t=t||"").indexOf("http")&&"/"!==t.substr(0,1)&&(t="/"+t),"history-push"===this.mode?history.pushState(null,null,this.root+this.clearSlashes(t)):"history-replace"===this.mode?history.replaceState(null,null,this.root+this.clearSlashes(t)):window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+t,this},hash:function(t){window.location.hash=t}},PageTypes={HOME:"home",CLIENTS:"clients",CONTACT:"contact",PROJECT:"project",EXPLORE:"explore",DEFAULT:"default",EXPLORE_RESULT:"explore-result"},RouterExtensionEvents={FETCHED:"re-on-fetched",PRE_FETCH:"re-pre-fetch",ROUTE_CHANGE:"re-on-route-change",HASH_CHANGE:"re-on-hash-change"},RouterExtension=function(){function t(){var t=this;this.firstCheckDone=!1,this.response="",this.pageType="",this.oldPageType="";var e=window.rootFolder;Router.config({mode:"history-push",root:e}),window.NProgress.configure({showSpinner:!1}),this.response=document.getElementById("app-page").innerHTML,Router.add(function(){t.handleRoute()}).listen().check(),window.addEventListener("hashchange",this.onHashChange.bind(this),!1)}return Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInitialState",{get:function(){return!this.xhr},enumerable:!0,configurable:!0}),t.prototype.onHashChange=function(t){document.dispatchEvent(new CustomEvent(RouterExtensionEvents.HASH_CHANGE,{detail:window.location.hash}))},t.prototype.handleRoute=function(){var e=this;if(t.ignorePageLoading||document.body.classList.add("page--loading"),t.ignorePageLoading=!1,document.dispatchEvent(new CustomEvent(RouterExtensionEvents.PRE_FETCH,{detail:this})),this.oldPageType=this.pageType,window.NProgress.start(),this.firstCheckDone){document.dispatchEvent(new CustomEvent(RouterExtensionEvents.ROUTE_CHANGE,{detail:this})),this.xhr?this.xhr.abort():(this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.onNewPageFetched.bind(this),!1));var n=Router.getFragment();this.xhr.open("GET","/"!==n.substr(0,1)?"/"+n:n,!0),this.xhr.setRequestHeader("ajax","true"),this.xhr.setRequestHeader("X-Requested-With","xmlhttprequest"),this.xhr.send()}else requestAnimationFrame(function(){e.handleNewPage()});this.firstCheckDone=!0},t.prototype.onNewPageFetched=function(t){200==this.xhr.status?(this.response=this.xhr.response,this.handleNewPage()):window.location.href=window.location.origin},t.prototype.handleNewPage=function(){if(this.isInitialState)this._element=document.getElementById("app-page").getElementsByTagName("main")[0];else{var t=document.createDocumentFragment(),e=document.createElement("div");for(e.innerHTML=this.response;e.firstChild;)t.appendChild(e.firstChild),e.firstChild&&e.firstChild.id&&"app-page"===e.firstChild.id&&(this._element=e.firstChild.children[0])}this.pageType=this.element.getAttribute("page-type"),this.isInitialState||this.pageType!==PageTypes.HOME||(this.pageType=PageTypes.CLIENTS),this.oldPageType&&document.body.classList.remove("page-type--"+this.oldPageType),document.body.classList.remove("page--loading"),document.body.classList.add("page-type--"+this.pageType),document.dispatchEvent(new CustomEvent(RouterExtensionEvents.FETCHED,{detail:this})),window.NProgress.done()},t.ignorePageLoading=!1,t}(),BasicAppView=function(){function t(t){t&&t.el&&this.setEl(t.el),this.onResizeCallback=this.onResize.bind(this),window.addEventListener("resize",this.onResizeCallback,!1),this.onScrollCallback=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollCallback,!1),this.onHashChangeCallback=this.onHashChange.bind(this),document.addEventListener(RouterExtensionEvents.HASH_CHANGE,this.onHashChangeCallback,!1),this.onRouteContentFetchedCallback=this.onRouteContentFetched.bind(this),document.addEventListener(RouterExtensionEvents.FETCHED,this.onRouteContentFetchedCallback,!1),this.onRouteChangeCallback=this.onRouteChange.bind(this),document.addEventListener(RouterExtensionEvents.ROUTE_CHANGE,this.onRouteChangeCallback,!1)}return t.prototype.setEl=function(t){this.el&&Helper.unbindSelfClicks(this.el),this.el=t,Helper.bindSelfClicks(this.el)},t.prototype.onRouteContentFetched=function(t){},t.prototype.onRouteChange=function(t){},t.prototype.onHashChange=function(t){},t.prototype.onResize=function(t){},t.prototype.onScroll=function(t){},t.prototype.dealloc=function(){Helper.unbindSelfClicks(this.el),window.removeEventListener("resize",this.onResizeCallback,!1),this.onResizeCallback=null,window.removeEventListener("scroll",this.onScrollCallback,!1),
this.onScrollCallback=null,document.removeEventListener(RouterExtensionEvents.HASH_CHANGE,this.onHashChangeCallback,!1),this.onHashChangeCallback=null,document.removeEventListener(RouterExtensionEvents.FETCHED,this.onRouteContentFetchedCallback,!1),this.onRouteContentFetchedCallback=null,document.removeEventListener(RouterExtensionEvents.ROUTE_CHANGE,this.onRouteChangeCallback,!1),this.onRouteChangeCallback=null},t}(),BasicPage=function(){function t(t){var e=this;this.preliminaryToLoad=0,this.animatingIn=!1,this.animatedIn=!1,this.wantsToAnimateIn=!1,this.hasPreliminaryLoaded=!1,this.el=t.el,this.type=t.type,this.onHashChangeCallback=this.onHashChange.bind(this),document.addEventListener(RouterExtensionEvents.HASH_CHANGE,this.onHashChangeCallback,!1),this.onResizeCallback=this.onResize.bind(this),window.addEventListener("resize",this.onResizeCallback,!1),this.ScrollCallback=this.onScroll.bind(this),window.addEventListener("scroll",this.ScrollCallback,!1),this.hasPreliminaryLoaded=Helper.runLoadBlockDisolver(this.el),requestAnimationFrame(function(){picturefill({elements:[e.el]}),e.animateIn()}),Helper.bindSelfClicks(this.el)}return t.prototype.pingResize=function(){setTimeout(function(){try{window.dispatchEvent(new Event("resize"))}catch(e){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}},0)},t.prototype.animateOut=function(t){if(this.el){this.el.classList.add("animate-out");for(var e=this.el.querySelectorAll("img[preliminary-load]"),n=0;n<e.length;n++)e[n].removeEventListener("load",this.preliminaryLoadCallback,!1);this.preliminaryLoadCallback=null,window.removeEventListener("resize",this.onResizeCallback,!1),this.onResizeCallback=null,window.removeEventListener("scroll",this.ScrollCallback,!1),this.ScrollCallback=null,document.removeEventListener(RouterExtensionEvents.HASH_CHANGE,this.onHashChangeCallback,!1),this.onHashChangeCallback=null,setTimeout(function(){t&&t()},0)}else t()},t.prototype.animateIn=function(){this.wantsToAnimateIn=!0,this.hasPreliminaryLoaded&&(document.getElementById("app-page").classList.add("page-loaded"),this.el.classList.add("ready"),this.animatingIn=!0)},t.prototype.onAnimatedIn=function(){this.animatedIn=!0},t.prototype.dealloc=function(){Helper.unbindSelfClicks(this.el),this.el.parentNode.removeChild(this.el),this.el=null},t.prototype.onPreliminaryLoaded=function(t){this.preliminaryToLoad--,this.hasPreliminaryLoaded=this.preliminaryToLoad<=0,this.hasPreliminaryLoaded&&this.wantsToAnimateIn&&!this.animatingIn&&(this.pingResize(),this.animateIn())},t.prototype.onScrollButtonClick=function(t){t.stopImmediatePropagation()},t.prototype.onHashChange=function(t){this.findHashAndSet()},t.prototype.onResize=function(t){},t.prototype.onScroll=function(t){},t.prototype.findHashAndSet=function(){},t}(),__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),HeaderEvent={HAMBURGER_CLICK:"HeaderEvent-HAMBURGER_CLICK",SCROLL_TO_EXPLORE_VISIBILITY_CHANGE:"HeaderEvent-SCROLL_TO_EXPLORE_VISIBILITY_CHANGE"},HeaderView=function(t){function e(e){var n=t.call(this,e)||this;return n.onNewPageTimer=0,n.showScrollToExplore=!1,n.canShowScrollToexplore=!0,n.hamburgerLine=n.el.getElementsByTagName("hamburger-line")[0],document.addEventListener(SliderElementEvents.ANIMATED_IN,n.onElementsBuild.bind(n),!1),document.addEventListener(SliderElementEvents.FIGURE_ANIMATED_IN,n.onElementsBuild.bind(n),!1),document.addEventListener(RouterExtensionEvents.PRE_FETCH,n.handlePreFetch.bind(n),!1),document.addEventListener(RouterExtensionEvents.FETCHED,n.handleNewPage.bind(n),!1),document.addEventListener(ScrollControllerEvents.SCROLLING,n.onScrolling.bind(n)),n}return __extends(e,t),e.prototype.onElementsBuild=function(t){var e=window.app.router.pageType,n=-1!==[PageTypes.HOME].indexOf(e);this.el.classList.toggle("show",n),this.canShowScrollToexplore=e===PageTypes.HOME||e===PageTypes.PROJECT,e===PageTypes.PROJECT&&window.innerWidth<620&&(this.canShowScrollToexplore=!1),this.toggleScrollToExplore(this.canShowScrollToexplore)},e.prototype.handlePreFetch=function(t){this.toggleScrollToExplore(!1)},e.prototype.handleNewPage=function(t){var e=Router.getFragment();""===e&&(e="/"),[].slice.call(this.el.querySelectorAll("nav[role='navigation'] li")).map(function(t,n){t.classList.remove("active","active-semi");var i=t.getElementsByTagName("a")[0].getAttribute("href");"/"!==i&&-1!==e.indexOf(i)?t.classList.add("active-semi"):"/"!==i||e!==i&&-1===e.indexOf("editorial")||t.classList.add("active-semi"),t.getElementsByTagName("a")[0].getAttribute("href")===e&&t.classList.add("active")})},e.prototype.onScrolling=function(t){var e=t.detail;e.position<ScrollController.maxMin-10&&this.showScrollToExplore?this.toggleScrollToExplore(!1):e.position>ScrollController.maxMin-10&&!this.showScrollToExplore&&this.canShowScrollToexplore&&this.toggleScrollToExplore(!0)},e.prototype.toggleScrollToExplore=function(t){t?(document.body.classList.add("scroll-to-explore--show"),document.dispatchEvent(new CustomEvent(HeaderEvent.SCROLL_TO_EXPLORE_VISIBILITY_CHANGE,{detail:!0}))):(document.body.classList.remove("scroll-to-explore--show"),document.dispatchEvent(new CustomEvent(HeaderEvent.SCROLL_TO_EXPLORE_VISIBILITY_CHANGE,{detail:!1}))),t&&this.canShowScrollToexplore?this.hamburgerLine.classList.add("show"):this.hamburgerLine.classList.remove("show"),this.showScrollToExplore=t},e}(BasicAppView),FaceView=function(){function t(t){var e=this;this.el=t.el,this.points=[],this.el.getAttribute("data-face").split("[").join("").split("]").join("").split(",").forEach(function(t){e.points.push(Number(t))}),this.ctx=this.el.getContext("2d"),this.resize()}return t.prototype.resize=function(){this.el.parentElement,this.el.width=this.el.offsetWidth,this.el.height=this.el.offsetHeight,this.draw()},t.prototype.draw=function(){this.ctx.clearRect(0,0,this.el.width,this.el.height);for(var t=0;t<this.points.length;t+=2){var e=this.points[t],n=this.points[t+1];this.ctx.arc(this.el.width*e,this.el.height*n,10,0,0,!1),this.ctx.fillStyle="red",this.ctx.fill()}},t.prototype.dealloc=function(){this.ctx=null},t}(),SliderContentPage=(__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){function e(e){var n=t.call(this,e)||this;return n.animOutTimer=0,n.closeButton=n.el.querySelector('button[type="close"]'),n.closeButton&&(n.closeCallback=n.onCloseClick.bind(n),n.closeButton.addEventListener("click",n.closeCallback,!1)),n}return __extends(e,t),e.prototype.onCloseClick=function(t){var e=Helper.checkAppHREF(this.el.getAttribute("data-parent-url"));Router.navigate(e)},e.prototype.animateIn=function(){t.prototype.animateIn.call(this),this.closeButton&&this.closeButton.classList.add("animate-in"),this.el.getElementsByClassName("slider-content")[0].classList.add("animate-in")},e.prototype.animateOut=function(e){var n=this;clearInterval(this.animOutTimer),this.closeButton&&this.closeButton.classList.remove("animate-in"),this.el.getElementsByClassName("slider-content")[0].classList.add("animate-out"),this.animOutTimer=setTimeout(function(){return t.prototype.animateOut.call(n,e)},1e3)},e.prototype.onResize=function(t){},e.prototype.dealloc=function(){document.removeEventListener(ScrollControllerEvents.SCROLLING,this.onScrollingCallback,!1),this.onScrollingCallback=null,this.closeButton&&(this.closeButton.removeEventListener("click",this.closeCallback,!1),this.closeButton=null,this.closeCallback=null),t.prototype.dealloc.call(this)},e}(BasicPage)),ClientsPage=(__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){function e(e){var n=t.call(this,e)||this;return n.sliderUi=new SliderUI({el:n.el.getElementsByClassName("slider-ui")[0]}),n}return __extends(e,t),e.prototype.animateIn=function(){t.prototype.animateIn.call(this),this.sliderUi.animateIn()},e.prototype.animateOut=function(e){var n=this;this.sliderUi.animateOut(function(){t.prototype.animateOut.call(n,e)})},e.prototype.dealloc=function(){this.sliderUi.dealloc(),this.sliderUi=null,t.prototype.dealloc.call(this)},e}(BasicPage)),ExplorePage=(__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){function e(e){var n=t.call(this,e)||this;n._scrolled=!1,n.listAnimtingIn=!1,n.onTypeButtonClickCallback=n.onTypeButtonClick.bind(n);for(var i=0,r=[].slice.call(n.el.querySelectorAll("menu button"));i<r.length;i++)r[i].addEventListener("click",n.onTypeButtonClickCallback,!1);return setTimeout(function(){return n.listType=n.el.querySelector(".lists").getAttribute("type")},1e3),Helper.unbindSelfClicks(n.el),n.onListItemClickCallback=n.onListItemClick.bind(n),Helper.bindSelfClicks(n.el,n.onListItemClickCallback),n}return __extends(e,t),e.prototype.onHeaderVisibilityToggle=function(t){var e=t.detail;this.el.querySelector(".lists").classList.toggle("show-background",e)},e.prototype.onListItemClick=function(t){t.preventDefault();var e=Helper.checkAppHREF(t.currentTarget.getAttribute("href")),n=t.currentTarget;(this.elementToAnimateOutTo=n).parentNode.classList.add("selected"),this.activeList.classList.add("disabled"),Router.navigate(e)},Object.defineProperty(e.prototype,"scrolled",{set:function(t){this._scrolled!==t&&(this._scrolled=t,this._scrolled?this.el.classList.add("scrolled"):this.el.classList.remove("scrolled"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listType",{get:function(){return this._listType},set:function(t){var e=this;this._listType=t,this.activeList=this.el.querySelector(".lists ul.list-"+this._listType);var n=window.getComputedStyle(this.activeList,null),i=parseInt(n.getPropertyValue("left"),10),r=this.activeList.offsetWidth+i-window.innerWidth;window.innerWidth<768&&(r+=33);try{document.cookie="list-type="+this._listType}catch(t){}gsap.TweenLite.set(this.activeList,{force3D:!0,x:window.innerWidth-i}),gsap.TweenLite.to(this.activeList,.5*Variables.animTime,{ease:Variables.animEaseOut,force3D:!0,onStart:function(){return e.listAnimtingIn=!0},onComplete:function(){return e.listAnimtingIn=!1},x:0}),this.scrolled=!1,ScrollController.minMin=-1*r},enumerable:!0,configurable:!0}),e.prototype.onCustomScrolling=function(t){var e=t.detail;this.scrolled=e.position<-10,this.listAnimtingIn||gsap.TweenLite.set(this.activeList,{force3D:!0,x:e.position})},e.prototype.onTypeButtonClick=function(t){for(var e=this,n=0;n<this.el.querySelectorAll("menu button").length;n++)this.el.querySelectorAll("menu button")[n].classList.remove("selected");t.currentTarget.classList.add("selected");var i=window.getComputedStyle(this.activeList,null),r=parseInt(i.getPropertyValue("left"),10),s=t.currentTarget.getAttribute("type");gsap.TweenLite.to(this.activeList,.5*Variables.animTime,{ease:Variables.animEaseIn,force3D:!0,x:window.innerWidth-r,onComplete:function(){return e.onOldTypeAnimatedOut(s)}})},e.prototype.onOldTypeAnimatedOut=function(t){window.app.scrollController.reset(),this.el.querySelector(".lists").setAttribute("type",t),this.listType=t},e.prototype.onResize=function(t){},e.prototype.animateOut=function(e){var n=this;if(t.prototype.animateOut.call(this),this.elementToAnimateOutTo){var i=window.app.scrollController,r=Variables.getPaddingRatio()*window.innerWidth,s=this.elementToAnimateOutTo.parentNode.offsetLeft;gsap.TweenLite.to(this.elementToAnimateOutTo,.5*Variables.animTime,{ease:Variables.animEaseInOut,x:-1*(r+s+i.position),opacity:0,force3D:!0,onStart:function(){return n.listAnimtingIn=!0},onComplete:function(){e()}})}else setTimeout(function(){return e()},0)},e.prototype.dealloc=function(){this.onListItemClickCallback=null;for(var e=0,n=[].slice.call(this.el.querySelectorAll("menu button"));e<n.length;e++)n[e].removeEventListener("click",this.onTypeButtonClickCallback,!1);this.onTypeButtonClickCallback=null,t.prototype.dealloc.call(this)},e}(SliderContentPage)),ExploreResultPage=(__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){function e(e){var n=t.call(this,e)||this;return n.colorBox=n.el.getElementsByClassName("color-box")[0],n.colorBoxLeft=0,n}return __extends(e,t),e.prototype.onResize=function(e){t.prototype.onResize.call(this,e),this.colorBox&&(this.colorBoxLeft=this.colorBox.offsetLeft)},e.prototype.onCustomScrolling=function(t){var e=t.detail;if(this.colorBox){var n=Math.abs(e.position)/50;0===this.colorBoxLeft&&this.onResize(null),gsap.TweenLite.set(this.colorBox,{force3D:!0,x:n*this.colorBoxLeft*-1})}},e}(SliderContentPage)),MouseFollow=function(){function t(){var t=this;this.bindTimer=0,this._bunkOver=!1,this.canSet=!1,this.onPreFetch=function(){t.bunkOver=!1,clearTimeout(t.bindTimer),t.removeBunks()},this.onBunksChange=function(){var e=window.app.router.pageType;if(-1!==[PageTypes.HOME,PageTypes.CLIENTS].indexOf(e)){t.canSet=!0,t.removeBunks(),t.bunkElements=document.getElementsByClassName("image");for(var n=0;n<t.bunkElements.length;n++){var i=t.bunkElements[n];i.addEventListener("mouseenter",t.onBunkElementEnter,!1),i.addEventListener("mouseover",t.onBunkElementEnter,!1),i.addEventListener("mouseleave",t.onBunkElementLeave,!1)}t.bunkOver=t.bunkOver}},this.handleNewPage=function(){clearTimeout(t.bindTimer),t.bindTimer=setTimeout(function(){t.onBunksChange()},1500)},this.onBunkElementEnter=function(e){t.bunkOver=!0},this.onBunkElementLeave=function(e){t.bunkOver=!1},this.onMouseMove=function(e){FigureElementForBunk.inScaleMode?t.bunkOver=!1:(t.vector=relax.geom.getXYFromMouseTouchEvent(e),gsap.TweenLite.set(t.el,{force3D:!0,x:t.vector.x,y:t.vector.y}))},document.addEventListener("mousemove",this.onMouseMove,!1),this.el=document.createElement("div"),this.el.id="follow";var e=document.createElement("div");e.classList.add("inner"),this.el.appendChild(e),document.body.appendChild(this.el),document.addEventListener(ApplicationEvents.PAGE_APPENDED,this.handleNewPage,!1),document.addEventListener(RouterExtensionEvents.PRE_FETCH,this.onPreFetch,!1),document.addEventListener(SliderElementEvents.ORDER_CHANGED,this.onBunksChange,!1)}return t.prototype.removeBunks=function(){if(this.bunkElements)for(var t=0;t<this.bunkElements.length;t++){var e=this.bunkElements[t];e.removeEventListener("mouseenter",this.onBunkElementEnter,!1),e.removeEventListener("mouseover",this.onBunkElementEnter,!1),e.removeEventListener("mouseleave",this.onBunkElementLeave,!1)}},Object.defineProperty(t.prototype,"bunkOver",{get:function(){return this._bunkOver},set:function(t){if((!this.vector||0===this.vector.x&&0===this.vector.y)&&(t=!1),this._bunkOver=t,this.canSet){var e=this.el.getElementsByClassName("inner")[0];t?(gsap.TweenLite.to(e,.35*Variables.animTime,{ease:Variables.animEaseOut,force3D:!0,scale:1,y:0}),this.el.classList.add("bunk--zoomin")):(gsap.TweenLite.to(e,.35*Variables.animTime,{ease:Variables.animEaseOut,force3D:!0,scale:0,y:0,onComplete:function(){gsap.TweenLite.set(e,{force3D:!0,y:-40})}}),this.el.classList.remove("bunk--zoomin"))}},enumerable:!0,configurable:!0}),t}(),ScrollControllerEvents={SCROLLED:"ScrollControllerEvents-SCROLLED",SCROLLING:"ScrollControllerEvents-SCROLLING"},ScrollController=function(){function t(){this.yPosition=0,this.xPosition=0,this._yTarget=0,this._xTarget=0,this.disabled=!1,this.scrollingTo=!1,this._hasInitScrolled=!1,this.yAcceleration=0,this.reset();var e=relax.browser.isTouch()&&(relax.browser.isMobile()||relax.browser.isTablet()),n=relax.browser.isFirefox()?1.5:.8;VirtualScroll.options({keyStep:200,firefoxMult:10*n,touchMult:n*(e?2.5:3),mouseMult:n}),VirtualScroll.on(this.onVirtualScroll.bind(this)),t.customScrollEnabled=!0}return Object.defineProperty(t.prototype,"hasInitScrolled",{get:function(){return this._hasInitScrolled},set:function(t){(this._hasInitScrolled=t)&&document.body.classList.add("init-scrolled")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yTarget",{get:function(){return this._yTarget},set:function(e){this._yTarget=Math.min(t.maxMin,e),0!==t.minMin&&(this._yTarget=Math.max(this._yTarget,t.minMin))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xTarget",{get:function(){return this._xTarget},set:function(e){this._xTarget=Math.min(t.maxMin,e),0!==t.minMin&&(this._xTarget=Math.max(this._xTarget,t.minMin))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.yPosition},enumerable:!0,configurable:!0}),t.prototype.addToTarget=function(t,e){void 0===e&&(e=!1),this.yTarget+=t,this.scrollingTo=!e,this.render()},t.prototype.scrollTo=function(t,e){void 0===e&&(e=!1);var n=this.yTarget+(-1*t-this.yTarget);n!==this.yTarget&&(this.scrollingTo=!e,this.yTarget=n,this.render())},t.prototype.reset=function(){t.minMin=0,t.maxMin=0,this.yPosition=0,this.xPosition=0,this.yTarget=0,this.xTarget=0},t.prototype.handleNewPage=function(){window.app.router.oldPageType;var t=window.app.router.pageType;this.sliderElements&&this.sliderElements.ignorePageChange&&t===PageTypes.PROJECT||this.reset(),this.disabled=t===PageTypes.CONTACT;var e=window.app.router;this.sliderElements||(this.sliderElements=new SliderElements({infinite:-1===[PageTypes.CONTACT,PageTypes.EXPLORE_RESULT].indexOf(t)})),this.sliderElements.update(e.response)},t.prototype.onVirtualScroll=function(t){if(Application.introDone&&!this.scrollingTo&&!this.disabled){var e=this.yTarget+t.deltaY;this.yTarget=e;var n=this.xTarget+t.deltaX;this.xTarget=n,window.innerWidth<=1024&&(this.yTarget=this.xTarget),this.rAf||this.render()}},t.prototype.render=function(){var t=this;this.rAf&&cancelAnimationFrame(this.rAf),this.scrollYDirection=this.yTarget<this.yPosition?1:this.yTarget>this.yPosition?-1:0,this.scrollXDirection=this.xTarget<this.xPosition?1:this.xTarget>this.xPosition?-1:0,this.yPosition+=.2*(this.yTarget-this.yPosition),this.xPosition+=.2*(this.xTarget-this.xPosition);var e=this.yPosition-this.yTarget;this.yAcceleration+=.2*(e-this.yAcceleration),this.sliderElements&&this.sliderElements.setX(this.yPosition);var n=.05<Math.abs(this.yAcceleration);n?this.rAf=requestAnimationFrame(function(){return t.render()}):(this.rAf=null,document.dispatchEvent(new CustomEvent(ScrollControllerEvents.SCROLLED))),document.dispatchEvent(new CustomEvent(ScrollControllerEvents.SCROLLING,{detail:this})),this.position<-100&&!this.hasInitScrolled&&(this.hasInitScrolled=!0),n||(this.scrollingTo=!1)},t.customScrollEnabled=!1,t.maxMin=0,t.minMin=0,t}(),SliderUIEvents=(__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),{MENU_BUTTON_CLICK:"SliderUIEvents-MENU_BUTTON_CLICK"}),SliderUI=function(t){function e(e){var n=t.call(this,e)||this;return n.onElementsBuildCallback=n.onElementsBuild.bind(n),n.onFocusIndexUpdateCallback=n.onFocusIndexUpdate.bind(n),document.addEventListener("keyup",n.onKeyUp.bind(n),!1),document.addEventListener(SliderElementsEvents.ELEMENTS_BUILD,n.onElementsBuildCallback,!1),document.addEventListener(SliderElementsEvents.FOCUS_INDEX_UPDATE,n.onFocusIndexUpdateCallback,!1),n}return __extends(e,t),e.prototype.animateIn=function(){this.el.classList.add("animate-in")},e.prototype.animateOut=function(t){this.el.classList.remove("animate-in"),setTimeout(function(){return t()},300)},e.prototype.dealloc=function(){document.removeEventListener(SliderElementsEvents.ELEMENTS_BUILD,this.onElementsBuildCallback,!1),document.removeEventListener(SliderElementsEvents.FOCUS_INDEX_UPDATE,this.onFocusIndexUpdateCallback,!1),this.onElementsBuildCallback=null,this.onFocusIndexUpdateCallback=null},e.prototype.onElementsBuild=function(t){var e=t.detail;this.index=0,this.length=e.numElements},e.prototype.onFocusIndexUpdate=function(t){var e=t.detail.focusIndex;this.index=e},e.prototype.onKeyUp=function(t){39===t.keyCode?document.dispatchEvent(new CustomEvent(SliderUIEvents.MENU_BUTTON_CLICK,{detail:!0})):37===t.keyCode&&document.dispatchEvent(new CustomEvent(SliderUIEvents.MENU_BUTTON_CLICK,{detail:!1}))},Object.defineProperty(e.prototype,"index",{set:function(t){var e,n=0;this.indexSpan&&(n=.1,e=this.indexSpan,gsap.TweenLite.to(e,.25*Variables.animTime,{force3D:!0,ease:Variables.animEaseOut,y:10,opacity:0,onComplete:function(){try{for(;1<e.parentNode.children.length;)e.parentNode.removeChild(e.parentNode.children[0])}catch(t){}}})),t+=1;var i=document.getElementById("slider-ui-index");this.indexSpan=document.createElement("span"),this.indexSpan.innerHTML=1==t.toString().length?"0"+t.toString():t.toString(),this.indexSpan&&i&&(i.appendChild(this.indexSpan),gsap.TweenLite.set(this.indexSpan,{force3D:!0,y:-10,opacity:0}),gsap.TweenLite.to(this.indexSpan,.25*Variables.animTime,{ease:Variables.animEaseOut,force3D:!0,delay:n,y:0,opacity:1}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{set:function(t){var e="<span>"+(1==t.toString().length?"0"+t.toString():t.toString())+"</span>",n=document.getElementById("slider-ui-length");n&&(n.innerHTML=e)},enumerable:!0,configurable:!0}),e}(BasicAppView),SliderInfo=(__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){function e(n){var i=t.call(this,n)||this;i.text="",i.currentCategoryText="&thinsp;QI AN",i.currentCategoryNumChildren="",i.showingBranding=!0,i.canShowLogoType=!1,i.hasSetupForIntro=!1,i.introWantsToAnimateInRequestd=!1,i.isShowingIntroScreen=!1,e.instance=i;var r=window.app.router.pageType;return i.canShowLogoType=r===PageTypes.HOME||r===PageTypes.CONTACT,document.addEventListener(ScrollControllerEvents.SCROLLING,i.onCustomScrolling.bind(i),!1),document.addEventListener(SliderElementsEvents.ELEMENTS_BUILD,function(t){var e=t.detail;i.currentCategoryText=e.getCurrentDataset().getAttribute("data-client"),i.currentCategoryNumChildren=e.getCurrentDataset().getAttribute("data-length"),i.showingBranding||i.updateData(i.currentCategoryText,!1)}),document.addEventListener(SliderElementsEvents.FOCUS_INDEX_UPDATE,function(t){var e=t.detail;i.currentCategoryText=e.getCurrentDataset().getAttribute("data-client"),i.currentCategoryNumChildren=e.getCurrentDataset().getAttribute("data-length"),i.showingBranding||i.updateData(i.currentCategoryText,!1)}),document.addEventListener(ApplicationEvents.PAGE_APPENDED,function(t){return i.onPageChange()},!1),Application.introDone?(i.hasSetupForIntro=!0,i.onPageChange()):i.animateInForIntro(),i}return __extends(e,t),e.prototype.animateInForIntro=function(){var t=this;this.showingBranding=!0,this.updateData("&thinsp;QI AN",!0,"",function(){t.hasSetupForIntro=!0,t.introWantsToAnimateInRequestd&&t.slideIntrotToPlace()}),setTimeout(function(){return t.animateIntroSpansIn1()},0)},e.prototype.slideIntrotToPlace=function(){document.body.classList.add("show"),Application.onIntroStart(),this.isShowingIntroScreen=!1,this.introBunkCallback();for(var t=3,e=this.el.getElementsByClassName("left")[0],n=(e=e.children[e.children.length-1]).getElementsByClassName("item"),i=0;i<n.length;i++){var r=n[i];gsap.TweenLite.to(r,1.25*Variables.animTime,{ease:Variables.animEaseInOut,delay:.04*i,force3D:!0,x:0,onComplete:function(){0==--t&&Application.onIntroDone()}})}},e.prototype.animateIntroSpansIn1=function(){var t=this,e=this.el.getElementsByClassName("left")[0];e=e.children[e.children.length-1];for(var n=.034*window.innerWidth,i=.5*window.innerWidth-n,r=e.getElementsByClassName("item"),s=0,o=[77,77,85],a=[57,57,66],l=0;l<r.length;l++){var c=r[l];gsap.TweenLite.set(c,{force3D:!0,opacity:0,x:i+(c.classList.contains("subtitle")?768<window.innerWidth?-40:-30:-.5*(768<window.innerWidth?o[l]:a[l])),y:-30}),gsap.TweenLite.to(c,Variables.animTime,{ease:Variables.animEaseOut,delay:1+.04*(r.length-l),force3D:!0,opacity:1,y:0,onComplete:function(){t.isShowingIntroScreen=!0,t.introBunkCallback&&0==s++&&(t.introBunkCallback(),t.slideIntrotToPlace())}})}},e.prototype.introWantsToAnimateIn=function(t){this.introBunkCallback=t,this.introWantsToAnimateInRequestd=!0,this.isShowingIntroScreen&&this.slideIntrotToPlace()},e.prototype.onPageChange=function(){this.showingBranding=!1;var t=window.app.router.pageType;this.canShowLogoType=!Application.introDone||t===PageTypes.HOME||t===PageTypes.CONTACT,this.canShowLogoType&&this.updateData("&thinsp;QI AN",!0,"")},e.prototype.onCustomScrolling=function(t){var e=t.detail;this.canShowLogoType&&(e.position>=Math.round(ScrollController.maxMin)-20?this.showingBranding||this.updateData("&thinsp;QI AN",!0,""):e.position<Math.round(ScrollController.maxMin)&&this.showingBranding&&this.updateData(this.currentCategoryText,!1))},e.prototype.updateData=function(t,e,n,i){if(this.showingBranding=e,t&&this.text!==t){var r=this.el.getElementsByClassName("left")[0];this.animateSpansOut();var s=document.createElement("div"),o='\n                <span class="item '+(e&&"branding")+'"> '+t.split(" ").join('</span><span class="item '+(e&&"branding")+'">')+" </span>\n            ";if(n&&(o+="<span class='item subtitle'>"+n+"</span>"),s.innerHTML=o,r.appendChild(s),this.text=t,!e){var a=document.createElement("sup");a.innerHTML="("+this.currentCategoryNumChildren+")";var l=s.getElementsByTagName("span");0<l.length&&l[l.length-1].appendChild(a)}this.animateSpansIn(i,e?.5:0)}},e.prototype.animateSpansIn=function(t,e){if(void 0===e&&(e=0),Application.introDone)for(var n=this.el.getElementsByClassName("left")[0],i=(n=n.children[n.children.length-1]).getElementsByClassName("item"),r=i.length,s=0;s<i.length;s++){var o=i[s];gsap.TweenLite.set(o,{force3D:!0,y:-30,opacity:0}),gsap.TweenLite.to(o,.5*Variables.animTime,{ease:Variables.animEaseOut,delay:e+(Application.introDone?0:1)+.04*(i.length-s),force3D:!0,opacity:1,y:0,onComplete:function(){t&&0==--r&&t()}})}},e.prototype.animateSpansOut=function(){var t,e=this.el.getElementsByClassName("left")[0].children;if(0<e.length)for(var n=0;n<e.length;n++)t=n,function(){for(var n=e[t],i=n.getElementsByClassName("item"),r=i.length,s=0;s<i.length;s++){var o=i[s];gsap.TweenLite.killTweensOf(o),gsap.TweenLite.to(o,.25*Variables.animTime,{ease:Variables.animEaseOut,delay:.02*(i.length-s),force3D:!0,opacity:0,y:30,onComplete:function(){0==--r&&n.parentNode&&n&&n.parentNode.removeChild(n)}})}}()},e}(BasicAppView)),SliderElementEvents={LOADED:"SliderElementEvents-loaded",ANIMATED_OUT:"SliderElementEvents-animted-out",ANIMATED_IN:"SliderElementEvents-animted-in",ORDER_CHANGED:"SliderElementEvents-order-changed",FIGURE_ANIMATED_IN:"SliderElementEvents-figure-animated-in",FIGURE_ANIMATED_OUT:"SliderElementEvents-figure-animated-out"},SliderElement=function(){function t(t){this.left=0,this.right=0,this.center=0,this.paddingLeft=0,this._elementWidth=0,this._inView=!1,this.usePadding=!1,this.maxPadding=0,this.scrollDirection=0,this.onElementImgLoaded=function(t){return function(e){t.classList.remove("lazyload"),t.parentNode.parentNode.getElementsByClassName("exoskelet")[0].classList.add("invisible")}},this.el=t.el,this.controller=t.controller,this.contentIndex=t.index,this.buildIndex=t.index,this.usePadding=t.usePadding,this.isFirstCreatedElement=t.isFirstCreatedElement,this.limitPaddingToFirstChild=t.limitPaddingToFirstChild,this.canAllScale=t.canAllScale,this.bindATags(),this.setWidth(),this.setupFigure(t.shuffle),setTimeout(function(){document.dispatchEvent(new CustomEvent(SliderElementEvents.LOADED))},0)}return Object.defineProperty(t.prototype,"elementWidth",{get:function(){return this._elementWidth+this.paddingLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inView",{get:function(){return this._inView},set:function(t){t&&!this.el.classList.contains("in-view")?this.el.classList.add("in-view"):!t&&this.el.classList.contains("in-view")&&this.el.classList.remove("in-view"),(this._inView=t)||this.figureElement.hide()},enumerable:!0,configurable:!0}),t.prototype.setWidth=function(){if(this.figureElement){this.figureElement.onWindowResize();var t=0;if(this.el.getElementsByClassName("case-elements")[0])t=this.figureElement.getWidth(),this._elementWidth=t;else{for(var e=this.el.getElementsByClassName("bunk-element"),n=0;n<e.length;n++)t+=e[n].offsetWidth;var i=.2*window.innerWidth;this._elementWidth=t+(this.isAbsolutlyFirstChildWithPadding()?0:i)}this._elementWidth=Math.max(700,this._elementWidth),this.el.style.minWidth=this._elementWidth+"px"}},t.prototype.updateX=function(){if(this.inView){var t=this.left+this.paddingLeft;this.figureElement.setX(t)}},t.prototype.calcX=function(t){this.left=t,this.usePadding&&this.calcPaddingLeft(),this.right=this.left+this.elementWidth,this.center=this.left+.5*this.elementWidth,this.centerFromScreenPercent=this.center/window.innerWidth,this.leftFromScreenPercent=(this.left+this.paddingLeft)/window.innerWidth,this.figureElement&&(this.isAbsolutlyFirstChildWithPadding()?this.figureElement.onXUpdate(this.leftFromScreenPercent,this.left+this.paddingLeft,this.maxPadding):this.figureElement.onXUpdate(this.centerFromScreenPercent,this.left+this.paddingLeft,this.maxPadding,this.canAllScale)),this.centerFromScreenPercent=Math.min(1,Math.max(0,this.centerFromScreenPercent)),this.leftFromScreenPercent=Math.min(1,Math.max(0,this.leftFromScreenPercent))},t.prototype.isAbsolutlyFirstChildWithPadding=function(){return this.limitPaddingToFirstChild&&this.isFirstCreatedElement},t.prototype.calcPaddingLeft=function(){if(this.limitPaddingToFirstChild&&!this.isFirstCreatedElement)this.paddingLeft=0;else{var t=1.15*this.maxPadding;this.paddingLeft=Math.min(1,Math.max(0,1-this.left/t)),this.paddingLeft*=this.maxPadding}},t.prototype.unbindATags=function(){if(this.anchorEls){for(var t=0;t<this.anchorEls.length;t++)this.anchorEls[t].removeEventListener("click",this.clickCallback,!0);this.clickCallback=null}},t.prototype.bindATags=function(){if(this.unbindATags(),this.anchorEls=this.el.querySelectorAll("a[target=_self]"),this.anchorEls&&0<this.anchorEls.length){this.clickCallback=this.onClick.bind(this);for(var t=0;t<this.anchorEls.length;t++)this.anchorEls[t].addEventListener("click",this.clickCallback,!0)}},t.prototype.onClick=function(t){t.stopPropagation(),t.preventDefault(),t.currentTarget.blur();var e=window.app.scrollController.yTarget-ScrollController.maxMin,n=Math.abs(e)<10;if(this.isAbsolutlyFirstChildWithPadding()&&n)document.dispatchEvent(new CustomEvent(SliderUIEvents.MENU_BUTTON_CLICK,{detail:!0}));else{
FigureElementForBunk.esID=t.currentTarget.getAttribute("data-id"),this.controller.setElementInFocus(this);var i=Helper.checkAppHREF(t.currentTarget.getAttribute("href"));Router.navigate(i)}},t.prototype.setupFigure=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.figureElement&&(this.figureElement.dealloc(),this.figureElement=null),0<this.el.getElementsByClassName("bunk-element").length?this.figureElement=new FigureElementForBunk({el:this.el,canAnimatedIn:e,sliderElement:this,controller:this.controller,isFirstBunkWithPadding:this.isAbsolutlyFirstChildWithPadding()}):(this.figureElement=new FigureElementForCase({el:this.el,shuffle:t,sliderElement:this,controller:this.controller}),-1===[PageTypes.PROJECT,PageTypes.CLIENTS,PageTypes.HOME].indexOf(window.app.router.oldPageType)||-1!==[PageTypes.CONTACT].indexOf(window.app.router.pageType)?this.animateIn():document.dispatchEvent(new CustomEvent(SliderElementEvents.ANIMATED_IN)))},t.prototype.animateIn=function(){var t=this,e=(1-Variables.getPaddingRatio())*window.innerWidth;gsap.TweenLite.set(this.el,{force3D:!0,x:e});var n=window.app.router.pageType===PageTypes.CONTACT;Variables.isMobile&&n?setTimeout(function(){return function(){0===t.buildIndex&&document.dispatchEvent(new CustomEvent(SliderElementEvents.ANIMATED_IN))}},0):gsap.TweenLite.to(this.el,Variables.animTime,{force3D:!0,ease:Variables.animEaseInOut,delay:.5,x:0,onComplete:function(){0===t.buildIndex&&document.dispatchEvent(new CustomEvent(SliderElementEvents.ANIMATED_IN))}})},t.prototype.updateContent=function(t,e,n){this.contentIndex=e,this.isFirstCreatedElement=n,this.el!=t&&this.el.parentNode&&(this.el.parentNode.replaceChild(t,this.el),this.el=t,this.setupFigure(!1,0!==this.left),this.bindATags());var i=this.el.classList.contains("bunk--type-aa")||this.el.classList.contains("bunk--type-a"),r=window.app.router.pageType===PageTypes.CLIENTS;i&&r&&(this.el.classList.remove("bunk--type-aa"),this.el.classList.add("bunk--type-a")),i&&(this.isFirstCreatedElement&&this.limitPaddingToFirstChild&&-1==this.scrollDirection&&(this.el.classList.add("bunk--type-aa"),this.el.classList.remove("bunk--type-a")),this.limitPaddingToFirstChild&&1==this.scrollDirection&&(this.el.classList.remove("bunk--type-aa"),this.el.classList.add("bunk--type-a"))),this.setWidth(),this.onWindowResize()},t.prototype.lazyLoadImages=function(){var t=this;setTimeout(function(){for(var e=t.el.getElementsByClassName("lazyload"),n=0;n<e.length;n++){var i=e[n],r=i.getAttribute("data-src"),s=i.getAttribute("data-srcset");r&&s?(i.setAttribute("src",r),i.setAttribute("srcset",s),i.removeAttribute("data-src"),i.removeAttribute("data-srcset"),i.addEventListener("load",t.onElementImgLoaded(i),!1),i.complete&&t.onElementImgLoaded(i)):i.classList.remove("lazyload")}},0)},t.prototype.animateOut=function(t){var e=this;this.el.removeEventListener("click",this.clickCallback,!0),this.figureElement.animateOut(t,function(){document.dispatchEvent(new CustomEvent(SliderElementEvents.ANIMATED_OUT)),e.dealloc()})},t.prototype.dealloc=function(){this.figureElement&&(this.figureElement.dealloc(),this.figureElement=null),this.unbindATags(),this.anchorEls=null,this.el=null},t.prototype.onWindowResize=function(){this.lazyLoadImages(),this.el.style.height=window.innerHeight+"px",this.setWidth(),this.figureElement&&this.figureElement.onWindowResize();var t=Variables.getPaddingRatio();this.maxPadding=window.innerWidth*t,this.usePadding&&this.calcPaddingLeft()},t.prototype.orderChangedSoChangeContent=function(t){this.onWindowResize(),this.scrollDirection=t,document.dispatchEvent(new CustomEvent(SliderElementEvents.ORDER_CHANGED,{detail:this}))},t.MIN_WIDTH=760,t}(),FigureElementForBunk=function(){function t(e){this.headerVisible=!1,this.hasCurrentLeftBeenSetSoWeCanAnimateIn=!1,this.animatingIn=!1,this.isFirstBunkWithPadding=!1,this.mouseMove=0,this.canAnimatedIn=!0,this.el=e.el,this.sliderElement=e.sliderElement,this.controller=e.controller,this.isFirstBunkWithPadding=e.isFirstBunkWithPadding,this.canAnimatedIn=!1!==e.canAnimatedIn,this.onFigureAnchorClickCallback=this.onAnchorClick.bind(this),this.onElAnimatedCallback=this.onElAnimated.bind(this),this.el.addEventListener(relax.animation.getTransitionEndEvent(),this.onElAnimatedCallback,!1),this.elementScales=[],this.elementXs=[],this.mouseMove=t.mouseMoveTarget,this.figures=[].slice.call(this.el.getElementsByTagName("figure"));for(var n=0;n<this.figures.length;n++){var i=this.figures[n];parseInt(window.getComputedStyle(i).getPropertyValue("height"))>window.innerHeight&&(i.style.height=window.innerHeight+"px"),i.addEventListener("click",this.onFigureAnchorClickCallback,!1);var r=window.getComputedStyle(i);parseInt(r.getPropertyValue("height"),10)==window.innerHeight&&(i.classList.add("header-open-scale-item"),"auto"===r.getPropertyValue("right")?i.classList.add("left-aligned"):"auto"===r.getPropertyValue("left")&&i.classList.add("right-aligned")),i.style.display="block";var s=i.getElementsByClassName("bunk-element--inner")[0],o=s.getBoundingClientRect().height;s.setAttribute("ratio",(o/Variables.getWindowInnerHeight()*1).toString())}ScrollController.customScrollEnabled&&(this.onMouseMoveCallback=this.onMouseMove.bind(this),document.addEventListener("mousemove",this.onMouseMoveCallback,!1))}return t.prototype.onAnchorClick=function(t){t.currentTarget.style.zIndex="100"},t.setInScrollMode=function(e){e!==t.inScaleMode&&((t.inScaleMode=e)?document.getElementById("scroll-list").classList.add("disable"):document.getElementById("scroll-list").classList.remove("disable"))},t.prototype.reset=function(){this.currentLeft=0,this.mouseMove=0,this.elementScales=[],this.elementXs=[]},t.prototype.hide=function(){},t.prototype.setX=function(t){gsap.TweenLite.set(this.el,{force3D:!0,x:t})},t.prototype.onMouseMove=function(e){var n=this;if(e){var i=window.relax.geom.getXYFromMouseTouchEvent(e);t.mouseMoveTarget=i.x/window.innerWidth,this.rAf||(this.rAf=requestAnimationFrame(function(){return n.render()}))}},t.prototype.render=function(){var e=this;if(!this.animatingOut){this.rAf&&cancelAnimationFrame(this.rAf);var n=this.headerVisible?.5:t.mouseMoveTarget;this.animatingOut||this.animatingIn||(this.mouseMove+=.15*(n-this.mouseMove));for(var i=0,r=0;r<this.elementScales.length;r++){var s=this.elementScales[r];s.scale+=.3*(s.scaleTarget-s.scale),gsap.TweenLite.set(this.figures[r],{force3D:!0,scale:s.scale})}var o=!1;for(0===this.elementXs.length&&this.setxx(),r=0;r<this.elementXs.length;r++){var a=this.figures[r],l=a.getElementsByClassName("bunk-element--inner")[0],c=a.getElementsByClassName("image")[0],h=this.elementXs[r];h.x+=(0-h.x)*h.speed;var u=Number(l.getAttribute("ratio")),d=0;if(!Variables.isMobile&&(d=-100*(this.mouseMove-.5)*u,this.elementScales[r]&&this.isFirstBunkWithPadding&&0===r)){var p=1-Math.min(1,(this.elementScales[r].scale-1)/.8);d*=p,o=p<.1,this.elementScales[r].scale-1<.02?a.classList.remove("scaling"):a.classList.add("scaling")}var f=h.x+d;gsap.TweenLite.set(c,{force3D:!0,x:f}),i+=0-h.x}this.isFirstBunkWithPadding&&t.setInScrollMode(o),Math.abs(i)<.02&&!this.animatingIn&&Math.abs(this.mouseMove-n)<=.001?this.rAf=null:this.rAf=requestAnimationFrame(function(){return e.render()})}},t.prototype.onElAnimated=function(t){"height"===t.propertyName&&this.el.classList.remove("animating")},t.prototype.setxx=function(){for(var t=window.app.scrollController,e=0;e<this.figures.length;e++){var n=this.figures[e].getElementsByClassName("bunk-element--inner")[0],i=Number(n.getAttribute("ratio"));if(!this.elementXs[e]){var r=8*i*.1;this.elementXs[e]={x:t.yAcceleration,speed:r}}this.elementXs[e].x=t.yAcceleration}},t.prototype.onXUpdate=function(t,e,n,i){if(void 0===i&&(i=!1),this.currentLeft=e,!this.animatingOut&&!this.animatingIn){window.app.scrollController;var r=Variables.getWindowInnerHeight();this.setxx();for(var s=0;s<this.figures.length;s++){var o=this.figures[s].getElementsByClassName("bunk-element--inner")[0],a=Number(o.getAttribute("ratio"))*r;if(this.isFirstBunkWithPadding&&0===s){var l=r/a,c=t/Variables.getPaddingRatio()*l;this.elementScales[s]||(this.elementScales[s]={scale:Math.max(1,c),scaleTarget:Math.max(1,c)}),this.elementScales[s].scaleTarget=Math.max(1,c)}}this.hasCurrentLeftBeenSetSoWeCanAnimateIn||(this.hasCurrentLeftBeenSetSoWeCanAnimateIn=!0,this.animateIn(this.canAnimatedIn)),this.rAf||this.render()}},t.prototype.animateIn=function(e){var n=this;void 0===e&&(e=!1),this.animatingIn=!0;var i=0,r=function(){--i<=0&&(n.animatingIn=!1,document.dispatchEvent(new Event(SliderElementEvents.FIGURE_ANIMATED_IN)))};this.setxx();for(var s=Application.checkForIntro(),o=this.currentLeft,a=function(n){var a=e?0:.1*n,c=l.figures[n],h=c.getElementsByClassName("bunk-element--inner")[0],u=c.getBoundingClientRect().left;if(l.isInView=0<=o+u&&o+u<=Math.max(window.innerWidth,420),h.classList.add("show"),l.isInView||s&&l.isFirstBunkWithPadding)if(l.isFirstBunkWithPadding){var d=h.getElementsByClassName("image--outer")[0],p=d.getElementsByTagName("img")[0];if(s){var f=!1,g=!1,m=0,v=function(){f?(clearTimeout(m),SliderInfo.instance.introWantsToAnimateIn(function(){gsap.TweenLite.to(d,1.25*Variables.animTime,{ease:Variables.animEaseInOut,force3D:!0,delay:a,x:0,onComplete:function(){r()}})})):g=!0};m=setTimeout(function(){f=!0,g&&v()},2e3),0===n&&(gsap.TweenLite.set(d,{force3D:!0,x:window.innerWidth*Variables.getLowerEndPaddingRatio()*.75}),p.complete?v():(window.NProgress.start(),p.addEventListener("load",function(){v()})))}else gsap.TweenLite.set(d,{force3D:!0,x:window.innerWidth-window.innerWidth*Variables.getPaddingRatio()}),gsap.TweenLite.to(d,Variables.animTime,{ease:Variables.animEaseOut,force3D:!0,delay:a,x:0,onComplete:function(){r()}})}else{i++,u=window.innerWidth,gsap.TweenLite.set(h,{force3D:!0,x:u,opacity:1});var _=Number(h.getAttribute("ratio")),y=window.innerWidth<=768?0:-100*(t.mouseMoveTarget-.5)*_;gsap.TweenLite.to(h,e?0:Variables.animTime,{ease:Variables.animEaseInOut,force3D:!0,x:y,delay:a,onComplete:function(){r()}})}},l=this,c=0;c<this.figures.length;c++)a(c);0==i&&(this.animatingIn=!1)},t.prototype.animateOut=function(t,e){this.animatingIn=!1,this.animatingOut=!0;var n=window.app.router.pageType===PageTypes.PROJECT;if(t&&n)this.animateOutByScalingToCasePosition(e);else{for(var i=this.currentLeft,r=!1,s=0,o=0;o<this.figures.length;o++){var a=this.figures[o],l=a.getElementsByClassName("image--outer")[0],c=l.offsetWidth,h=(a.getElementsByClassName("bunk-element--inner")[0],a.offsetLeft),u=a.getElementsByClassName("image")[0],d=i+h+ +window.getComputedStyle(a).transform.split(", ")[4],p=(d+=+window.getComputedStyle(u).transform.split(", ")[4])+c;if(0<p&&d<window.innerWidth){s++,r=!0;var f=window.innerWidth-d,g=f,m=f/window.innerWidth*.5;gsap.TweenLite.to(l,Variables.animTime*m,{ease:Variables.animEaseInOut,force3D:!0,x:g,onComplete:function(){0==--s&&e()}})}}r||setTimeout(e,0)}},t.prototype.animateOutByScalingToCasePosition=function(e){var n=t.esID;n&&(n=n.toLowerCase(),this.figures=this.figures.sort(function(t,e){var i=t.getElementsByClassName("bunk-element--inner")[0],r=e.getElementsByClassName("bunk-element--inner")[0];return i.getAttribute("data-id").toLowerCase()===n?-1:r.getAttribute("data-id").toLowerCase()===n?1:0}));for(var i=0;i<this.figures.length;i++){var r=this.figures[i],s=i===this.figures.length-1?e:null,o=r.getElementsByClassName("bunk-element--inner")[0],a=o.getElementsByClassName("exoskelet")[0],l=o.getElementsByClassName("image")[0],c=0===i?window.innerWidth*Variables.getPaddingRatio():window.innerWidth,h=r.getBoundingClientRect().left,u=Variables.getWindowInnerHeight()/a.getBoundingClientRect().height,d=c-h;d+=.5*window.innerWidth*i,gsap.TweenLite.to(l,.75*Variables.animTime,{ease:Variables.animEaseInOut,force3D:!0,x:0}),gsap.TweenLite.to(o,.75*Variables.animTime,{ease:Variables.animEaseInOut,force3D:!0,x:d,scale:u,onComplete:s})}},t.prototype.onWindowResize=function(){this.reset();for(var t=this.el.getElementsByClassName("bunk-element"),e=0;e<t.length;e++){var n=t[e],i=n.offsetHeight,r=n.getElementsByClassName("exoskelet")[0],s=parseInt(r.getAttribute("data-width"),10),o=parseInt(r.getAttribute("data-height"),10);r.style.height=i+"px",r.style.width=s/o*i+"px"}},t.prototype.dealloc=function(){t.setInScrollMode(!1),this.el.removeEventListener(relax.animation.getTransitionEndEvent(),this.onElAnimatedCallback,!1),this.onElAnimatedCallback=null,this.onMouseMoveCallback&&(document.removeEventListener("mousemove",this.onMouseMoveCallback,!1),this.onMouseMoveCallback=null),this.rAf&&cancelAnimationFrame(this.rAf);for(var e=0;e<this.figures.length;e++)this.figures[e].removeEventListener("click",this.onFigureAnchorClickCallback,!1);this.onFigureAnchorClickCallback=null,this.rAf=null,this.elementScales=null,this.figures=null},t.mouseMoveTarget=0,t.inScaleMode=!1,t}(),FigureElementForCase=function(){function t(t){this.currentLeft=0,this.el=t.el,this.shuffleElements=t.shuffle,FigureElementForBunk.esID=void 0}return t.prototype.hide=function(){for(var t=0;t<this.elementVectors.length;t++)this.elementVectors[t],this.caseElements2[t].classList.remove("visible")},t.prototype.getWidth=function(){return this.el.offsetWidth},t.prototype.setX=function(t){for(var e=0;e<this.elementVectors.length;e++){var n=this.elementVectors[e];0<n.right+t&&n.left+t<window.innerWidth?(this.caseElements2[e].classList.contains("visible")||this.caseElements2[e].classList.add("visible"),gsap.TweenLite.set(this.caseElements2[e],{force3D:!0,x:t})):this.caseElements2[e].classList.contains("visible")&&this.caseElements2[e].classList.remove("visible")}},t.prototype.render=function(){var t=this;this.rAf&&cancelAnimationFrame(this.rAf);for(var e=window.app.scrollController,n=0,i=0;i<this.elementScales.length;i++){var r=this.elementScales[i];r.scale+=.3*(r.target-r.scale),n+=r.target-r.scale,gsap.TweenLite.set(this.caseElementsImages[i],{force3D:!0,scale:Math.min(1,Math.max(.5,r.scale))}),!e.scrollingTo&&e.position<0&&(.99<Math.abs(r.scale)?this.caseElements[i].classList.contains("scaled-up")||this.caseElements[i].classList.add("scaled-up"):this.caseElements[i].classList.contains("scaled-up")&&this.caseElements[i].classList.remove("scaled-up"))}this.rAf=n<.05?null:requestAnimationFrame(function(){return t.render()})},t.prototype.onXUpdate=function(t,e,n,i){if(void 0===i&&(i=!1),this.currentLeft=e,!Variables.isMobile){for(var r=window.innerWidth,s=r*Variables.getLowerEndPaddingRatio(),o=r*Variables.getPaddingRatio(),a=r-o,l=0;l<this.elementVectors.length;l++){this.caseElements[l];var c=this.elementVectors[l],h=c.left+e,u=h+c.width,d=1;if(o<h&&(0<l||i)){var p=0,f=r-h;d=relax.math.lerp(f/a,p,1)}else u<s&&(p=.25,d=relax.math.lerp(u/s,p,1));this.elementScales[l]||(this.elementScales[l]={scale:d,target:d}),this.elementScales[l].target=Math.max(0,Math.min(1,d))}this.rAf||this.render()}},t.prototype.animateIn=function(){},t.prototype.animateOut=function(t,e){for(var n=this,i=0,r=0;r<this.caseElements.length;r++)this.caseElements[r].parentNode.classList.contains("visible")&&i++;var s=function(t){var r,s,a,l,c=o.caseElements[t];r=t+1,s=n.elementVectors[t].left+n.currentLeft,a=window.innerWidth-s,l=a/window.innerWidth,l*=.2,gsap.TweenLite.to(c,.5*Variables.animTime,{ease:Variables.animEaseInOut,force3D:!0,x:a,delay:Math.abs(l),onComplete:function(){r===i&&e()}})},o=this;for(r=0;r<this.elementVectors.length;r++)s(r);0===i&&setTimeout(function(){return e()},0)},t.prototype.onWindowResize=function(){var t=window.innerHeight;this.elementVectors=[],this.elementScales=[],this.caseElements=[],this.caseElements2=[],this.caseElementsImages=[];var e=this.el.getElementsByClassName("case-element");if(e=[].slice.call(e),this.shuffleElements){var n=e[Math.floor(Math.random()*e.length)];e[0].parentNode.insertBefore(n,e[0])}for(var i=0;i<e.length;i++){var r=e[i],s=r.getElementsByClassName("exoskelet")[0],o=parseInt(s.getAttribute("data-width"),10),a=parseInt(s.getAttribute("data-height"),10);r.style.height=t+"px",o=o/a*t,r.style.width=o+"px";var l=o,c=r.offsetLeft;this.elementVectors.push({left:c,width:l,center:c+.5*l,right:c+l}),this.caseElements2.push(r),this.caseElements.push(r.getElementsByClassName("case-element--inner")[0]),this.caseElementsImages.push(r.getElementsByClassName("image--outer")[0])}if(Variables.isMobile)for(i=0;i<this.caseElements.length;i++)this.caseElements[i].setAttribute("visible","visible")},t.prototype.dealloc=function(){this.rAf&&cancelAnimationFrame(this.rAf),this.rAf=null,this.elementScales=null,this.elementVectors=null},t}(),SliderContentView=(__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){function e(e){var n=t.call(this,e)||this;return n._visible=!1,setTimeout(function(){n.visible=!0},e.type===PageTypes.EXPLORE?1e3:0),n}return __extends(e,t),e.prototype.clear=function(){this.el.parentElement.removeChild(this.el)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this._visible?this.el.classList.add("animate-in"):this.el.classList.remove("animate-in")},enumerable:!0,configurable:!0}),e.prototype.animateOut=function(){this.visible=!1},e.prototype.onResize=function(t){},e.prototype.dealloc=function(){t.prototype.dealloc.call(this)},e}(BasicAppView)),SliderElementsEvents=(__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),{FOCUS_INDEX_UPDATE:"SliderElementsEvents-FOCUS_INDEX_UPDATE",DATASET_INDEX_UPDATE:"SliderElementsEvents-FOCUS_INDEX_UPDATE",ELEMENTS_BUILD:"SliderElementsEvents-ELEMENTS_BUILD"}),SliderElements=function(t){function e(e){var n=t.call(this,e)||this;return n._hasScrolled=!1,n.visibleElements=0,n._focusIndex=0,n.datasetIndex=0,n.datasetMinIndex=0,n.datasetMaxIndex=0,n.bump=0,n.bumpIndex=0,n.totalSlideWidth=0,n.numberItemsToAnimateOut=0,n.ignorePageChange=!1,n.viewportVector={left:0,right:0,x:0},new SliderInfo({el:document.getElementById("slider-info")}),n.infinite=e.infinite,n.scrollListEl=document.getElementById("scroll-list"),document.addEventListener(SliderElementEvents.LOADED,function(){n.onResize(null)}),document.addEventListener(RouterExtensionEvents.PRE_FETCH,n.onPreFetch.bind(n)),document.addEventListener(ScrollControllerEvents.SCROLLED,n.onScrolled.bind(n)),document.addEventListener(SliderElementEvents.ORDER_CHANGED,n.onElementOrderUpdate.bind(n)),document.addEventListener(SliderUIEvents.MENU_BUTTON_CLICK,n.onSliderUINavButtonClick.bind(n)),document.addEventListener(SliderElementEvents.ANIMATED_OUT,function(){n.numberItemsToAnimateOut--,window.app.router.pageType,0===n.numberItemsToAnimateOut&&n.setupNewElements()}),n}return __extends(e,t),e.prototype.onPreFetch=function(t){var e=window.app.page.el.getAttribute("page-id");this.previousPageId=e,window.app.router.pageType===PageTypes.CONTACT&&this.removeElements()},Object.defineProperty(e.prototype,"hasScrolled",{set:function(t){this._hasScrolled!=t&&(this._hasScrolled=t,this._hasScrolled?this.el.classList.add("scrolled"):this.el.classList.remove("scrolled"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numElements",{get:function(){return this.dataset.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusIndex",{get:function(){return this._focusIndex},set:function(t){this._focusIndex==t||this.preventFocusIndexUpdate||(this._focusIndex=t,this.onFocusIndexChanged())},enumerable:!0,configurable:!0}),e.prototype.setElementInFocus=function(t){this.preventFocusIndexUpdate=!0,this.elementInFocus=t},e.prototype.setX=function(t){this.render(t)},e.prototype.update=function(t){var e=window.app.router.pageType,n=[PageTypes.HOME,PageTypes.CLIENTS,PageTypes.PROJECT,PageTypes.EXPLORE_RESULT,PageTypes.CONTACT];this.ignorePageChange&&e!==PageTypes.PROJECT&&(this.ignorePageChange=!1),this.infinite=e!==PageTypes.CONTACT&&e!==PageTypes.EXPLORE_RESULT,-1!=n.indexOf(e)?(this.numberItemsToAnimateOut=0,this.removeElements(),0===this.numberItemsToAnimateOut&&this.setupNewElements()):this.removeElements()},e.prototype.getCurrentDataset=function(){return this.dataset[this.focusIndex]},e.prototype.reset=function(){if(this.elements&&this.elements.sort(function(t,e){return t.buildIndex<e.buildIndex?-1:t.buildIndex>e.buildIndex?1:0}),this.ignorePageChange=!1,this._focusIndex=0,this.datasetMinIndex=0,this.datasetMaxIndex=Math.min(2,this.dataset.length),this.datasetIndex=0,this.bumpIndex=0,this.bump=0,this.totalSlideWidth=0,this.elements)for(var t=0;t<this.elements.length;t++){var e=this.elements[t],n=this.dataset[t];e.updateContent(n,t,0===t&&0===this.bumpIndex)}},e.prototype.render=function(t){if(!this.preventFocusIndexUpdate&&this.elements&&this.el){var e=window.innerWidth,n=window.app.scrollController.scrollYDirection,i=this.elements.slice(),r=0,s=Variables.getPaddingRatio();if(this.pos=t,this.hasScrolled=t<-2,this.infinite)for(var o=0;o<this.elements.length;o++)(u=this.elements[o]).left+u.elementWidth<0&&1===n?(this.bump+=u.elementWidth,this.bumpIndex++,ScrollController.maxMin=0,i.push(i.shift()),u.orderChangedSoChangeContent(n)):u.left+u.elementWidth>this.totalSlideWidth&&0<this.totalSlideWidth&&-1===n&&(this.elementInFocus.limitPaddingToFirstChild||(this.bump-=this.elementInFocus.paddingLeft),i.unshift(i.pop()),u.orderChangedSoChangeContent(n),this.bump-=u.elementWidth,this.bumpIndex--,u.isAbsolutlyFirstChildWithPadding()&&(this.bump-=e*s)),ScrollController.maxMin=0===this.bumpIndex?-1*this.bump:0;else for(o=0;o<this.elements.length;o++)r+=(u=this.elements[o]).elementWidth;this.elements=i,this.totalSlideWidth=0,this.infinite||(ScrollController.minMin=-1*(r-e));var a,l=t,c=0,h=0;for(o=0;o<this.elements.length;o++){var u=this.elements[o];0==o?u.calcX(l+this.bump):u.calcX(l+c+this.bump);var d=0<u.right&&u.left<e,p=Math.min(e,u.right)-Math.max(0,u.left);u.inView=!!d&&(h<p&&(a=u,h=p),!0),c+=u.elementWidth,this.totalSlideWidth=c}if(!this.preventFocusIndexUpdate)for(o=0;o<this.elements.length;o++)(u=this.elements[o])==a&&(this.elementInFocus=a,this.focusIndex=u.contentIndex);for(o=0;o<this.elements.length;o++)(u=this.elements[o]).updateX()}},e.prototype.onScrolled=function(t){},e.prototype.onSliderUINavButtonClick=function(t){var e=window.app.scrollController,n=t.detail?this.viewportVector.x+1:this.viewportVector.x-1,i=window.innerHeight*Variables.getLowerEndPaddingRatio(),r=0;1===n?r=0===this.elementInFocus.contentIndex&&this.elementInFocus.isAbsolutlyFirstChildWithPadding()&&1.1*e.position>-1*this.elementInFocus.paddingLeft?-1*this.elementInFocus.paddingLeft:-1*this.elementInFocus.right:-1===n&&(r=-1*(this.elementInFocus.left-window.innerWidth)),r+=i,e.addToTarget(r)},e.prototype.onFocusIndexChanged=function(){if(window.app.router.pageType===PageTypes.PROJECT){var t=Helper.checkAppHREF(this.elementInFocus.el.getElementsByClassName("slide-element--inner")[0].getAttribute("href"));this.ignorePageChange=!0,RouterExtension.ignorePageLoading=!0,Router.navigate(t)}document.dispatchEvent(new CustomEvent(SliderElementsEvents.FOCUS_INDEX_UPDATE,{detail:this}))},e.prototype.setupNewElements=function(){var t=this;this.preventFocusIndexUpdate=!1,!this.ignorePageChange&&this.el&&this.el.classList.remove("ready");var e=window.app.page.el.getElementsByClassName("slide-elements-list")[0];if(e&&e.parentElement){var n=window.app.router.pageType;if(!this.ignorePageChange){if(n===PageTypes.PROJECT&&FigureElementForBunk.esID){var i=[].slice.call(e.getElementsByClassName("case-element")),r=i[0].parentNode;i.every(function(t,e){if(t.getAttribute("data-id").toLowerCase()!==FigureElementForBunk.esID.toLowerCase())return!0;var n=[].slice.call(t.getElementsByTagName("img"));return t.getElementsByClassName("exoskelet")[0].classList.add("hide"),n.forEach(function(t){t.getAttribute("data-src")&&(t.setAttribute("src",t.getAttribute("data-src")),t.setAttribute("srcset",t.getAttribute("data-srcset")))}),r&&r.prepend(t),!1})}e.setAttribute("page-type",n);var s=this.el;this.scrollListEl.appendChild(e),this.setEl(this.evalElAndBuildDataset(e)),this.buildElements(),this.render(0),setTimeout(function(){s&&t.scrollListEl.removeChild(s)},0)}}},e.prototype.evalElAndBuildDataset=function(t){var e=this,n=[].slice.call(t.getElementsByClassName("slide-element")),i=0;if(this.previousPageId&&(n.forEach(function(t,n){t.getAttribute("data-id")===e.previousPageId&&(i=n)}),0<i)){var r=n.slice(i,n.length);n=n.slice(0,i),n=r.concat(n)}return this.dataset=[].slice.call(n),this.datasetMinIndex=0,this.datasetMaxIndex=Math.min(2,this.dataset.length),n.forEach(function(e,n){(n<i||i+2<n)&&t.removeChild(e)}),t},e.prototype.onElementOrderUpdate=function(t){if(!(this.preventFocusIndexUpdate||this.dataset.length<=e.MIN_NUMBER_OF_ITEMS)){var n=t.detail,i=window.app.scrollController.scrollYDirection;if(i){this.datasetMinIndex+=i,this.datasetMaxIndex+=i,this.datasetMaxIndex<0&&(this.datasetMaxIndex=this.dataset.length-1),this.datasetMinIndex<0&&(this.datasetMinIndex=this.dataset.length-1),this.datasetMinIndex=Math.abs(this.datasetMinIndex%this.dataset.length),this.datasetMaxIndex=Math.abs(this.datasetMaxIndex%this.dataset.length),this.datasetIndex=1==i?this.datasetMaxIndex:this.datasetMinIndex;var r=this.dataset[this.datasetIndex];n.updateContent(r,this.datasetIndex,0===this.datasetIndex&&this.bumpIndex<=1)}}},e.prototype.buildElements=function(){this.elements=[];var t=window.app.router.pageType,n=t==PageTypes.HOME||t==PageTypes.CONTACT,i=t==PageTypes.EXPLORE_RESULT,r=t==PageTypes.CONTACT,s=t===PageTypes.PROJECT,o=i||n,a=[].slice.call(this.el.getElementsByClassName("slide-element"));this.visibleElements=Math.min(e.MIN_NUMBER_OF_ITEMS,a.length);for(var l=0;l<a.length;l++){var c=a[l];this.elements.push(new SliderElement({el:c,controller:this,shuffle:r,index:l,canAllScale:i,isFirstCreatedElement:0===l,usePadding:o&&0===l||s,limitPaddingToFirstChild:o}))}this.onResize(null),document.dispatchEvent(new CustomEvent(SliderElementsEvents.ELEMENTS_BUILD,{detail:this}))},e.prototype.removeElements=function(){if(this.elements&&!this.ignorePageChange){this.numberItemsToAnimateOut=this.elements.length;for(var t=0;t<this.elements.length;t++){var e=this.elements[t];e.animateOut(this.elementInFocus===e)}this.elements=null}},e.prototype.onResize=function(t){if(this.el){this.centerVector=new relax.Vector2d(.5*window.innerWidth,0),this.reset();for(var e=0;e<this.elements.length;e++)this.elements[e].onWindowResize();this.render(0),this.el.classList.add("ready")}},e.MIN_NUMBER_OF_ITEMS=3,e}(BasicAppView),_this=this,helper={setTransform:function(t,e){t.style.webkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.OTransform=e,t.style.transform=e}},ApplicationEvents={INTRO_DONE:"ApplicationEvents-intro-done",PAGE_APPENDED:"ApplicationEvents-PAGE_APPENDED"},Application=function(){function t(){var t=this;Variables.init(),window.gsap=window._gsScope,Variables.isLocalhost,Variables.isMobile,-1!=relax.browser.getInternetExplorerVersion()&&document.documentElement.classList.add("ie"+relax.browser.getInternetExplorerVersion()),relax.browser.isTouch()&&(relax.browser.isMobile()||relax.browser.isTablet())?(document.documentElement.classList.add("touch"),document.addEventListener("touchmove",function(t){t.preventDefault()})):(document.documentElement.classList.add("no-touch"),new MouseFollow),history&&history.scrollRestoration&&(history.scrollRestoration="manual");var e={scrollContext:window};this.stageModel=new relax.StageModel(e),this.router=new RouterExtension,document.addEventListener(RouterExtensionEvents.FETCHED,this.handleNewPage.bind(this),!1),this.setupUI(),this.setupGUI(),setTimeout(function(){t.stageModel.bind(relax.StageModel.RESIZE,t.resize,t,!0)},0)}return t.checkForIntro=function(){var e=!1;return t.introChecked||(e=!0),t.introChecked=!0,e},t.onIntroStart=function(){document.body.classList.add("intro-started")},t.onIntroDone=function(){t.introDone=!0,document.body.classList.add("intro-done"),document.dispatchEvent(new CustomEvent(ApplicationEvents.INTRO_DONE,{}))},t.prototype.handleNewPage=function(e){var n,i=this,r=e.detail;t.introChecked||r.pageType!==PageTypes.HOME&&(t.checkForIntro(),t.onIntroStart(),t.onIntroDone());try{window.gtag("config","GTM-P25KJWDR",{page_title:r.pageType,page_path:window.location.pathname})}catch(e){}var s=r.pageType===PageTypes.PROJECT&&r.pageType===r.oldPageType;r.isInitialState?n=document.getElementById("app-page").getElementsByTagName("main")[0]:(n=r.element,s||document.getElementById("app-page").appendChild(n)),n.setAttribute("page-type",r.pageType),s||(this.page?this.page.animateOut(function(){i.page.dealloc(),i.buildNewPage(r.pageType,n)}):this.buildNewPage(r.pageType,n)),document.dispatchEvent(new CustomEvent(ApplicationEvents.PAGE_APPENDED,{}))},t.prototype.buildNewPage=function(t,e){switch(this.page&&(this.page.type===PageTypes.PROJECT||this.page.type===PageTypes.HOME)||t!==PageTypes.PROJECT&&PageTypes.HOME,t){case PageTypes.PROJECT:case PageTypes.CONTACT:case PageTypes.DEFAULT:this.page=new SliderContentPage({el:e,type:PageTypes.PROJECT});break;case PageTypes.CLIENTS:this.page=new ClientsPage({el:e,type:PageTypes.CLIENTS});break;case PageTypes.EXPLORE_RESULT:this.page=new ExploreResultPage({el:e,type:PageTypes.EXPLORE});break;case PageTypes.EXPLORE:this.page=new ExplorePage({el:e,type:PageTypes.EXPLORE});break;case PageTypes.HOME:this.page=new ClientsPage({el:e,type:PageTypes.HOME});default:this.page=new BasicPage({el:e,type:PageTypes.HOME})}this.scrollController.handleNewPage();for(var n=document.getElementById("app-page");1<n.children.length;)n.removeChild(n.children[0])},t.prototype.setupUI=function(){this.scrollController=new ScrollController},t.prototype.setupGUI=function(){new HeaderView({el:document.getElementById("header")})},t.prototype.scroll=function(t){},t.prototype.resize=function(t){document.body.style.height=Variables.getWindowInnerHeight()+"px",document.documentElement.style.height=Variables.getWindowInnerHeight()+"px"},t.introDone=!1,t.introChecked=!1,t}();window.startSingle=function(){_this.app||(_this.app=new Application)},setTimeout(function(){"complete"!=document.readyState&&"interactive"!=document.readyState||window.startSingle()},0),document.addEventListener("DOMContentLoaded",function(t){window.startSingle()},!1);